/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 16);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description utility function\r\n */\r\nconst util = {\r\n    _d: document,\r\n    _w: window,\r\n\r\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE'\r\n     */\r\n    zeroWidthSpace: '\\u200B',\r\n\r\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {Object}\r\n     */\r\n    getXMLHttpRequest: function () {\r\n        /** IE */\r\n        if (this._w.ActiveXObject) {\r\n            try {\r\n                return new ActiveXObject('Msxml2.XMLHTTP');\r\n            } catch (e) {\r\n                try {\r\n                    return new ActiveXObject('Microsoft.XMLHTTP');\r\n                } catch (e1) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        /** netscape */\r\n        else if (this._w.XMLHttpRequest) {\r\n            return new XMLHttpRequest();\r\n        }\r\n        /** fail */\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Copies object\r\n     * @param {Object} obj - Object to be copy\r\n     * @returns {Object}\r\n     */\r\n    copyObj: function (obj) {\r\n        const copy = {};\r\n\r\n        for (let attr in obj) {\r\n            copy[attr] = obj[attr];\r\n        }\r\n\r\n        return copy;\r\n    },\r\n\r\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName - Element name\r\n     * @returns {Element}\r\n     */\r\n    createElement: function (elementName) {\r\n        return this._d.createElement(elementName);\r\n    },\r\n\r\n    /**\r\n     * @description Create text node\r\n     * @param {String} text - text contents\r\n     * @returns {Node}\r\n     */\r\n    createTextNode: function (text) {\r\n        return this._d.createTextNode(text || '');\r\n    },\r\n\r\n    /**\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray - File name array\r\n     * @param {String} extension - js, css\r\n     * @returns {String}\r\n     */\r\n    getIncludePath: function (nameArray, extension) {\r\n        let path = '';\r\n        const pathList = [];\r\n        const tagName = extension === 'js' ? 'script' : 'link';\r\n        const src = extension === 'js' ? 'src' : 'href';\r\n        \r\n        let fileName = '(?:';\r\n        for (let i = 0, len = nameArray.length; i < len; i++) {\r\n            fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\r\n        }\r\n\r\n        const regExp = new RegExp('(^|.*[\\\\\\\\\\/])' + fileName + '(\\\\.[^\\\\\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n        const extRegExp = new RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n            \r\n        for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\r\n            if (extRegExp.test(c[i][src])) {\r\n                pathList.push(c[i]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < pathList.length; i++) {\r\n            let editorTag = pathList[i][src].match(regExp);\r\n            if (editorTag) {\r\n                path = editorTag[0];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\r\n\r\n        -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\r\n\r\n        if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\r\n\r\n        return path;\r\n    },\r\n\r\n    /**\r\n     * @description Converts contents into a format that can be placed in an editor\r\n     * @param {String} contents - contents\r\n     * @returns {String}\r\n     */\r\n    convertContentsForEditor: function (contents) {\r\n        let tag, baseHtml, innerHTML = '';\r\n        contents = contents.trim();\r\n\r\n        tag = this._d.createRange().createContextualFragment(contents).childNodes;\r\n\r\n        for (let i = 0, len = tag.length; i < len; i++) {\r\n            baseHtml = tag[i].outerHTML || tag[i].textContent;\r\n\r\n            if (tag[i].nodeType === 3) {\r\n                const textArray = baseHtml.split(/\\n/g);\r\n                let text = '';\r\n                for (let t = 0, tLen = textArray.length; t < tLen; t++) {\r\n                    text = textArray[t].trim();\r\n                    if (text.length > 0) innerHTML += '<P>' + text + '</p>';\r\n                }\r\n            } else {\r\n                innerHTML += baseHtml;\r\n            }\r\n        }\r\n\r\n        const ec = {'&': '&amp;', '\\u00A0': '&nbsp;', '\\'': '&quot;', '<': '&lt;', '>': '&gt;'};\r\n        contents = contents.replace(/&|\\u00A0|'|<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n\r\n        if (innerHTML.length === 0) innerHTML = '<p>' + (contents.length > 0 ? contents : this.zeroWidthSpace) + '</p>';\r\n\r\n        return innerHTML;\r\n    },\r\n\r\n    /**\r\n     * @description Converts HTML string into a format that can be placed in an editor of code view mode\r\n     * @param {String} html - HTML string\r\n     * @returns {String}\r\n     */\r\n    convertHTMLForCodeView: function (html) {\r\n        return html.replace(/\\s*<(?:li|td)\\s*(?:[a-z\\-]+)?\\s*(?:=\"?[^>]*\"?)?\\s*>/gi, this._insertIndent)\r\n                    .replace(/<\\/?(?:blockquote|hr|ol|ul|table|tbody|thead|th|tr)\\s*(?:[a-z\\-]+)?\\s*(?:=\"?[^>]*\"?)?\\s*>(?=[^\\n])/gi, this._insertLineBreak)\r\n                    .replace(/<\\/(?:p|div|h[1-6]|li|td|pre)>(?=[^\\n])/gi, this._insertLineBreak);\r\n    },\r\n\r\n    /**\r\n     * @description Add a line break to the open tag\r\n     * @param {String} matchTag - matched tag string\r\n     * @returns {String}\r\n     */\r\n    _insertIndent: function (matchTag) {\r\n        return '  ' + matchTag.trim();\r\n    },\r\n\r\n    /**\r\n     * @description Add a line breaks to the tags\r\n     * @param {String} matchTag - matched tag string\r\n     * @returns {String}\r\n     */\r\n    _insertLineBreak: function (matchTag) {\r\n        return matchTag + '\\n';\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the edit region top div element.\r\n     * @param {Element} element - The element to check\r\n     * @returns {Boolean}\r\n     */\r\n    isWysiwygDiv: function (element) {\r\n        if (element && element.nodeType === 1 && this.hasClass(element, 'sun-editor-id-wysiwyg')) return true;\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H1-6, LI, CODE)\r\n     * @param {Element} element - The element to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFormatElement: function (element) {\r\n        if (element && element.nodeType === 1 && /^(?:P|DIV|H[1-6]|LI|CODE)$/i.test(element.nodeName) && !/sun-editor-id-comp/.test(element.className)) return true;\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, TABLE, THEAD, TBODY, TH, TR, TD, OL, UL, PRE)\r\n     * * Range format element is wrap the format element  (P, DIV, H1-6, LI, CODE)\r\n     * @param {Element} element - The element to check\r\n     * @returns {Boolean}\r\n     */\r\n    isRangeFormatElement: function (element) {\r\n        if (element && element.nodeType === 1 && /^(?:BLOCKQUOTE|TABLE|THEAD|TBODY|TH|TR|TD|OL|UL|PRE|FIGCAPTION)$/i.test(element.nodeName)) return true;\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @description Get format element of the argument value (P, DIV, H[1-6], LI)\r\n     * @param {Element} element - Reference element if null or no value, it is relative to the current focus node.\r\n     * @returns {Element}\r\n     */\r\n    getFormatElement: function (element) {\r\n        if (!element) return null;\r\n\r\n        while (!this.isFormatElement(element) && !this.isWysiwygDiv(element.parentNode)) {\r\n            element = element.parentNode;\r\n        }\r\n\r\n        if (this.isWysiwygDiv(element) || this.isRangeFormatElement(element)) {\r\n            const firstFormatElement = this.getListChildren(element, function (current) {\r\n                return this.isFormatElement(current);\r\n            }.bind(this))[0];\r\n\r\n            return firstFormatElement;\r\n        }\r\n\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * @description Get range format element of the argument value (blockquote, TABLE, TR, TD, OL, UL, PRE)\r\n     * @param {Element} element - Reference element if null or no value, it is relative to the current focus node.\r\n     * @returns {Element|null}\r\n     */\r\n    getRangeFormatElement: function (element) {\r\n        if (!element) return null;\r\n\r\n        while (!this.isRangeFormatElement(element) && !this.isWysiwygDiv(element)) {\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return this.isWysiwygDiv(element) ? null : element;\r\n    },\r\n\r\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {array} array - element array\r\n     * @param {Element} element - Element to find index\r\n     * @returns {Number}\r\n     */\r\n    getArrayIndex: function (array, element) {\r\n        let idx = -1;\r\n        for (let i = 0, len = array.length; i < len; i++) {\r\n            if (array[i] === element) {\r\n                idx = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {array} array - element array\r\n     * @param {Element} item - Element to find index\r\n     * @returns {Number}\r\n     */\r\n    nextIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {array} array - element array\r\n     * @param {Element} item - Element to find index\r\n     * @returns {Number}\r\n     */\r\n    prevIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx - 1;\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table cell\r\n     * @param {Element} node - Nodes to check\r\n     * @returns {Boolean}\r\n     */\r\n    isCell: function (node) {\r\n        return node && /^(?:TD|TH)$/i.test(node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Element} node - Nodes to check\r\n     * @returns {Boolean}\r\n     */\r\n    isBreak: function (node) {\r\n        return node && /^BR$/i.test(node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Get all child nodes of the argument value element (Without text node)\r\n     * @param {Element} element - element to get child node\r\n     * @param {(function|null)} validation - Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildren: function (element, validation) {\r\n        const children = [];\r\n        if (!element || !element.children) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Get all child nodes of the argument value element (Include text nodes)\r\n     * @param {Element} element - element to get child node\r\n     * @param {(function|null)} validation - Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildNodes: function (element, validation) {\r\n        const children = [];\r\n        if (!element || !element.childNodes) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.childNodes.length; i < len; i++) {\r\n                recursionFunc(current.childNodes[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element - Reference element\r\n     * @param {String|Function} query - Query String (tagName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getParentElement: function (element, query) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'tagName';\r\n                query = '^' + query + '$';\r\n            }\r\n\r\n            const regExp = new RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        while (element && (element.nodeType === 3 || !check(element))) {\r\n            if (this.isWysiwygDiv(element)) {\r\n                return null;\r\n            }\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element - Reference element\r\n     * @param {String|Function} query - Query String (tagName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getChildElement: function (element, query) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'tagName';\r\n                query = '^' + query + '$';\r\n            }\r\n\r\n            const regExp = new RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        const childList = this.getListChildren(element, function (current) {\r\n            return check(current);\r\n        });\r\n\r\n        return childList[0];\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Element} element - Element node\r\n     * @returns {Object}\r\n     */\r\n    getOffset: function (element) {\r\n        let tableOffsetLeft = 0;\r\n        let tableOffsetTop = 0;\r\n        let tableElement = element.nodeType === 3 ? element.parentElement : element;\r\n\r\n        while (!this.isWysiwygDiv(tableElement.parentNode)) {\r\n            if (/^(A|TD|TH|FIGURE|FIGCAPTION|IMG|IFRAME)$/i.test(tableElement.nodeName) || /relative/i.test(tableElement.style.position)) {\r\n                tableOffsetLeft += tableElement.offsetLeft;\r\n                tableOffsetTop += tableElement.offsetTop;\r\n            }\r\n            tableElement = tableElement.parentNode;\r\n        }\r\n\r\n        return {\r\n            left: tableOffsetLeft,\r\n            top: tableOffsetTop - tableElement.parentNode.scrollTop\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Element} element - Element to replace text content\r\n     * @param {String} txt - Text to be applied\r\n     */\r\n    changeTxt: function (element, txt) {\r\n        if (!element || !txt) return;\r\n        element.textContent = txt;\r\n    },\r\n\r\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element - Elements to search class name\r\n     * @param {String} className - Class name to search for\r\n     * @returns {Boolean}\r\n     */\r\n    hasClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        return element.classList.contains(className.trim());\r\n    },\r\n\r\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element - Elements to add class name\r\n     * @param {String} className - Class name to be add\r\n     */\r\n    addClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) return;\r\n\r\n        element.className += ' ' + className;\r\n    },\r\n\r\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element - Elements to remove class name\r\n     * @param {String} className - Class name to be remove\r\n     */\r\n    removeClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        element.className = element.className.replace(check, ' ').trim();\r\n    },\r\n\r\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element - Elements to replace class name\r\n     * @param {String} className - Class name to be change\r\n     */\r\n    toggleClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) {\r\n            element.className = element.className.replace(check, ' ').trim();\r\n        }\r\n        else {\r\n            element.className += ' ' + className;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Element} item - Element to be remove\r\n     */\r\n    removeItem: function (item) {\r\n        try {\r\n            item.remove();\r\n        } catch (e) {\r\n            item.parentNode.removeChild(item);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element - Element node\r\n     */\r\n    removeEmptyNode: function (element) {\r\n        (function recursionFunc(current) {\r\n            if (current.textContent.trim().length === 0 && !/^BR$/i.test(current.nodeName) && (!current.firstChild || !/^BR$/i.test(current.firstChild.nodeName))) {\r\n                current.parentNode && current.parentNode.removeChild(current);\r\n            } else {\r\n                for (let i = 0, len = current.children.length; i < len; i++) {\r\n                    if (!current.children[i]) continue;\r\n                    recursionFunc(current.children[i]);\r\n                }\r\n            }\r\n        })(element);\r\n    },\r\n\r\n    /**\r\n     * @description Gets the clean HTML code for editor\r\n     * @param {String} html - HTML string\r\n     */\r\n    cleanHTML: function (html) {\r\n        const tagsAllowed = new RegExp('^(P|DIV|PRE|H1|H2|H3|H4|H5|H6|B|U|I|STRIKE|SUB|SUP|OL|UL|TABLE|BR|HR|A|IMG|IFRAME)$', 'i');\r\n        const domTree = this._d.createRange().createContextualFragment(html).children;\r\n        let cleanHTML = '';\r\n\r\n        for (let i = 0, len = domTree.length; i < len; i++) {\r\n            if (tagsAllowed.test(domTree[i].nodeName)) {\r\n                cleanHTML += domTree[i].outerHTML.replace(/<!--(.*?)-->/g, '').replace(/<[a-zA-Z]+\\:[a-zA-Z]+.*>(\\n|.)*<\\/[a-zA-Z]+\\:[a-zA-Z]+>/g, '').replace(/\\s(?:style|class|dir|xmlns|data-[a-z\\-]+)\\s*(?:[a-z\\-]+)?\\s*(?:=\"?[^>]*\"?)?\\s*/ig, '').replace(/<\\/?(?:span|font)\\s*(?:[a-z\\-]+)?\\s*(?:=\"?[^>]*\"?)?\\s*>/ig, '').replace(/<\\/?[a-z]+:[a-z]+\\s*(?:[a-z\\-]+)?\\s*(?:=\"?[^>]*\"?)?\\s*>/ig, '');\r\n            }\r\n        }\r\n\r\n        return cleanHTML || html;\r\n    }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (util);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9saWIvdXRpbC5qcz82NDMxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsZUFBZSxNQUFNO0FBQ3JCLGVBQWUsT0FBTztBQUN0QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTs7QUFFQSw2R0FBNkc7QUFDN0csc0VBQXNFOztBQUV0RSxrRUFBa0UsY0FBYztBQUNoRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIscUJBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEseUNBQXlDLFNBQVM7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFVBQVU7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsV0FBVyxvQkFBb0IsZ0JBQWdCLGFBQWEsYUFBYTtBQUM3RjtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxNQUFNO0FBQ3JCLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsTUFBTTtBQUNyQixlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsZ0JBQWdCO0FBQy9CLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0QsYUFBYTs7QUFFN0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMERBQTBELFNBQVM7QUFDbkU7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdEQUFnRCxhQUFhOztBQUU3RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsU0FBUztBQUNyRTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBSztBQUNwQixlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBLEtBQUs7O0FBRUw7QUFDQSwyRUFBMkU7QUFDM0UsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDhEQUE4RCxTQUFTO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSw2REFBSSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXHJcbiAqXHJcbiAqIHN1bmVkaXRvci5qc1xyXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxyXG4gKiBNSVQgbGljZW5zZS5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBAZGVzY3JpcHRpb24gdXRpbGl0eSBmdW5jdGlvblxyXG4gKi9cclxuY29uc3QgdXRpbCA9IHtcclxuICAgIF9kOiBkb2N1bWVudCxcclxuICAgIF93OiB3aW5kb3csXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gVW5pY29kZSBDaGFyYWN0ZXIgJ1pFUk8gV0lEVEggU1BBQ0UnXHJcbiAgICAgKi9cclxuICAgIHplcm9XaWR0aFNwYWNlOiAnXFx1MjAwQicsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyBYTUxIdHRwUmVxdWVzdCBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldFhNTEh0dHBSZXF1ZXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLyoqIElFICovXHJcbiAgICAgICAgaWYgKHRoaXMuX3cuQWN0aXZlWE9iamVjdCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUCcpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqIG5ldHNjYXBlICovXHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdy5YTUxIdHRwUmVxdWVzdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiBmYWlsICovXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gQ29waWVzIG9iamVjdFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIE9iamVjdCB0byBiZSBjb3B5XHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBjb3B5T2JqOiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgY29uc3QgY29weSA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBhdHRyIGluIG9iaikge1xyXG4gICAgICAgICAgICBjb3B5W2F0dHJdID0gb2JqW2F0dHJdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvcHk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZSBFbGVtZW50IG5vZGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbGVtZW50TmFtZSAtIEVsZW1lbnQgbmFtZVxyXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50TmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kLmNyZWF0ZUVsZW1lbnQoZWxlbWVudE5hbWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgdGV4dCBub2RlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCAtIHRleHQgY29udGVudHNcclxuICAgICAqIEByZXR1cm5zIHtOb2RlfVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVUZXh0Tm9kZTogZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZC5jcmVhdGVUZXh0Tm9kZSh0ZXh0IHx8ICcnKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0IHRoZSB0aGUgdGFnIHBhdGggb2YgdGhlIGFyZ3VtZW50cyB2YWx1ZVxyXG4gICAgICogSWYgbm90IGZvdW5kLCByZXR1cm4gdGhlIGZpcnN0IGZvdW5kIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBuYW1lQXJyYXkgLSBGaWxlIG5hbWUgYXJyYXlcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBleHRlbnNpb24gLSBqcywgY3NzXHJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJbmNsdWRlUGF0aDogZnVuY3Rpb24gKG5hbWVBcnJheSwgZXh0ZW5zaW9uKSB7XHJcbiAgICAgICAgbGV0IHBhdGggPSAnJztcclxuICAgICAgICBjb25zdCBwYXRoTGlzdCA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBleHRlbnNpb24gPT09ICdqcycgPyAnc2NyaXB0JyA6ICdsaW5rJztcclxuICAgICAgICBjb25zdCBzcmMgPSBleHRlbnNpb24gPT09ICdqcycgPyAnc3JjJyA6ICdocmVmJztcclxuICAgICAgICBcclxuICAgICAgICBsZXQgZmlsZU5hbWUgPSAnKD86JztcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbmFtZUFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZpbGVOYW1lICs9IG5hbWVBcnJheVtpXSArIChpIDwgbGVuIC0gMSA/ICd8JyA6ICcpJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZWdFeHAgPSBuZXcgUmVnRXhwKCcoXnwuKltcXFxcXFxcXFxcL10pJyArIGZpbGVOYW1lICsgJyhcXFxcLlteXFxcXFxcXFwvXSspP1xcLicgKyBleHRlbnNpb24gKyAnKD86XFxcXD8uKnw7LiopPyQnLCAnaScpO1xyXG4gICAgICAgIGNvbnN0IGV4dFJlZ0V4cCA9IG5ldyBSZWdFeHAoJy4rXFxcXC4nICsgZXh0ZW5zaW9uICsgJyg/OlxcXFw/Lip8Oy4qKT8kJywgJ2knKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgYyA9IHRoaXMuX2QuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSksIGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZXh0UmVnRXhwLnRlc3QoY1tpXVtzcmNdKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0aExpc3QucHVzaChjW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZWRpdG9yVGFnID0gcGF0aExpc3RbaV1bc3JjXS5tYXRjaChyZWdFeHApO1xyXG4gICAgICAgICAgICBpZiAoZWRpdG9yVGFnKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoID0gZWRpdG9yVGFnWzBdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYXRoID09PSAnJykgcGF0aCA9IHBhdGhMaXN0Lmxlbmd0aCA+IDAgPyBwYXRoTGlzdFswXVtzcmNdIDogJyc7XHJcblxyXG4gICAgICAgIC0xID09PSBwYXRoLmluZGV4T2YoJzovJykgJiYgJy8vJyAhPT0gcGF0aC5zbGljZSgwLCAyKSAmJiAocGF0aCA9IDAgPT09IHBhdGguaW5kZXhPZignLycpID8gbG9jYXRpb24uaHJlZi5tYXRjaCgvXi4qPzpcXC9cXC9bXlxcL10qLylbMF0gKyBwYXRoIDogbG9jYXRpb24uaHJlZi5tYXRjaCgvXlteXFw/XSpcXC8oPzopLylbMF0gKyBwYXRoKTtcclxuXHJcbiAgICAgICAgaWYgKCFwYXRoKSB0aHJvdyAnW1NVTkVESVRPUi51dGlsLmdldEluY2x1ZGVQYXRoLmZhaWxdIFRoZSBTVU5FRElUT1IgaW5zdGFsbGF0aW9uIHBhdGggY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgZGV0ZWN0ZWQuIChuYW1lOiArJyArIG5hbWUgKyAnLCBleHRlbnNpb246ICcgKyBleHRlbnNpb24gKyAnKSc7XHJcblxyXG4gICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyBjb250ZW50cyBpbnRvIGEgZm9ybWF0IHRoYXQgY2FuIGJlIHBsYWNlZCBpbiBhbiBlZGl0b3JcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyAtIGNvbnRlbnRzXHJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBjb252ZXJ0Q29udGVudHNGb3JFZGl0b3I6IGZ1bmN0aW9uIChjb250ZW50cykge1xyXG4gICAgICAgIGxldCB0YWcsIGJhc2VIdG1sLCBpbm5lckhUTUwgPSAnJztcclxuICAgICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnRyaW0oKTtcclxuXHJcbiAgICAgICAgdGFnID0gdGhpcy5fZC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChjb250ZW50cykuY2hpbGROb2RlcztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRhZy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBiYXNlSHRtbCA9IHRhZ1tpXS5vdXRlckhUTUwgfHwgdGFnW2ldLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhZ1tpXS5ub2RlVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dEFycmF5ID0gYmFzZUh0bWwuc3BsaXQoL1xcbi9nKTtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0ID0gMCwgdExlbiA9IHRleHRBcnJheS5sZW5ndGg7IHQgPCB0TGVuOyB0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dEFycmF5W3RdLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAwKSBpbm5lckhUTUwgKz0gJzxQPicgKyB0ZXh0ICsgJzwvcD4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5uZXJIVE1MICs9IGJhc2VIdG1sO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlYyA9IHsnJic6ICcmYW1wOycsICdcXHUwMEEwJzogJyZuYnNwOycsICdcXCcnOiAnJnF1b3Q7JywgJzwnOiAnJmx0OycsICc+JzogJyZndDsnfTtcclxuICAgICAgICBjb250ZW50cyA9IGNvbnRlbnRzLnJlcGxhY2UoLyZ8XFx1MDBBMHwnfDx8Pi9nLCBmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHR5cGVvZiBlY1ttXSA9PT0gJ3N0cmluZycpID8gZWNbbV0gOiBtO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoaW5uZXJIVE1MLmxlbmd0aCA9PT0gMCkgaW5uZXJIVE1MID0gJzxwPicgKyAoY29udGVudHMubGVuZ3RoID4gMCA/IGNvbnRlbnRzIDogdGhpcy56ZXJvV2lkdGhTcGFjZSkgKyAnPC9wPic7XHJcblxyXG4gICAgICAgIHJldHVybiBpbm5lckhUTUw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIEhUTUwgc3RyaW5nIGludG8gYSBmb3JtYXQgdGhhdCBjYW4gYmUgcGxhY2VkIGluIGFuIGVkaXRvciBvZiBjb2RlIHZpZXcgbW9kZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGh0bWwgLSBIVE1MIHN0cmluZ1xyXG4gICAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgY29udmVydEhUTUxGb3JDb2RlVmlldzogZnVuY3Rpb24gKGh0bWwpIHtcclxuICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC9cXHMqPCg/OmxpfHRkKVxccyooPzpbYS16XFwtXSspP1xccyooPzo9XCI/W14+XSpcIj8pP1xccyo+L2dpLCB0aGlzLl9pbnNlcnRJbmRlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzxcXC8/KD86YmxvY2txdW90ZXxocnxvbHx1bHx0YWJsZXx0Ym9keXx0aGVhZHx0aHx0cilcXHMqKD86W2EtelxcLV0rKT9cXHMqKD86PVwiP1tePl0qXCI/KT9cXHMqPig/PVteXFxuXSkvZ2ksIHRoaXMuX2luc2VydExpbmVCcmVhaylcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPFxcLyg/OnB8ZGl2fGhbMS02XXxsaXx0ZHxwcmUpPig/PVteXFxuXSkvZ2ksIHRoaXMuX2luc2VydExpbmVCcmVhayk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZCBhIGxpbmUgYnJlYWsgdG8gdGhlIG9wZW4gdGFnXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWF0Y2hUYWcgLSBtYXRjaGVkIHRhZyBzdHJpbmdcclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIF9pbnNlcnRJbmRlbnQ6IGZ1bmN0aW9uIChtYXRjaFRhZykge1xyXG4gICAgICAgIHJldHVybiAnICAnICsgbWF0Y2hUYWcudHJpbSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBBZGQgYSBsaW5lIGJyZWFrcyB0byB0aGUgdGFnc1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1hdGNoVGFnIC0gbWF0Y2hlZCB0YWcgc3RyaW5nXHJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBfaW5zZXJ0TGluZUJyZWFrOiBmdW5jdGlvbiAobWF0Y2hUYWcpIHtcclxuICAgICAgICByZXR1cm4gbWF0Y2hUYWcgKyAnXFxuJztcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gSXQgaXMganVkZ2VkIHdoZXRoZXIgaXQgaXMgdGhlIGVkaXQgcmVnaW9uIHRvcCBkaXYgZWxlbWVudC5cclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGNoZWNrXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgaXNXeXNpd3lnRGl2OiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDEgJiYgdGhpcy5oYXNDbGFzcyhlbGVtZW50LCAnc3VuLWVkaXRvci1pZC13eXNpd3lnJykpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gSXQgaXMganVkZ2VkIHdoZXRoZXIgaXQgaXMgdGhlIGZvcm1hdCBlbGVtZW50IChQLCBESVYsIEgxLTYsIExJLCBDT0RFKVxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBpc0Zvcm1hdEVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSA9PT0gMSAmJiAvXig/OlB8RElWfEhbMS02XXxMSXxDT0RFKSQvaS50ZXN0KGVsZW1lbnQubm9kZU5hbWUpICYmICEvc3VuLWVkaXRvci1pZC1jb21wLy50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBJdCBpcyBqdWRnZWQgd2hldGhlciBpdCBpcyB0aGUgcmFuZ2UgZm9ybWF0IGVsZW1lbnQuIChCTE9DS1FVT1RFLCBUQUJMRSwgVEhFQUQsIFRCT0RZLCBUSCwgVFIsIFRELCBPTCwgVUwsIFBSRSlcclxuICAgICAqICogUmFuZ2UgZm9ybWF0IGVsZW1lbnQgaXMgd3JhcCB0aGUgZm9ybWF0IGVsZW1lbnQgIChQLCBESVYsIEgxLTYsIExJLCBDT0RFKVxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBpc1JhbmdlRm9ybWF0RWxlbWVudDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlID09PSAxICYmIC9eKD86QkxPQ0tRVU9URXxUQUJMRXxUSEVBRHxUQk9EWXxUSHxUUnxURHxPTHxVTHxQUkV8RklHQ0FQVElPTikkL2kudGVzdChlbGVtZW50Lm5vZGVOYW1lKSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgZm9ybWF0IGVsZW1lbnQgb2YgdGhlIGFyZ3VtZW50IHZhbHVlIChQLCBESVYsIEhbMS02XSwgTEkpXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBSZWZlcmVuY2UgZWxlbWVudCBpZiBudWxsIG9yIG5vIHZhbHVlLCBpdCBpcyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBmb2N1cyBub2RlLlxyXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIGdldEZvcm1hdEVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmlzRm9ybWF0RWxlbWVudChlbGVtZW50KSAmJiAhdGhpcy5pc1d5c2l3eWdEaXYoZWxlbWVudC5wYXJlbnROb2RlKSkge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNXeXNpd3lnRGl2KGVsZW1lbnQpIHx8IHRoaXMuaXNSYW5nZUZvcm1hdEVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RGb3JtYXRFbGVtZW50ID0gdGhpcy5nZXRMaXN0Q2hpbGRyZW4oZWxlbWVudCwgZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzRm9ybWF0RWxlbWVudChjdXJyZW50KTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVswXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmaXJzdEZvcm1hdEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0IHJhbmdlIGZvcm1hdCBlbGVtZW50IG9mIHRoZSBhcmd1bWVudCB2YWx1ZSAoYmxvY2txdW90ZSwgVEFCTEUsIFRSLCBURCwgT0wsIFVMLCBQUkUpXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBSZWZlcmVuY2UgZWxlbWVudCBpZiBudWxsIG9yIG5vIHZhbHVlLCBpdCBpcyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBmb2N1cyBub2RlLlxyXG4gICAgICogQHJldHVybnMge0VsZW1lbnR8bnVsbH1cclxuICAgICAqL1xyXG4gICAgZ2V0UmFuZ2VGb3JtYXRFbGVtZW50OiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHdoaWxlICghdGhpcy5pc1JhbmdlRm9ybWF0RWxlbWVudChlbGVtZW50KSAmJiAhdGhpcy5pc1d5c2l3eWdEaXYoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmlzV3lzaXd5Z0RpdihlbGVtZW50KSA/IG51bGwgOiBlbGVtZW50O1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB2YWx1ZSBpbiB0aGUgZWxlbWVudCBhcnJheVxyXG4gICAgICogQHBhcmFtIHthcnJheX0gYXJyYXkgLSBlbGVtZW50IGFycmF5XHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGZpbmQgaW5kZXhcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldEFycmF5SW5kZXg6IGZ1bmN0aW9uIChhcnJheSwgZWxlbWVudCkge1xyXG4gICAgICAgIGxldCBpZHggPSAtMTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZHggPSBpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpZHg7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCB0aGUgbmV4dCBpbmRleCBvZiB0aGUgYXJndW1lbnQgdmFsdWUgaW4gdGhlIGVsZW1lbnQgYXJyYXlcclxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5IC0gZWxlbWVudCBhcnJheVxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBpdGVtIC0gRWxlbWVudCB0byBmaW5kIGluZGV4XHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBuZXh0SWR4OiBmdW5jdGlvbiAoYXJyYXksIGl0ZW0pIHtcclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5nZXRBcnJheUluZGV4KGFycmF5LCBpdGVtKTtcclxuICAgICAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuIC0xO1xyXG4gICAgICAgIHJldHVybiBpZHggKyAxO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdGhlIHByZXZpb3VzIGluZGV4IG9mIHRoZSBhcmd1bWVudCB2YWx1ZSBpbiB0aGUgZWxlbWVudCBhcnJheVxyXG4gICAgICogQHBhcmFtIHthcnJheX0gYXJyYXkgLSBlbGVtZW50IGFycmF5XHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGl0ZW0gLSBFbGVtZW50IHRvIGZpbmQgaW5kZXhcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHByZXZJZHg6IGZ1bmN0aW9uIChhcnJheSwgaXRlbSkge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmdldEFycmF5SW5kZXgoYXJyYXksIGl0ZW0pO1xyXG4gICAgICAgIGlmIChpZHggPT09IC0xKSByZXR1cm4gLTE7XHJcbiAgICAgICAgcmV0dXJuIGlkeCAtIDE7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENoZWNrIHRoZSBub2RlIGlzIGEgdGFibGUgY2VsbFxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIC0gTm9kZXMgdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBpc0NlbGw6IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUgJiYgL14oPzpURHxUSCkkL2kudGVzdChub2RlLm5vZGVOYW1lKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gQ2hlY2sgdGhlIG5vZGUgaXMgYSBicmVhayBub2RlIChCUilcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSAtIE5vZGVzIHRvIGNoZWNrXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgaXNCcmVhazogZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbm9kZSAmJiAvXkJSJC9pLnRlc3Qobm9kZS5ub2RlTmFtZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCBhbGwgY2hpbGQgbm9kZXMgb2YgdGhlIGFyZ3VtZW50IHZhbHVlIGVsZW1lbnQgKFdpdGhvdXQgdGV4dCBub2RlKVxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBnZXQgY2hpbGQgbm9kZVxyXG4gICAgICogQHBhcmFtIHsoZnVuY3Rpb258bnVsbCl9IHZhbGlkYXRpb24gLSBDb25kaXRpb25hbCBmdW5jdGlvblxyXG4gICAgICogQHJldHVybnMge0FycmF5fVxyXG4gICAgICovXHJcbiAgICBnZXRMaXN0Q2hpbGRyZW46IGZ1bmN0aW9uIChlbGVtZW50LCB2YWxpZGF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQuY2hpbGRyZW4pIHJldHVybiBjaGlsZHJlbjtcclxuXHJcbiAgICAgICAgdmFsaWRhdGlvbiA9IHZhbGlkYXRpb24gfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcclxuXHJcbiAgICAgICAgKGZ1bmN0aW9uIHJlY3Vyc2lvbkZ1bmMoY3VycmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gY3VycmVudCAmJiB2YWxpZGF0aW9uKGN1cnJlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY3VycmVudC5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVjdXJzaW9uRnVuYyhjdXJyZW50LmNoaWxkcmVuW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCBhbGwgY2hpbGQgbm9kZXMgb2YgdGhlIGFyZ3VtZW50IHZhbHVlIGVsZW1lbnQgKEluY2x1ZGUgdGV4dCBub2RlcylcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgdG8gZ2V0IGNoaWxkIG5vZGVcclxuICAgICAqIEBwYXJhbSB7KGZ1bmN0aW9ufG51bGwpfSB2YWxpZGF0aW9uIC0gQ29uZGl0aW9uYWwgZnVuY3Rpb25cclxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cclxuICAgICAqL1xyXG4gICAgZ2V0TGlzdENoaWxkTm9kZXM6IGZ1bmN0aW9uIChlbGVtZW50LCB2YWxpZGF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQuY2hpbGROb2RlcykgcmV0dXJuIGNoaWxkcmVuO1xyXG5cclxuICAgICAgICB2YWxpZGF0aW9uID0gdmFsaWRhdGlvbiB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xyXG5cclxuICAgICAgICAoZnVuY3Rpb24gcmVjdXJzaW9uRnVuYyhjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICE9PSBjdXJyZW50ICYmIHZhbGlkYXRpb24oY3VycmVudCkpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY3VycmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjdXJyZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlY3Vyc2lvbkZ1bmMoY3VycmVudC5jaGlsZE5vZGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCB0aGUgcGFyZW50IGVsZW1lbnQgb2YgdGhlIGFyZ3VtZW50IHZhbHVlLlxyXG4gICAgICogQSB0YWcgdGhhdCBzYXRpc2ZpZXMgdGhlIHF1ZXJ5IGNvbmRpdGlvbiBpcyBpbXBvcnRlZC5cclxuICAgICAqIFJldHVybnMgbnVsbCBpZiBub3QgZm91bmQuXHJcbiAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBSZWZlcmVuY2UgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHF1ZXJ5IC0gUXVlcnkgU3RyaW5nICh0YWdOYW1lLCAuY2xhc3NOYW1lLCAjSUQsIDpuYW1lKSBvciB2YWxpZGF0aW9uIGZ1bmN0aW9uLlxyXG4gICAgICogTm90IHVzZSBpdCBsaWtlIGpxdWVyeS5cclxuICAgICAqIE9ubHkgb25lIGNvbmRpdGlvbiBjYW4gYmUgZW50ZXJlZCBhdCBhIHRpbWUuXHJcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudHxudWxsfVxyXG4gICAgICovXHJcbiAgICBnZXRQYXJlbnRFbGVtZW50OiBmdW5jdGlvbiAoZWxlbWVudCwgcXVlcnkpIHtcclxuICAgICAgICBsZXQgY2hlY2s7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgY2hlY2sgPSBxdWVyeTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgYXR0cjtcclxuICAgICAgICAgICAgaWYgKC9cXC4vLnRlc3QocXVlcnkpKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyID0gJ2NsYXNzTmFtZSc7XHJcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoLyMvLnRlc3QocXVlcnkpKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyID0gJ2lkJztcclxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gJ14nICsgcXVlcnkuc3BsaXQoJyMnKVsxXSArICckJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgvOi8udGVzdChxdWVyeSkpIHtcclxuICAgICAgICAgICAgICAgIGF0dHIgPSAnbmFtZSc7XHJcbiAgICAgICAgICAgICAgICBxdWVyeSA9ICdeJyArIHF1ZXJ5LnNwbGl0KCc6JylbMV0gKyAnJCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyID0gJ3RhZ05hbWUnO1xyXG4gICAgICAgICAgICAgICAgcXVlcnkgPSAnXicgKyBxdWVyeSArICckJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVnRXhwID0gbmV3IFJlZ0V4cChxdWVyeSwgJ2knKTtcclxuICAgICAgICAgICAgY2hlY2sgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWdFeHAudGVzdChlbFthdHRyXSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aGlsZSAoZWxlbWVudCAmJiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMyB8fCAhY2hlY2soZWxlbWVudCkpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzV3lzaXd5Z0RpdihlbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXQgdGhlIGNoaWxkIGVsZW1lbnQgb2YgdGhlIGFyZ3VtZW50IHZhbHVlLlxyXG4gICAgICogQSB0YWcgdGhhdCBzYXRpc2ZpZXMgdGhlIHF1ZXJ5IGNvbmRpdGlvbiBpcyBpbXBvcnRlZC5cclxuICAgICAqIFJldHVybnMgbnVsbCBpZiBub3QgZm91bmQuXHJcbiAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBSZWZlcmVuY2UgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHF1ZXJ5IC0gUXVlcnkgU3RyaW5nICh0YWdOYW1lLCAuY2xhc3NOYW1lLCAjSUQsIDpuYW1lKSBvciB2YWxpZGF0aW9uIGZ1bmN0aW9uLlxyXG4gICAgICogTm90IHVzZSBpdCBsaWtlIGpxdWVyeS5cclxuICAgICAqIE9ubHkgb25lIGNvbmRpdGlvbiBjYW4gYmUgZW50ZXJlZCBhdCBhIHRpbWUuXHJcbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudHxudWxsfVxyXG4gICAgICovXHJcbiAgICBnZXRDaGlsZEVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBxdWVyeSkge1xyXG4gICAgICAgIGxldCBjaGVjaztcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjaGVjayA9IHF1ZXJ5O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBhdHRyO1xyXG4gICAgICAgICAgICBpZiAoL1xcLi8udGVzdChxdWVyeSkpIHtcclxuICAgICAgICAgICAgICAgIGF0dHIgPSAnY2xhc3NOYW1lJztcclxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkuc3BsaXQoJy4nKVsxXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgvIy8udGVzdChxdWVyeSkpIHtcclxuICAgICAgICAgICAgICAgIGF0dHIgPSAnaWQnO1xyXG4gICAgICAgICAgICAgICAgcXVlcnkgPSAnXicgKyBxdWVyeS5zcGxpdCgnIycpWzFdICsgJyQnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKC86Ly50ZXN0KHF1ZXJ5KSkge1xyXG4gICAgICAgICAgICAgICAgYXR0ciA9ICduYW1lJztcclxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gJ14nICsgcXVlcnkuc3BsaXQoJzonKVsxXSArICckJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGF0dHIgPSAndGFnTmFtZSc7XHJcbiAgICAgICAgICAgICAgICBxdWVyeSA9ICdeJyArIHF1ZXJ5ICsgJyQnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZWdFeHAgPSBuZXcgUmVnRXhwKHF1ZXJ5LCAnaScpO1xyXG4gICAgICAgICAgICBjaGVjayA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZ0V4cC50ZXN0KGVsW2F0dHJdKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNoaWxkTGlzdCA9IHRoaXMuZ2V0TGlzdENoaWxkcmVuKGVsZW1lbnQsIGZ1bmN0aW9uIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGVjayhjdXJyZW50KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkTGlzdFswXTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIGxlZnQgYW5kIHRvcCBvZiBhcmd1bWVudC4ge2xlZnQ6MCwgdG9wOjB9XHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IG5vZGVcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldE9mZnNldDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgdGFibGVPZmZzZXRMZWZ0ID0gMDtcclxuICAgICAgICBsZXQgdGFibGVPZmZzZXRUb3AgPSAwO1xyXG4gICAgICAgIGxldCB0YWJsZUVsZW1lbnQgPSBlbGVtZW50Lm5vZGVUeXBlID09PSAzID8gZWxlbWVudC5wYXJlbnRFbGVtZW50IDogZWxlbWVudDtcclxuXHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmlzV3lzaXd5Z0Rpdih0YWJsZUVsZW1lbnQucGFyZW50Tm9kZSkpIHtcclxuICAgICAgICAgICAgaWYgKC9eKEF8VER8VEh8RklHVVJFfEZJR0NBUFRJT058SU1HfElGUkFNRSkkL2kudGVzdCh0YWJsZUVsZW1lbnQubm9kZU5hbWUpIHx8IC9yZWxhdGl2ZS9pLnRlc3QodGFibGVFbGVtZW50LnN0eWxlLnBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgdGFibGVPZmZzZXRMZWZ0ICs9IHRhYmxlRWxlbWVudC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgdGFibGVPZmZzZXRUb3AgKz0gdGFibGVFbGVtZW50Lm9mZnNldFRvcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YWJsZUVsZW1lbnQgPSB0YWJsZUVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHRhYmxlT2Zmc2V0TGVmdCxcclxuICAgICAgICAgICAgdG9wOiB0YWJsZU9mZnNldFRvcCAtIHRhYmxlRWxlbWVudC5wYXJlbnROb2RlLnNjcm9sbFRvcFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIFNldCB0aGUgdGV4dCBjb250ZW50IHZhbHVlIG9mIHRoZSBhcmd1bWVudCB2YWx1ZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIHJlcGxhY2UgdGV4dCBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHh0IC0gVGV4dCB0byBiZSBhcHBsaWVkXHJcbiAgICAgKi9cclxuICAgIGNoYW5nZVR4dDogZnVuY3Rpb24gKGVsZW1lbnQsIHR4dCkge1xyXG4gICAgICAgIGlmICghZWxlbWVudCB8fCAhdHh0KSByZXR1cm47XHJcbiAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHR4dDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gRGV0ZXJtaW5lIHdoZXRoZXIgYW55IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnRzIGFyZSBhc3NpZ25lZCB0aGUgZ2l2ZW4gY2xhc3NcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRzIHRvIHNlYXJjaCBjbGFzcyBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lIC0gQ2xhc3MgbmFtZSB0byBzZWFyY2ggZm9yXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZS50cmltKCkpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBBcHBlbmQgdGhlIGNsYXNzTmFtZSB2YWx1ZSBvZiB0aGUgYXJndW1lbnQgdmFsdWUgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudHMgdG8gYWRkIGNsYXNzIG5hbWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWUgLSBDbGFzcyBuYW1lIHRvIGJlIGFkZFxyXG4gICAgICovXHJcbiAgICBhZGRDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBjaGVjayA9IG5ldyBSZWdFeHAoJyhcXFxcc3xeKScgKyBjbGFzc05hbWUgKyAnKFxcXFxzfCQpJyk7XHJcbiAgICAgICAgaWYgKGNoZWNrLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpKSByZXR1cm47XHJcblxyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gRGVsZXRlIHRoZSBjbGFzc05hbWUgdmFsdWUgb2YgdGhlIGFyZ3VtZW50IHZhbHVlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRzIHRvIHJlbW92ZSBjbGFzcyBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lIC0gQ2xhc3MgbmFtZSB0byBiZSByZW1vdmVcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgY2hlY2sgPSBuZXcgUmVnRXhwKCcoXFxcXHN8XiknICsgY2xhc3NOYW1lICsgJyhcXFxcc3wkKScpO1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShjaGVjaywgJyAnKS50cmltKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIEFyZ3VtZW50IHZhbHVlIElmIHRoZXJlIGlzIG5vIGNsYXNzIG5hbWUsIGluc2VydCBpdCBhbmQgZGVsZXRlIHRoZSBjbGFzcyBuYW1lIGlmIGl0IGV4aXN0c1xyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudHMgdG8gcmVwbGFjZSBjbGFzcyBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lIC0gQ2xhc3MgbmFtZSB0byBiZSBjaGFuZ2VcclxuICAgICAqL1xyXG4gICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgY2hlY2sgPSBuZXcgUmVnRXhwKCcoXFxcXHN8XiknICsgY2xhc3NOYW1lICsgJyhcXFxcc3wkKScpO1xyXG4gICAgICAgIGlmIChjaGVjay50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoY2hlY2ssICcgJykudHJpbSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gRGVsZXRlIGFyZ3VtZW51IHZhbHVlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gaXRlbSAtIEVsZW1lbnQgdG8gYmUgcmVtb3ZlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGl0ZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIERlbGV0ZSBhIGVtcHR5IGNoaWxkIG5vZGUgb2YgYXJndW1lbnQgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCBub2RlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUVtcHR5Tm9kZTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAoZnVuY3Rpb24gcmVjdXJzaW9uRnVuYyhjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50LnRleHRDb250ZW50LnRyaW0oKS5sZW5ndGggPT09IDAgJiYgIS9eQlIkL2kudGVzdChjdXJyZW50Lm5vZGVOYW1lKSAmJiAoIWN1cnJlbnQuZmlyc3RDaGlsZCB8fCAhL15CUiQvaS50ZXN0KGN1cnJlbnQuZmlyc3RDaGlsZC5ub2RlTmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50LnBhcmVudE5vZGUgJiYgY3VycmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGN1cnJlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnQuY2hpbGRyZW5baV0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2lvbkZ1bmMoY3VycmVudC5jaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KShlbGVtZW50KTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB0aGUgY2xlYW4gSFRNTCBjb2RlIGZvciBlZGl0b3JcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgY2xlYW5IVE1MOiBmdW5jdGlvbiAoaHRtbCkge1xyXG4gICAgICAgIGNvbnN0IHRhZ3NBbGxvd2VkID0gbmV3IFJlZ0V4cCgnXihQfERJVnxQUkV8SDF8SDJ8SDN8SDR8SDV8SDZ8QnxVfEl8U1RSSUtFfFNVQnxTVVB8T0x8VUx8VEFCTEV8QlJ8SFJ8QXxJTUd8SUZSQU1FKSQnLCAnaScpO1xyXG4gICAgICAgIGNvbnN0IGRvbVRyZWUgPSB0aGlzLl9kLmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGh0bWwpLmNoaWxkcmVuO1xyXG4gICAgICAgIGxldCBjbGVhbkhUTUwgPSAnJztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRvbVRyZWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRhZ3NBbGxvd2VkLnRlc3QoZG9tVHJlZVtpXS5ub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFuSFRNTCArPSBkb21UcmVlW2ldLm91dGVySFRNTC5yZXBsYWNlKC88IS0tKC4qPyktLT4vZywgJycpLnJlcGxhY2UoLzxbYS16QS1aXStcXDpbYS16QS1aXSsuKj4oXFxufC4pKjxcXC9bYS16QS1aXStcXDpbYS16QS1aXSs+L2csICcnKS5yZXBsYWNlKC9cXHMoPzpzdHlsZXxjbGFzc3xkaXJ8eG1sbnN8ZGF0YS1bYS16XFwtXSspXFxzKig/OlthLXpcXC1dKyk/XFxzKig/Oj1cIj9bXj5dKlwiPyk/XFxzKi9pZywgJycpLnJlcGxhY2UoLzxcXC8/KD86c3Bhbnxmb250KVxccyooPzpbYS16XFwtXSspP1xccyooPzo9XCI/W14+XSpcIj8pP1xccyo+L2lnLCAnJykucmVwbGFjZSgvPFxcLz9bYS16XSs6W2Etel0rXFxzKig/OlthLXpcXC1dKyk/XFxzKig/Oj1cIj9bXj5dKlwiPyk/XFxzKj4vaWcsICcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNsZWFuSFRNTCB8fCBodG1sO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXRpbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdW5lZGl0b3Ivc3JjL2xpYi91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'dialog',\n    add: function (core) {\n        const context = core.context;\n        context.dialog = {};\n\n        /** dialog */\n        let dialog_div = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        dialog_div.className = 'sun-editor-id-dialogBox sun-editor-common';\n\n        let dialog_back = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        dialog_back.className = 'modal-dialog-background sun-editor-id-dialog-back';\n        dialog_back.style.display = 'none';\n\n        let dialog_area = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        dialog_area.className = 'modal-dialog sun-editor-id-dialog-modal';\n        dialog_area.style.display = 'none';\n\n        dialog_div.appendChild(dialog_back);\n        dialog_div.appendChild(dialog_area);\n\n        context.dialog.modalArea = dialog_div;\n        context.dialog.back = dialog_back;\n        context.dialog.modal = dialog_area;\n\n        /** add event listeners */\n        context.dialog.modal.addEventListener('click', this.onClick_dialog.bind(core));\n        \n        /** append html */\n        context.element.relative.appendChild(dialog_div);\n        \n        /** empty memory */\n        dialog_div = null, dialog_back = null, dialog_area = null;\n    },\n\n    onClick_dialog: function (e) {\n        e.stopPropagation();\n\n        if (/modal-dialog/.test(e.target.className) || /close/.test(e.target.getAttribute('data-command'))) {\n            this.plugins.dialog.close.call(this);\n        }\n    },\n\n    open: function (kind, update)  {\n        if (this.modalForm) return false;\n\n        this.context.dialog.updateModal = update;\n\n        if (this.context.option.popupDisplay === 'full') {\n            this.context.dialog.modalArea.style.position = 'fixed';\n        } else {\n            this.context.dialog.modalArea.style.position = 'absolute';\n        }\n\n        this.context.dialog.kind = kind;\n        this.modalForm = this.context[kind].modal;\n        const focusElement = this.context[kind].focusElement;\n\n        this.context.dialog.modalArea.style.display = 'block';\n        this.context.dialog.back.style.display = 'block';\n        this.context.dialog.modal.style.display = 'block';\n        this.modalForm.style.display = 'block';\n\n        if (focusElement) focusElement.focus();\n    },\n\n    close: function () {\n        this.modalForm.style.display = 'none';\n        this.context.dialog.back.style.display = 'none';\n        this.context.dialog.modalArea.style.display = 'none';\n        this.modalForm = null;\n        this.context.dialog.updateModal = false;\n        this.plugins[this.context.dialog.kind].init.call(this);\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL21vZHVsZXMvZGlhbG9nLmpzPzM1MGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUVxQjs7QUFFbkI7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QiwwREFBSTtBQUM3Qjs7QUFFQSwwQkFBMEIsMERBQUk7QUFDOUI7QUFDQTs7QUFFQSwwQkFBMEIsMERBQUk7QUFDOUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQyIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxuICpcbiAqIHN1bmVkaXRvci5qc1xuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cbiAqIE1JVCBsaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlsIGZyb20gJy4uLy4uL2xpYi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6ICdkaWFsb2cnLFxuICAgIGFkZDogZnVuY3Rpb24gKGNvcmUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNvcmUuY29udGV4dDtcbiAgICAgICAgY29udGV4dC5kaWFsb2cgPSB7fTtcblxuICAgICAgICAvKiogZGlhbG9nICovXG4gICAgICAgIGxldCBkaWFsb2dfZGl2ID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgICAgICAgZGlhbG9nX2Rpdi5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC1kaWFsb2dCb3ggc3VuLWVkaXRvci1jb21tb24nO1xuXG4gICAgICAgIGxldCBkaWFsb2dfYmFjayA9IHV0aWwuY3JlYXRlRWxlbWVudCgnRElWJyk7XG4gICAgICAgIGRpYWxvZ19iYWNrLmNsYXNzTmFtZSA9ICdtb2RhbC1kaWFsb2ctYmFja2dyb3VuZCBzdW4tZWRpdG9yLWlkLWRpYWxvZy1iYWNrJztcbiAgICAgICAgZGlhbG9nX2JhY2suc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBsZXQgZGlhbG9nX2FyZWEgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICAgICAgICBkaWFsb2dfYXJlYS5jbGFzc05hbWUgPSAnbW9kYWwtZGlhbG9nIHN1bi1lZGl0b3ItaWQtZGlhbG9nLW1vZGFsJztcbiAgICAgICAgZGlhbG9nX2FyZWEuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBkaWFsb2dfZGl2LmFwcGVuZENoaWxkKGRpYWxvZ19iYWNrKTtcbiAgICAgICAgZGlhbG9nX2Rpdi5hcHBlbmRDaGlsZChkaWFsb2dfYXJlYSk7XG5cbiAgICAgICAgY29udGV4dC5kaWFsb2cubW9kYWxBcmVhID0gZGlhbG9nX2RpdjtcbiAgICAgICAgY29udGV4dC5kaWFsb2cuYmFjayA9IGRpYWxvZ19iYWNrO1xuICAgICAgICBjb250ZXh0LmRpYWxvZy5tb2RhbCA9IGRpYWxvZ19hcmVhO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIGNvbnRleHQuZGlhbG9nLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrX2RpYWxvZy5iaW5kKGNvcmUpKTtcbiAgICAgICAgXG4gICAgICAgIC8qKiBhcHBlbmQgaHRtbCAqL1xuICAgICAgICBjb250ZXh0LmVsZW1lbnQucmVsYXRpdmUuYXBwZW5kQ2hpbGQoZGlhbG9nX2Rpdik7XG4gICAgICAgIFxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXG4gICAgICAgIGRpYWxvZ19kaXYgPSBudWxsLCBkaWFsb2dfYmFjayA9IG51bGwsIGRpYWxvZ19hcmVhID0gbnVsbDtcbiAgICB9LFxuXG4gICAgb25DbGlja19kaWFsb2c6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgaWYgKC9tb2RhbC1kaWFsb2cvLnRlc3QoZS50YXJnZXQuY2xhc3NOYW1lKSB8fCAvY2xvc2UvLnRlc3QoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbW1hbmQnKSkpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2lucy5kaWFsb2cuY2xvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvcGVuOiBmdW5jdGlvbiAoa2luZCwgdXBkYXRlKSAge1xuICAgICAgICBpZiAodGhpcy5tb2RhbEZvcm0pIHJldHVybiBmYWxzZTtcblxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLnVwZGF0ZU1vZGFsID0gdXBkYXRlO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQub3B0aW9uLnBvcHVwRGlzcGxheSA9PT0gJ2Z1bGwnKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLm1vZGFsQXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLm1vZGFsQXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLmtpbmQgPSBraW5kO1xuICAgICAgICB0aGlzLm1vZGFsRm9ybSA9IHRoaXMuY29udGV4dFtraW5kXS5tb2RhbDtcbiAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50ID0gdGhpcy5jb250ZXh0W2tpbmRdLmZvY3VzRWxlbWVudDtcblxuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLm1vZGFsQXJlYS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5iYWNrLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB0aGlzLmNvbnRleHQuZGlhbG9nLm1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB0aGlzLm1vZGFsRm9ybS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICBpZiAoZm9jdXNFbGVtZW50KSBmb2N1c0VsZW1lbnQuZm9jdXMoKTtcbiAgICB9LFxuXG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tb2RhbEZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy5iYWNrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuY29udGV4dC5kaWFsb2cubW9kYWxBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMubW9kYWxGb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBsdWdpbnNbdGhpcy5jb250ZXh0LmRpYWxvZy5raW5kXS5pbml0LmNhbGwodGhpcyk7XG4gICAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvcGx1Z2lucy9tb2R1bGVzL2RpYWxvZy5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */,
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'notice',\n    add: function (core) {\n        const context = core.context;\n        context.notice = {};\n\n        /** dialog */\n        let notice_div = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        let notice_span = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('SPAN');\n        let notice_button = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('BUTTON');\n\n        notice_div.className = 'sun-editor-id-notice';\n        notice_button.className = 'close';\n        notice_button.setAttribute('aria-label', 'Close');\n        notice_button.setAttribute('title', core.lang.dialogBox.close);\n        notice_button.innerHTML = '<div aria-hidden=\"true\" data-command=\"close\" class=\"icon-cancel\"></div>';\n        \n        notice_div.appendChild(notice_span);\n        notice_div.appendChild(notice_button);\n\n        context.notice.modal = notice_div;\n        context.notice.message = notice_span;\n\n        /** add event listeners */\n        notice_button.addEventListener('click', this.onClick_cancel.bind(core));\n        \n        /** append html */\n        context.element.editorArea.insertBefore(notice_div, context.element.wysiwyg);\n        \n        /** empty memory */\n        notice_div = null;\n    },\n\n    onClick_cancel: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.notice.close.call(this);\n    },\n\n    open: function (text)  {\n        this.context.notice.message.textContent = text;\n        this.context.notice.modal.style.display = 'block';\n    },\n\n    close: function () {\n        this.context.notice.modal.style.display = 'none';\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL21vZHVsZXMvbm90aWNlLmpzPzY5MzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUVxQjs7QUFFbkI7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QiwwREFBSTtBQUM3QiwwQkFBMEIsMERBQUk7QUFDOUIsNEJBQTRCLDBEQUFJOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXG4gKlxuICogc3VuZWRpdG9yLmpzXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxuICogTUlUIGxpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vbGliL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ25vdGljZScsXG4gICAgYWRkOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY29yZS5jb250ZXh0O1xuICAgICAgICBjb250ZXh0Lm5vdGljZSA9IHt9O1xuXG4gICAgICAgIC8qKiBkaWFsb2cgKi9cbiAgICAgICAgbGV0IG5vdGljZV9kaXYgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICAgICAgICBsZXQgbm90aWNlX3NwYW4gPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcbiAgICAgICAgbGV0IG5vdGljZV9idXR0b24gPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0JVVFRPTicpO1xuXG4gICAgICAgIG5vdGljZV9kaXYuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtbm90aWNlJztcbiAgICAgICAgbm90aWNlX2J1dHRvbi5jbGFzc05hbWUgPSAnY2xvc2UnO1xuICAgICAgICBub3RpY2VfYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDbG9zZScpO1xuICAgICAgICBub3RpY2VfYnV0dG9uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBjb3JlLmxhbmcuZGlhbG9nQm94LmNsb3NlKTtcbiAgICAgICAgbm90aWNlX2J1dHRvbi5pbm5lckhUTUwgPSAnPGRpdiBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLWNvbW1hbmQ9XCJjbG9zZVwiIGNsYXNzPVwiaWNvbi1jYW5jZWxcIj48L2Rpdj4nO1xuICAgICAgICBcbiAgICAgICAgbm90aWNlX2Rpdi5hcHBlbmRDaGlsZChub3RpY2Vfc3Bhbik7XG4gICAgICAgIG5vdGljZV9kaXYuYXBwZW5kQ2hpbGQobm90aWNlX2J1dHRvbik7XG5cbiAgICAgICAgY29udGV4dC5ub3RpY2UubW9kYWwgPSBub3RpY2VfZGl2O1xuICAgICAgICBjb250ZXh0Lm5vdGljZS5tZXNzYWdlID0gbm90aWNlX3NwYW47XG5cbiAgICAgICAgLyoqIGFkZCBldmVudCBsaXN0ZW5lcnMgKi9cbiAgICAgICAgbm90aWNlX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja19jYW5jZWwuYmluZChjb3JlKSk7XG4gICAgICAgIFxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cbiAgICAgICAgY29udGV4dC5lbGVtZW50LmVkaXRvckFyZWEuaW5zZXJ0QmVmb3JlKG5vdGljZV9kaXYsIGNvbnRleHQuZWxlbWVudC53eXNpd3lnKTtcbiAgICAgICAgXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cbiAgICAgICAgbm90aWNlX2RpdiA9IG51bGw7XG4gICAgfSxcblxuICAgIG9uQ2xpY2tfY2FuY2VsOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucGx1Z2lucy5ub3RpY2UuY2xvc2UuY2FsbCh0aGlzKTtcbiAgICB9LFxuXG4gICAgb3BlbjogZnVuY3Rpb24gKHRleHQpICB7XG4gICAgICAgIHRoaXMuY29udGV4dC5ub3RpY2UubWVzc2FnZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgIHRoaXMuY29udGV4dC5ub3RpY2UubW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfSxcblxuICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5ub3RpY2UubW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL21vZHVsZXMvbm90aWNlLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2018 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    name: 'colorPicker',\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.colorPicker = {\r\n            colorListHTML: '',\r\n            _colorInput: '',\r\n            _defaultColor: '#000',\r\n            _styleProperty: 'color',\r\n            _currentColor: ''\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.createColorList(core.context.option, core.lang);\r\n\r\n        /** caching */\r\n        context.colorPicker.colorListHTML = listDiv;\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    createColorList: function (option, lang) {\r\n        const colorList = !option.colorList ?\r\n            [\r\n                '#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000', '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa',\r\n                '#ffffff', '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd', '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c',\r\n                '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535', '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'\r\n            ] : option.colorList;\r\n\r\n        let list = '<div class=\"inner_layer\">' +\r\n            '<div class=\"pallet_color_selector\">' +\r\n            '   <ul class=\"list_color\">';\r\n        for (let i = 0, len = colorList.length; i < len; i++) {\r\n            const color = colorList[i];\r\n            list += '<li>' +\r\n                    '   <button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' +\r\n                    '</li>';\r\n        }\r\n        list += '</ul>' +\r\n            '</div>' +\r\n            '<form class=\"sub-form-group\">' +\r\n            '   <label>#</label>' +\r\n            '   <input type=\"text\" maxlength=\"6\" class=\"sun-editor-id-submenu-color-input\" />' +\r\n            '   <button type=\"submit\" data-command=\"100\" class=\"sun-editor-id-submenu-color-submit\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n            '</form>' +\r\n            '</div>';\r\n\r\n        return list;\r\n    },\r\n    \r\n    init: function (node, color) {\r\n        const colorPicker = this.plugins.colorPicker;\r\n        let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\r\n        fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor);\r\n\r\n        colorPicker.setInputText.call(this, fillColor);\r\n    },\r\n\r\n    setCurrentColor: function (hexColorStr) {\r\n        this.context.colorPicker._currentColor = hexColorStr;\r\n        this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\r\n    },\r\n\r\n    setInputText: function (hexColorStr) {\r\n        this.context.colorPicker._colorInput.value = hexColorStr.replace('#', '');\r\n        this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\r\n    },\r\n\r\n    getColorInNode: function (node) {\r\n        let findedColor = '';\r\n        const styleProperty = this.context.colorPicker._styleProperty;\r\n\r\n        while (!__WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].isWysiwygDiv(node) && findedColor.length === 0) {\r\n            if (node.nodeType === 1 && node.style[styleProperty]) findedColor = node.style[styleProperty];\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return findedColor;\r\n    },\r\n\r\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str\r\n     */\r\n    isHexColor: function (str) {\r\n        return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\r\n    },\r\n\r\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb - RGB color format\r\n     * @returns {String}\r\n     */\r\n    rgb2hex: function (rgb) {\r\n        rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\r\n        return (rgb && rgb.length === 4) ? \"#\" +\r\n            (\"0\" + parseInt(rgb[1],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgb[2],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgb[3],10).toString(16)).slice(-2) : '';\r\n    }\r\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL21vZHVsZXMvY29sb3JQaWNrZXIuanM/NjVjMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCOztBQUVuQjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0EscUlBQXFJO0FBQ3JJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsMERBQUk7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQSwyQkFBMkIsRUFBRSxZQUFZLEVBQUU7QUFDM0MsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTggSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgdXRpbCBmcm9tICcuLi8uLi9saWIvdXRpbCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBuYW1lOiAnY29sb3JQaWNrZXInLFxyXG4gICAgYWRkOiBmdW5jdGlvbiAoY29yZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjb3JlLmNvbnRleHQ7XHJcbiAgICAgICAgY29udGV4dC5jb2xvclBpY2tlciA9IHtcclxuICAgICAgICAgICAgY29sb3JMaXN0SFRNTDogJycsXHJcbiAgICAgICAgICAgIF9jb2xvcklucHV0OiAnJyxcclxuICAgICAgICAgICAgX2RlZmF1bHRDb2xvcjogJyMwMDAnLFxyXG4gICAgICAgICAgICBfc3R5bGVQcm9wZXJ0eTogJ2NvbG9yJyxcclxuICAgICAgICAgICAgX2N1cnJlbnRDb2xvcjogJydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKiogc2V0IHN1Ym1lbnUgKi9cclxuICAgICAgICBsZXQgbGlzdERpdiA9IHRoaXMuY3JlYXRlQ29sb3JMaXN0KGNvcmUuY29udGV4dC5vcHRpb24sIGNvcmUubGFuZyk7XHJcblxyXG4gICAgICAgIC8qKiBjYWNoaW5nICovXHJcbiAgICAgICAgY29udGV4dC5jb2xvclBpY2tlci5jb2xvckxpc3RIVE1MID0gbGlzdERpdjtcclxuXHJcbiAgICAgICAgLyoqIGVtcHR5IG1lbW9yeSAqL1xyXG4gICAgICAgIGxpc3REaXYgPSBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICBjcmVhdGVDb2xvckxpc3Q6IGZ1bmN0aW9uIChvcHRpb24sIGxhbmcpIHtcclxuICAgICAgICBjb25zdCBjb2xvckxpc3QgPSAhb3B0aW9uLmNvbG9yTGlzdCA/XHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICcjZmYwMDAwJywgJyNmZjVlMDAnLCAnI2ZmZTQwMCcsICcjYWJmMjAwJywgJyMwMGQ4ZmYnLCAnIzAwNTVmZicsICcjNjYwMGZmJywgJyNmZjAwZGQnLCAnIzAwMDAwMCcsICcjZmZkOGQ4JywgJyNmYWUwZDQnLCAnI2ZhZjRjMCcsICcjZTRmN2JhJywgJyNkNGY0ZmEnLCAnI2Q5ZTVmZicsICcjZThkOWZmJywgJyNmZmQ5ZmEnLFxyXG4gICAgICAgICAgICAgICAgJyNmZmZmZmYnLCAnI2ZmYTdhNycsICcjZmZjMTllJywgJyNmYWVkN2QnLCAnI2NlZjI3OScsICcjYjJlYmY0JywgJyNiMmNjZmYnLCAnI2QxYjJmZicsICcjZmZiMmY1JywgJyNiZGJkYmQnLCAnI2YxNWY1ZicsICcjZjI5NjYxJywgJyNlNWQ4NWMnLCAnI2JjZTU1YycsICcjNWNkMWU1JywgJyM2Njk5ZmYnLCAnI2EzNjZmZicsICcjZjI2MWRmJywgJyM4YzhjOGMnLFxyXG4gICAgICAgICAgICAgICAgJyM5ODAwMDAnLCAnIzk5MzgwMCcsICcjOTk4YTAwJywgJyM2Yjk5MDAnLCAnIzAwODI5OScsICcjMDAzMzk5JywgJyMzZDAwOTknLCAnIzk5MDA4NScsICcjMzUzNTM1JywgJyM2NzAwMDAnLCAnIzY2MjUwMCcsICcjNjY1YzAwJywgJyM0NzY2MDAnLCAnIzAwNTc2NicsICcjMDAyMjY2JywgJyMyOTAwNjYnLCAnIzY2MDA1OCcsICcjMjIyMjIyJ1xyXG4gICAgICAgICAgICBdIDogb3B0aW9uLmNvbG9yTGlzdDtcclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSAnPGRpdiBjbGFzcz1cImlubmVyX2xheWVyXCI+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGFsbGV0X2NvbG9yX3NlbGVjdG9yXCI+JyArXHJcbiAgICAgICAgICAgICcgICA8dWwgY2xhc3M9XCJsaXN0X2NvbG9yXCI+JztcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29sb3JMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JMaXN0W2ldO1xyXG4gICAgICAgICAgICBsaXN0ICs9ICc8bGk+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtdmFsdWU9XCInICsgY29sb3IgKyAnXCIgdGl0bGU9XCInICsgY29sb3IgKyAnXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOicgKyBjb2xvciArICc7XCI+PC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvbGk+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGlzdCArPSAnPC91bD4nICtcclxuICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPGZvcm0gY2xhc3M9XCJzdWItZm9ybS1ncm91cFwiPicgK1xyXG4gICAgICAgICAgICAnICAgPGxhYmVsPiM8L2xhYmVsPicgK1xyXG4gICAgICAgICAgICAnICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbWF4bGVuZ3RoPVwiNlwiIGNsYXNzPVwic3VuLWVkaXRvci1pZC1zdWJtZW51LWNvbG9yLWlucHV0XCIgLz4nICtcclxuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGRhdGEtY29tbWFuZD1cIjEwMFwiIGNsYXNzPVwic3VuLWVkaXRvci1pZC1zdWJtZW51LWNvbG9yLXN1Ym1pdFwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnN1Ym1pdEJ1dHRvbiArICdcIj48c3Bhbj4nICsgbGFuZy5kaWFsb2dCb3guc3VibWl0QnV0dG9uICsgJzwvc3Bhbj48L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgJzwvZm9ybT4nICtcclxuICAgICAgICAgICAgJzwvZGl2Pic7XHJcblxyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfSxcclxuICAgIFxyXG4gICAgaW5pdDogZnVuY3Rpb24gKG5vZGUsIGNvbG9yKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3JQaWNrZXIgPSB0aGlzLnBsdWdpbnMuY29sb3JQaWNrZXI7XHJcbiAgICAgICAgbGV0IGZpbGxDb2xvciA9IGNvbG9yID8gY29sb3IgOiBjb2xvclBpY2tlci5nZXRDb2xvckluTm9kZS5jYWxsKHRoaXMsIG5vZGUpIHx8IHRoaXMuY29udGV4dC5jb2xvclBpY2tlci5fZGVmYXVsdENvbG9yO1xyXG4gICAgICAgIGZpbGxDb2xvciA9IGNvbG9yUGlja2VyLmlzSGV4Q29sb3IoZmlsbENvbG9yKSA/IGZpbGxDb2xvciA6IGNvbG9yUGlja2VyLnJnYjJoZXgoZmlsbENvbG9yKTtcclxuXHJcbiAgICAgICAgY29sb3JQaWNrZXIuc2V0SW5wdXRUZXh0LmNhbGwodGhpcywgZmlsbENvbG9yKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0Q3VycmVudENvbG9yOiBmdW5jdGlvbiAoaGV4Q29sb3JTdHIpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY29sb3JQaWNrZXIuX2N1cnJlbnRDb2xvciA9IGhleENvbG9yU3RyO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jb2xvclBpY2tlci5fY29sb3JJbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9IGhleENvbG9yU3RyO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRJbnB1dFRleHQ6IGZ1bmN0aW9uIChoZXhDb2xvclN0cikge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jb2xvclBpY2tlci5fY29sb3JJbnB1dC52YWx1ZSA9IGhleENvbG9yU3RyLnJlcGxhY2UoJyMnLCAnJyk7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmNvbG9yUGlja2VyLnNldEN1cnJlbnRDb2xvci5jYWxsKHRoaXMsIGhleENvbG9yU3RyKTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Q29sb3JJbk5vZGU6IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgbGV0IGZpbmRlZENvbG9yID0gJyc7XHJcbiAgICAgICAgY29uc3Qgc3R5bGVQcm9wZXJ0eSA9IHRoaXMuY29udGV4dC5jb2xvclBpY2tlci5fc3R5bGVQcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgd2hpbGUgKCF1dGlsLmlzV3lzaXd5Z0Rpdihub2RlKSAmJiBmaW5kZWRDb2xvci5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgJiYgbm9kZS5zdHlsZVtzdHlsZVByb3BlcnR5XSkgZmluZGVkQ29sb3IgPSBub2RlLnN0eWxlW3N0eWxlUHJvcGVydHldO1xyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZpbmRlZENvbG9yO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB0byBjaGVjayBoZXggZm9ybWF0IGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXHJcbiAgICAgKi9cclxuICAgIGlzSGV4Q29sb3I6IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICByZXR1cm4gL14jWzAtOWEtZl17M30oPzpbMC05YS1mXXszfSk/JC9pLnRlc3Qoc3RyKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdG8gY29udmVydCBoZXggZm9ybWF0IHRvIGEgcmdiIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmdiIC0gUkdCIGNvbG9yIGZvcm1hdFxyXG4gICAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcmdiMmhleDogZnVuY3Rpb24gKHJnYikge1xyXG4gICAgICAgIHJnYiA9IHJnYi5tYXRjaCgvXnJnYmE/W1xccytdP1xcKFtcXHMrXT8oXFxkKylbXFxzK10/LFtcXHMrXT8oXFxkKylbXFxzK10/LFtcXHMrXT8oXFxkKylbXFxzK10/L2kpO1xyXG5cclxuICAgICAgICByZXR1cm4gKHJnYiAmJiByZ2IubGVuZ3RoID09PSA0KSA/IFwiI1wiICtcclxuICAgICAgICAgICAgKFwiMFwiICsgcGFyc2VJbnQocmdiWzFdLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSArXHJcbiAgICAgICAgICAgIChcIjBcIiArIHBhcnNlSW50KHJnYlsyXSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikgK1xyXG4gICAgICAgICAgICAoXCIwXCIgKyBwYXJzZUludChyZ2JbM10sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpIDogJyc7XHJcbiAgICB9XHJcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL21vZHVsZXMvY29sb3JQaWNrZXIuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'resizing',\n    add: function (core) {\n        const context = core.context;\n        context.resizing = {\n            _resizeClientX: 0,\n            _resizeClientY: 0,\n            _resize_plugin: '',\n            _resize_w: 0,\n            _resize_h: 0,\n            _origin_w: 0,\n            _origin_h: 0,\n            _rotateVertical: false,\n            _resize_direction: ''\n        };\n\n        /** resize controller, button */\n        let resize_div_container = eval(this.setController_resize());\n        context.resizing.resizeContainer = resize_div_container;\n\n        context.resizing.resizeDiv = resize_div_container.getElementsByClassName('modal-resize')[0];\n        context.resizing.resizeDot = resize_div_container.getElementsByClassName('resize-dot')[0];\n        context.resizing.resizeDisplay = resize_div_container.getElementsByClassName('resize-display')[0];\n\n        let resize_button = eval(this.setController_button(core.lang));\n        context.resizing.resizeButton = resize_button;\n        resize_button.addEventListener('mousedown', function (e) { e.stopPropagation(); }, false);\n\n        let resize_handles = context.resizing.resizeHandles = resize_div_container.querySelectorAll('.sun-editor-name-resize-handle');\n        context.resizing.resizeButtonGroup = resize_button.getElementsByClassName('sun-editor-id-resize-button-group')[0];\n\n        /** add event listeners */\n        resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\n\n        /** append html */\n        context.element.relative.appendChild(resize_div_container);\n        context.element.relative.appendChild(resize_button);\n\n        /** empty memory */\n        resize_div_container = null, resize_button = null, resize_handles = null;\n    },\n\n    /** resize controller, button (image, iframe) */\n    setController_resize: function () {\n        const resize_container = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        resize_container.className = 'modal-resize-container';\n        resize_container.style.display = 'none';\n        resize_container.innerHTML = '' +\n            '<div class=\"modal-resize\">' +\n            '   <div class=\"resize-display\"></div>' +\n            '</div>' +\n            '<div class=\"resize-dot\">' +\n            '   <div class=\"tl sun-editor-name-resize-handle\"></div>' +\n            '   <div class=\"tr sun-editor-name-resize-handle\"></div>' +\n            '   <div class=\"bl sun-editor-name-resize-handle\"></div>' +\n            '   <div class=\"br sun-editor-name-resize-handle\"></div>' +\n            '   <div class=\"lw sun-editor-name-resize-handle\"></div>' +\n            '   <div class=\"th sun-editor-name-resize-handle\"></div>' +\n            '   <div class=\"rw sun-editor-name-resize-handle\"></div>' +\n            '   <div class=\"bh sun-editor-name-resize-handle\"></div>' +\n            '</div>';\n\n        return resize_container;\n    },\n\n    setController_button: function (lang) {\n        const resize_button = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement(\"DIV\");\n        resize_button.className = \"resize-btn\";\n        resize_button.style.display = \"none\";\n        resize_button.innerHTML = '' +\n            '<div class=\"arrow arrow-up\"></div>' +\n            '<div class=\"btn-group sun-editor-id-resize-button-group\">' +\n            '   <button type=\"button\" data-command=\"percent\" data-value=\"1\" title=\"' + lang.controller.resize100 + '\"><span class=\"note-fontsize-10\">100%</span></button>' +\n            '   <button type=\"button\" data-command=\"percent\" data-value=\"0.75\" title=\"' + lang.controller.resize75 + '\"><span class=\"note-fontsize-10\">75%</span></button>' +\n            '   <button type=\"button\" data-command=\"percent\" data-value=\"0.5\" title=\"' + lang.controller.resize50 + '\"><span class=\"note-fontsize-10\">50%</span></button>' +\n            '   <button type=\"button\" data-command=\"percent\" data-value=\"0.25\" title=\"' + lang.controller.resize25 + '\"><span class=\"note-fontsize-10\">25%</span></button>' +\n            '   <button type=\"button\" data-command=\"rotate\" data-value=\"-90\" title=\"' + lang.controller.rotateLeft + '\"><div class=\"icon-rotate-left\"></div></button>' +\n            '   <button type=\"button\" data-command=\"rotate\" data-value=\"90\" title=\"' + lang.controller.rotateRight + '\"><div class=\"icon-rotate-right\"></div></button>' +\n            '</div>' +\n            '<div class=\"btn-group\">' +\n            '   <button type=\"button\" data-command=\"mirror\" data-value=\"h\" title=\"' + lang.controller.mirrorHorizontal + '\"><div class=\"icon-mirror-horizontal\"></div></button>' +\n            '   <button type=\"button\" data-command=\"mirror\" data-value=\"v\" title=\"' + lang.controller.mirrorVertical + '\"><div class=\"icon-mirror-vertical\"></div></button>' +\n            '   <button type=\"button\" data-command=\"revert\" title=\"' + lang.dialogBox.revertButton + '\"><div class=\"icon-revert\"></div></button>' +\n            '   <button type=\"button\" data-command=\"update\" title=\"' + lang.controller.edit + '\"><div class=\"icon-modify\"></div></button>' +\n            '   <button type=\"button\" data-command=\"delete\" title=\"' + lang.controller.remove + '\"><div aria-hidden=\"true\" class=\"icon-delete\"></div></button>' +\n            '</div>';\n\n        return resize_button;\n    },\n\n    call_controller_resize: function (targetElement, plugin) {\n        const contextResizing = this.context.resizing;\n        contextResizing._resize_plugin = plugin;\n\n        const resizeContainer = contextResizing.resizeContainer;\n        const resizeDiv = contextResizing.resizeDiv;\n        const offset = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getOffset(targetElement);\n\n        const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\n\n        const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n        const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n        const t = offset.top;\n        const l = offset.left - this.context.element.wysiwyg.scrollLeft;\n\n        resizeContainer.style.top = t + 'px';\n        resizeContainer.style.left = l + 'px';\n        resizeContainer.style.width = w + 'px';\n        resizeContainer.style.height = h + 'px';\n\n        resizeDiv.style.top = '0px';\n        resizeDiv.style.left = '0px';\n        resizeDiv.style.width =  w + 'px';\n        resizeDiv.style.height =  h + 'px';\n\n        let align = targetElement.getAttribute('data-align') || 'basic';\n        align = align === 'none' ? 'basic' : align;\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + w + ' x ' + h + ')');\n\n        const resizeDisplay = this.context[plugin]._resizing ? 'flex' : 'none';\n        const resizeHandles = contextResizing.resizeHandles;\n\n        contextResizing.resizeButtonGroup.style.display = resizeDisplay;\n        for (let i = 0, len = resizeHandles.length; i < len; i++) {\n            resizeHandles[i].style.display = resizeDisplay;\n        }\n\n        this.controllersOn(contextResizing.resizeContainer, contextResizing.resizeButton);\n\n        // button group\n        const overLeft = this.context.element.relative.offsetWidth - l - contextResizing.resizeButton.offsetWidth;\n        contextResizing.resizeButton.style.top = (h + t + 60) + 'px';\n        contextResizing.resizeButton.style.left = (l + (overLeft < 0 ? overLeft : 0)) + 'px';\n\n        contextResizing._resize_w = w;\n        contextResizing._resize_h = h;\n\n        const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\n        contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n        contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n\n        return {\n            w: w,\n            h: h,\n            t: t,\n            l: l\n        };\n    },\n\n    cancel_controller_resize: function () {\n        const isVertical = this.context.resizing._rotateVertical;\n        this.controllersOff();\n        this.context.element.resizeBackground.style.display = 'none';\n\n        const w = isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w;\n        const h = isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h;\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, w, h, isVertical);\n        this.plugins.resizing.setTransformSize.call(this, this.context[this.context.resizing._resize_plugin]._element);\n        \n        this.plugins[this.context.resizing._resize_plugin].init.call(this);\n    },\n\n    create_caption: function () {\n        const caption = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('FIGCAPTION');\n        caption.setAttribute('contenteditable', true);\n        caption.innerHTML = '<p>' + this.lang.dialogBox.caption + '</p>';\n        return caption;\n    },\n\n    set_cover: function (element) {\n        const cover = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('FIGURE');\n        cover.className = 'sun-editor-figure-cover';\n        cover.appendChild(element);\n\n        return cover;\n    },\n\n    set_container: function (cover, className) {\n        const container = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        container.className = 'sun-editor-id-comp ' + className;\n        container.setAttribute('contenteditable', false);\n        container.appendChild(cover);\n\n        return container;\n    },\n\n    onClick_resizeButton: function (e) {\n        e.stopPropagation();\n\n        const target = e.target;\n        const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n\n        if (!command) return;\n\n        const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n        const contextEl = this.context[this.context.resizing._resize_plugin]._element;\n        const contextPlugin = this.plugins[this.context.resizing._resize_plugin];\n\n        e.preventDefault();\n\n        if (/percent/.test(command)) {\n            this.plugins.resizing.resetTransform.call(this, contextEl);\n\n            contextPlugin.setPercentSize.call(this, (value * 100) + '%', 'auto');\n\n            const size = this.plugins.resizing.call_controller_resize.call(this, contextEl, this.context.resizing._resize_plugin);\n            contextPlugin.onModifyMode.call(this, contextEl, size);\n        }\n        else if (/mirror/.test(command)) {\n            const r = contextEl.getAttribute('data-rotate') || '0';\n            let x = contextEl.getAttribute('data-rotateX') || '';\n            let y = contextEl.getAttribute('data-rotateY') || '';\n\n            if ((value === 'h' && !this.context.resizing._rotateVertical) || (value === 'v' && this.context.resizing._rotateVertical)) {\n                y = y ? '' : '180';\n            } else {\n                x = x ? '' : '180';\n            }\n\n            contextEl.setAttribute('data-rotateX', x);\n            contextEl.setAttribute('data-rotateY', y);\n\n            this.plugins.resizing._setTransForm(contextEl, r, x, y);\n        }\n        else if (/rotate/.test(command)) {\n            const contextResizing = this.context.resizing;\n            const slope = (contextEl.getAttribute('data-rotate') * 1) + (value * 1);\n            const deg = Math.abs(slope) >= 360 ? 0 : slope;\n\n            contextEl.setAttribute('data-rotate', deg);\n            contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(deg).toString());\n\n            this.plugins.resizing.setTransformSize.call(this, contextEl);\n\n            const size = this.plugins.resizing.call_controller_resize.call(this, contextEl, contextResizing._resize_plugin);\n            contextPlugin.onModifyMode.call(this, contextEl, size);\n        }\n        else if (/revert/.test(command)) {\n            if (contextPlugin.setAutoSize) {\n                contextPlugin.setAutoSize.call(this);\n            } else {\n                contextPlugin.resetAlign.call(this);\n                this.plugins.resizing.resetTransform.call(this, contextEl);\n            }\n\n            const size = this.plugins.resizing.call_controller_resize.call(this, contextEl, this.context.resizing._resize_plugin);\n            contextPlugin.onModifyMode.call(this, contextEl, size);\n        }\n        else if (/update/.test(command)) {\n            contextPlugin.openModify.call(this);\n            this.controllersOff();\n        }\n        else if (/delete/.test(command)) {\n            contextPlugin.destroy.call(this);\n        }\n    },\n\n    resetTransform: function (element) {\n        const originSize = (element.getAttribute('data-origin') || '').split(',');\n        this.context.resizing._rotateVertical = false;\n\n        element.style.transform = '';\n        element.style.transformOrigin = '';\n        element.setAttribute('data-rotate', '');\n        element.setAttribute('data-rotateX', '');\n        element.setAttribute('data-rotateY', '');\n\n        element.style.width = (originSize[0] + 'px' || 'auto');\n        element.style.height = (originSize[1] + 'px' || '');\n        this.plugins.resizing.setTransformSize.call(this, element);\n    },\n\n    setTransformSize: function (element) {\n        const cover = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getParentElement(element, '.sun-editor-figure-cover');\n\n        const isVertical = this.context.resizing._rotateVertical;\n        const deg = element.getAttribute('data-rotate') * 1;\n\n        const offsetW = element.offsetWidth;\n        const offsetH = element.offsetHeight;\n        const w = isVertical ? offsetH : offsetW;\n        const h = isVertical ? offsetW : offsetH;\n\n        this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW, offsetH);\n\n        cover.style.width = w + 'px';\n        cover.style.height = (this.context[this.context.resizing._resize_plugin]._caption ? '' : h + 'px');\n\n        let transOrigin = '';\n        if (isVertical) {\n            let transW = (offsetW/2) + 'px ' + (offsetW/2) + 'px 0';\n            let transH = (offsetH/2) + 'px ' + (offsetH/2) + 'px 0';\n            transOrigin = deg === 90 || deg === -270 ? transH : transW;\n        }\n\n        element.style.transformOrigin = transOrigin;\n\n        this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\n        this.plugins.resizing._setCaptionPosition.call(this, element, __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getChildElement(__WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getParentElement(element, '.sun-editor-figure-cover'), 'FIGCAPTION'));\n    },\n\n    _setTransForm: function (element, r, x, y) {\n        let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n        let translate = '';\n\n        if (/[1-9]/.test(r) && (x || y)) {\n            translate = x ? 'Y' : 'X';\n\n            switch (r) {\n                case '90':\n                    translate = x && y ? 'X' : y ? translate : '';\n                    break;\n                case '270':\n                    width *= -1;\n                    translate = x && y ? 'Y' : x ? translate : '';\n                    break;\n                case '-90':\n                    translate = x && y ? 'Y' : x ? translate : '';\n                    break;\n                case '-270':\n                    width *= -1;\n                    translate = x && y ? 'X' : y ? translate : '';\n                    break;\n                default:\n                    translate = '';\n            }\n        }\n        \n        element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\n    },\n\n    _setCaptionPosition: function (element, figcaption) {\n        if (figcaption) {\n            figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\n        }\n    },\n\n    onMouseDown_resize_handle: function (e) {\n        const contextResizing = this.context.resizing;\n        const direction = contextResizing._resize_direction = e.target.classList[0];\n        e.stopPropagation();\n        e.preventDefault();\n\n        contextResizing._resizeClientX = e.clientX;\n        contextResizing._resizeClientY = e.clientY;\n        this.context.element.resizeBackground.style.display = 'block';\n        contextResizing.resizeButton.style.display = 'none';\n        contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n\n        const closureFunc_bind = function closureFunc() {\n            this.plugins.resizing.cancel_controller_resize.call(this);\n            document.removeEventListener('mousemove', resizing_element_bind);\n            document.removeEventListener('mouseup', closureFunc_bind);\n        }.bind(this);\n\n        const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n\n        document.addEventListener('mousemove', resizing_element_bind);\n        document.addEventListener('mouseup', closureFunc_bind);\n    },\n\n    resizing_element: function (contextResizing, direction, plugin, e) {\n        const clientX = e.clientX;\n        const clientY = e.clientY;\n\n        let resultW = plugin._element_w;\n        let resultH = plugin._element_h;\n\n        const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n        const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n        const wh = ((plugin._element_h / plugin._element_w) * w);\n\n        if (/t/.test(direction)) contextResizing.resizeDiv.style.top = (plugin._element_h - (/h/.test(direction) ? h : wh)) + 'px';\n        if (/l/.test(direction)) contextResizing.resizeDiv.style.left = (plugin._element_w - w) + 'px';\n\n        if (/r|l/.test(direction)) {\n            contextResizing.resizeDiv.style.width = w + 'px';\n            resultW = w;\n        }\n\n        if (/^(t|b)[^h]$/.test(direction)) {\n            contextResizing.resizeDiv.style.height = wh + 'px';\n            resultH = wh;\n        }\n        else if (/^(t|b)h$/.test(direction)) {\n            contextResizing.resizeDiv.style.height = h + 'px';\n            resultH = h;\n        }\n\n        contextResizing._resize_w = resultW;\n        contextResizing._resize_h = resultH;\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].changeTxt(contextResizing.resizeDisplay, Math.round(resultW) + ' x ' + Math.round(resultH));\n    }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL21vZHVsZXMvcmVzaXppbmcuanM/MTVlOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCOztBQUVuQjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0VBQWtFLHFCQUFxQixFQUFFOztBQUV6RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsaUNBQWlDLDBEQUFJO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLDhCQUE4QiwwREFBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsMERBQUk7O0FBRTNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLDBEQUFJOztBQUVaO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwwREFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0Esc0JBQXNCLDBEQUFJO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0EsMEJBQTBCLDBEQUFJO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxzQkFBc0IsMERBQUk7O0FBRTFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHNFQUFzRSwwREFBSSxpQkFBaUIsMERBQUk7QUFDL0YsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUSwwREFBSTtBQUNaO0FBQ0EsQ0FBQyIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxuICpcbiAqIHN1bmVkaXRvci5qc1xuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cbiAqIE1JVCBsaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlsIGZyb20gJy4uLy4uL2xpYi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6ICdyZXNpemluZycsXG4gICAgYWRkOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY29yZS5jb250ZXh0O1xuICAgICAgICBjb250ZXh0LnJlc2l6aW5nID0ge1xuICAgICAgICAgICAgX3Jlc2l6ZUNsaWVudFg6IDAsXG4gICAgICAgICAgICBfcmVzaXplQ2xpZW50WTogMCxcbiAgICAgICAgICAgIF9yZXNpemVfcGx1Z2luOiAnJyxcbiAgICAgICAgICAgIF9yZXNpemVfdzogMCxcbiAgICAgICAgICAgIF9yZXNpemVfaDogMCxcbiAgICAgICAgICAgIF9vcmlnaW5fdzogMCxcbiAgICAgICAgICAgIF9vcmlnaW5faDogMCxcbiAgICAgICAgICAgIF9yb3RhdGVWZXJ0aWNhbDogZmFsc2UsXG4gICAgICAgICAgICBfcmVzaXplX2RpcmVjdGlvbjogJydcbiAgICAgICAgfTtcblxuICAgICAgICAvKiogcmVzaXplIGNvbnRyb2xsZXIsIGJ1dHRvbiAqL1xuICAgICAgICBsZXQgcmVzaXplX2Rpdl9jb250YWluZXIgPSBldmFsKHRoaXMuc2V0Q29udHJvbGxlcl9yZXNpemUoKSk7XG4gICAgICAgIGNvbnRleHQucmVzaXppbmcucmVzaXplQ29udGFpbmVyID0gcmVzaXplX2Rpdl9jb250YWluZXI7XG5cbiAgICAgICAgY29udGV4dC5yZXNpemluZy5yZXNpemVEaXYgPSByZXNpemVfZGl2X2NvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbC1yZXNpemUnKVswXTtcbiAgICAgICAgY29udGV4dC5yZXNpemluZy5yZXNpemVEb3QgPSByZXNpemVfZGl2X2NvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdyZXNpemUtZG90JylbMF07XG4gICAgICAgIGNvbnRleHQucmVzaXppbmcucmVzaXplRGlzcGxheSA9IHJlc2l6ZV9kaXZfY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Jlc2l6ZS1kaXNwbGF5JylbMF07XG5cbiAgICAgICAgbGV0IHJlc2l6ZV9idXR0b24gPSBldmFsKHRoaXMuc2V0Q29udHJvbGxlcl9idXR0b24oY29yZS5sYW5nKSk7XG4gICAgICAgIGNvbnRleHQucmVzaXppbmcucmVzaXplQnV0dG9uID0gcmVzaXplX2J1dHRvbjtcbiAgICAgICAgcmVzaXplX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9LCBmYWxzZSk7XG5cbiAgICAgICAgbGV0IHJlc2l6ZV9oYW5kbGVzID0gY29udGV4dC5yZXNpemluZy5yZXNpemVIYW5kbGVzID0gcmVzaXplX2Rpdl9jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlJyk7XG4gICAgICAgIGNvbnRleHQucmVzaXppbmcucmVzaXplQnV0dG9uR3JvdXAgPSByZXNpemVfYnV0dG9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtcmVzaXplLWJ1dHRvbi1ncm91cCcpWzBdO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIHJlc2l6ZV9oYW5kbGVzWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd25fcmVzaXplX2hhbmRsZS5iaW5kKGNvcmUpKTtcbiAgICAgICAgcmVzaXplX2hhbmRsZXNbMV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bl9yZXNpemVfaGFuZGxlLmJpbmQoY29yZSkpO1xuICAgICAgICByZXNpemVfaGFuZGxlc1syXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duX3Jlc2l6ZV9oYW5kbGUuYmluZChjb3JlKSk7XG4gICAgICAgIHJlc2l6ZV9oYW5kbGVzWzNdLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd25fcmVzaXplX2hhbmRsZS5iaW5kKGNvcmUpKTtcbiAgICAgICAgcmVzaXplX2hhbmRsZXNbNF0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bl9yZXNpemVfaGFuZGxlLmJpbmQoY29yZSkpO1xuICAgICAgICByZXNpemVfaGFuZGxlc1s1XS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duX3Jlc2l6ZV9oYW5kbGUuYmluZChjb3JlKSk7XG4gICAgICAgIHJlc2l6ZV9oYW5kbGVzWzZdLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd25fcmVzaXplX2hhbmRsZS5iaW5kKGNvcmUpKTtcbiAgICAgICAgcmVzaXplX2hhbmRsZXNbN10uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bl9yZXNpemVfaGFuZGxlLmJpbmQoY29yZSkpO1xuICAgICAgICByZXNpemVfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrX3Jlc2l6ZUJ1dHRvbi5iaW5kKGNvcmUpKTtcblxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cbiAgICAgICAgY29udGV4dC5lbGVtZW50LnJlbGF0aXZlLmFwcGVuZENoaWxkKHJlc2l6ZV9kaXZfY29udGFpbmVyKTtcbiAgICAgICAgY29udGV4dC5lbGVtZW50LnJlbGF0aXZlLmFwcGVuZENoaWxkKHJlc2l6ZV9idXR0b24pO1xuXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cbiAgICAgICAgcmVzaXplX2Rpdl9jb250YWluZXIgPSBudWxsLCByZXNpemVfYnV0dG9uID0gbnVsbCwgcmVzaXplX2hhbmRsZXMgPSBudWxsO1xuICAgIH0sXG5cbiAgICAvKiogcmVzaXplIGNvbnRyb2xsZXIsIGJ1dHRvbiAoaW1hZ2UsIGlmcmFtZSkgKi9cbiAgICBzZXRDb250cm9sbGVyX3Jlc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCByZXNpemVfY29udGFpbmVyID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgICAgICAgcmVzaXplX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnbW9kYWwtcmVzaXplLWNvbnRhaW5lcic7XG4gICAgICAgIHJlc2l6ZV9jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgcmVzaXplX2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLXJlc2l6ZVwiPicgK1xuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJyZXNpemUtZGlzcGxheVwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZXNpemUtZG90XCI+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInRsIHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInRyIHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImJsIHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImJyIHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImx3IHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInRoIHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInJ3IHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImJoIHN1bi1lZGl0b3ItbmFtZS1yZXNpemUtaGFuZGxlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgICByZXR1cm4gcmVzaXplX2NvbnRhaW5lcjtcbiAgICB9LFxuXG4gICAgc2V0Q29udHJvbGxlcl9idXR0b246IGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgIGNvbnN0IHJlc2l6ZV9idXR0b24gPSB1dGlsLmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XG4gICAgICAgIHJlc2l6ZV9idXR0b24uY2xhc3NOYW1lID0gXCJyZXNpemUtYnRuXCI7XG4gICAgICAgIHJlc2l6ZV9idXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXNpemVfYnV0dG9uLmlubmVySFRNTCA9ICcnICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYXJyb3cgYXJyb3ctdXBcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIHN1bi1lZGl0b3ItaWQtcmVzaXplLWJ1dHRvbi1ncm91cFwiPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cInBlcmNlbnRcIiBkYXRhLXZhbHVlPVwiMVwiIHRpdGxlPVwiJyArIGxhbmcuY29udHJvbGxlci5yZXNpemUxMDAgKyAnXCI+PHNwYW4gY2xhc3M9XCJub3RlLWZvbnRzaXplLTEwXCI+MTAwJTwvc3Bhbj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJwZXJjZW50XCIgZGF0YS12YWx1ZT1cIjAuNzVcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIucmVzaXplNzUgKyAnXCI+PHNwYW4gY2xhc3M9XCJub3RlLWZvbnRzaXplLTEwXCI+NzUlPC9zcGFuPjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cInBlcmNlbnRcIiBkYXRhLXZhbHVlPVwiMC41XCIgdGl0bGU9XCInICsgbGFuZy5jb250cm9sbGVyLnJlc2l6ZTUwICsgJ1wiPjxzcGFuIGNsYXNzPVwibm90ZS1mb250c2l6ZS0xMFwiPjUwJTwvc3Bhbj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJwZXJjZW50XCIgZGF0YS12YWx1ZT1cIjAuMjVcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIucmVzaXplMjUgKyAnXCI+PHNwYW4gY2xhc3M9XCJub3RlLWZvbnRzaXplLTEwXCI+MjUlPC9zcGFuPjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cInJvdGF0ZVwiIGRhdGEtdmFsdWU9XCItOTBcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIucm90YXRlTGVmdCArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1yb3RhdGUtbGVmdFwiPjwvZGl2PjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cInJvdGF0ZVwiIGRhdGEtdmFsdWU9XCI5MFwiIHRpdGxlPVwiJyArIGxhbmcuY29udHJvbGxlci5yb3RhdGVSaWdodCArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1yb3RhdGUtcmlnaHRcIj48L2Rpdj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+JyArXG4gICAgICAgICAgICAnICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1jb21tYW5kPVwibWlycm9yXCIgZGF0YS12YWx1ZT1cImhcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIubWlycm9ySG9yaXpvbnRhbCArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1taXJyb3ItaG9yaXpvbnRhbFwiPjwvZGl2PjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cIm1pcnJvclwiIGRhdGEtdmFsdWU9XCJ2XCIgdGl0bGU9XCInICsgbGFuZy5jb250cm9sbGVyLm1pcnJvclZlcnRpY2FsICsgJ1wiPjxkaXYgY2xhc3M9XCJpY29uLW1pcnJvci12ZXJ0aWNhbFwiPjwvZGl2PjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cInJldmVydFwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnJldmVydEJ1dHRvbiArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1yZXZlcnRcIj48L2Rpdj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJ1cGRhdGVcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIuZWRpdCArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1tb2RpZnlcIj48L2Rpdj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJkZWxldGVcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIucmVtb3ZlICsgJ1wiPjxkaXYgYXJpYS1oaWRkZW49XCJ0cnVlXCIgY2xhc3M9XCJpY29uLWRlbGV0ZVwiPjwvZGl2PjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIHJlc2l6ZV9idXR0b247XG4gICAgfSxcblxuICAgIGNhbGxfY29udHJvbGxlcl9yZXNpemU6IGZ1bmN0aW9uICh0YXJnZXRFbGVtZW50LCBwbHVnaW4pIHtcbiAgICAgICAgY29uc3QgY29udGV4dFJlc2l6aW5nID0gdGhpcy5jb250ZXh0LnJlc2l6aW5nO1xuICAgICAgICBjb250ZXh0UmVzaXppbmcuX3Jlc2l6ZV9wbHVnaW4gPSBwbHVnaW47XG5cbiAgICAgICAgY29uc3QgcmVzaXplQ29udGFpbmVyID0gY29udGV4dFJlc2l6aW5nLnJlc2l6ZUNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgcmVzaXplRGl2ID0gY29udGV4dFJlc2l6aW5nLnJlc2l6ZURpdjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdXRpbC5nZXRPZmZzZXQodGFyZ2V0RWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgaXNWZXJ0aWNhbCA9IGNvbnRleHRSZXNpemluZy5fcm90YXRlVmVydGljYWwgPSAvXig5MHwyNzApJC8udGVzdChNYXRoLmFicyh0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3RhdGUnKSkudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgY29uc3QgdyA9IGlzVmVydGljYWwgPyB0YXJnZXRFbGVtZW50Lm9mZnNldEhlaWdodCA6IHRhcmdldEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBpc1ZlcnRpY2FsID8gdGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aCA6IHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBjb25zdCB0ID0gb2Zmc2V0LnRvcDtcbiAgICAgICAgY29uc3QgbCA9IG9mZnNldC5sZWZ0IC0gdGhpcy5jb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5zY3JvbGxMZWZ0O1xuXG4gICAgICAgIHJlc2l6ZUNvbnRhaW5lci5zdHlsZS50b3AgPSB0ICsgJ3B4JztcbiAgICAgICAgcmVzaXplQ29udGFpbmVyLnN0eWxlLmxlZnQgPSBsICsgJ3B4JztcbiAgICAgICAgcmVzaXplQ29udGFpbmVyLnN0eWxlLndpZHRoID0gdyArICdweCc7XG4gICAgICAgIHJlc2l6ZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcblxuICAgICAgICByZXNpemVEaXYuc3R5bGUudG9wID0gJzBweCc7XG4gICAgICAgIHJlc2l6ZURpdi5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgICAgIHJlc2l6ZURpdi5zdHlsZS53aWR0aCA9ICB3ICsgJ3B4JztcbiAgICAgICAgcmVzaXplRGl2LnN0eWxlLmhlaWdodCA9ICBoICsgJ3B4JztcblxuICAgICAgICBsZXQgYWxpZ24gPSB0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbicpIHx8ICdiYXNpYyc7XG4gICAgICAgIGFsaWduID0gYWxpZ24gPT09ICdub25lJyA/ICdiYXNpYycgOiBhbGlnbjtcbiAgICAgICAgdXRpbC5jaGFuZ2VUeHQoY29udGV4dFJlc2l6aW5nLnJlc2l6ZURpc3BsYXksIHRoaXMubGFuZy5kaWFsb2dCb3hbYWxpZ25dICsgJyAoJyArIHcgKyAnIHggJyArIGggKyAnKScpO1xuXG4gICAgICAgIGNvbnN0IHJlc2l6ZURpc3BsYXkgPSB0aGlzLmNvbnRleHRbcGx1Z2luXS5fcmVzaXppbmcgPyAnZmxleCcgOiAnbm9uZSc7XG4gICAgICAgIGNvbnN0IHJlc2l6ZUhhbmRsZXMgPSBjb250ZXh0UmVzaXppbmcucmVzaXplSGFuZGxlcztcblxuICAgICAgICBjb250ZXh0UmVzaXppbmcucmVzaXplQnV0dG9uR3JvdXAuc3R5bGUuZGlzcGxheSA9IHJlc2l6ZURpc3BsYXk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSByZXNpemVIYW5kbGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICByZXNpemVIYW5kbGVzW2ldLnN0eWxlLmRpc3BsYXkgPSByZXNpemVEaXNwbGF5O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250cm9sbGVyc09uKGNvbnRleHRSZXNpemluZy5yZXNpemVDb250YWluZXIsIGNvbnRleHRSZXNpemluZy5yZXNpemVCdXR0b24pO1xuXG4gICAgICAgIC8vIGJ1dHRvbiBncm91cFxuICAgICAgICBjb25zdCBvdmVyTGVmdCA9IHRoaXMuY29udGV4dC5lbGVtZW50LnJlbGF0aXZlLm9mZnNldFdpZHRoIC0gbCAtIGNvbnRleHRSZXNpemluZy5yZXNpemVCdXR0b24ub2Zmc2V0V2lkdGg7XG4gICAgICAgIGNvbnRleHRSZXNpemluZy5yZXNpemVCdXR0b24uc3R5bGUudG9wID0gKGggKyB0ICsgNjApICsgJ3B4JztcbiAgICAgICAgY29udGV4dFJlc2l6aW5nLnJlc2l6ZUJ1dHRvbi5zdHlsZS5sZWZ0ID0gKGwgKyAob3ZlckxlZnQgPCAwID8gb3ZlckxlZnQgOiAwKSkgKyAncHgnO1xuXG4gICAgICAgIGNvbnRleHRSZXNpemluZy5fcmVzaXplX3cgPSB3O1xuICAgICAgICBjb250ZXh0UmVzaXppbmcuX3Jlc2l6ZV9oID0gaDtcblxuICAgICAgICBjb25zdCBvcmlnaW5TaXplID0gKHRhcmdldEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdvcmlnaW4tc2l6ZScpIHx8ICcnKS5zcGxpdCgnLCcpO1xuICAgICAgICBjb250ZXh0UmVzaXppbmcuX29yaWdpbl93ID0gb3JpZ2luU2l6ZVswXSB8fCB0YXJnZXRFbGVtZW50Lm5hdHVyYWxXaWR0aDtcbiAgICAgICAgY29udGV4dFJlc2l6aW5nLl9vcmlnaW5faCA9IG9yaWdpblNpemVbMV0gfHwgdGFyZ2V0RWxlbWVudC5uYXR1cmFsSGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3OiB3LFxuICAgICAgICAgICAgaDogaCxcbiAgICAgICAgICAgIHQ6IHQsXG4gICAgICAgICAgICBsOiBsXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIGNhbmNlbF9jb250cm9sbGVyX3Jlc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5jb250ZXh0LnJlc2l6aW5nLl9yb3RhdGVWZXJ0aWNhbDtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyc09mZigpO1xuICAgICAgICB0aGlzLmNvbnRleHQuZWxlbWVudC5yZXNpemVCYWNrZ3JvdW5kLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgY29uc3QgdyA9IGlzVmVydGljYWwgPyB0aGlzLmNvbnRleHQucmVzaXppbmcuX3Jlc2l6ZV9oIDogdGhpcy5jb250ZXh0LnJlc2l6aW5nLl9yZXNpemVfdztcbiAgICAgICAgY29uc3QgaCA9IGlzVmVydGljYWwgPyB0aGlzLmNvbnRleHQucmVzaXppbmcuX3Jlc2l6ZV93IDogdGhpcy5jb250ZXh0LnJlc2l6aW5nLl9yZXNpemVfaDtcblxuICAgICAgICB0aGlzLnBsdWdpbnNbdGhpcy5jb250ZXh0LnJlc2l6aW5nLl9yZXNpemVfcGx1Z2luXS5zZXRTaXplLmNhbGwodGhpcywgdywgaCwgaXNWZXJ0aWNhbCk7XG4gICAgICAgIHRoaXMucGx1Z2lucy5yZXNpemluZy5zZXRUcmFuc2Zvcm1TaXplLmNhbGwodGhpcywgdGhpcy5jb250ZXh0W3RoaXMuY29udGV4dC5yZXNpemluZy5fcmVzaXplX3BsdWdpbl0uX2VsZW1lbnQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5wbHVnaW5zW3RoaXMuY29udGV4dC5yZXNpemluZy5fcmVzaXplX3BsdWdpbl0uaW5pdC5jYWxsKHRoaXMpO1xuICAgIH0sXG5cbiAgICBjcmVhdGVfY2FwdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjYXB0aW9uID0gdXRpbC5jcmVhdGVFbGVtZW50KCdGSUdDQVBUSU9OJyk7XG4gICAgICAgIGNhcHRpb24uc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgICAgY2FwdGlvbi5pbm5lckhUTUwgPSAnPHA+JyArIHRoaXMubGFuZy5kaWFsb2dCb3guY2FwdGlvbiArICc8L3A+JztcbiAgICAgICAgcmV0dXJuIGNhcHRpb247XG4gICAgfSxcblxuICAgIHNldF9jb3ZlcjogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgY292ZXIgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0ZJR1VSRScpO1xuICAgICAgICBjb3Zlci5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1maWd1cmUtY292ZXInO1xuICAgICAgICBjb3Zlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gY292ZXI7XG4gICAgfSxcblxuICAgIHNldF9jb250YWluZXI6IGZ1bmN0aW9uIChjb3ZlciwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHV0aWwuY3JlYXRlRWxlbWVudCgnRElWJyk7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC1jb21wICcgKyBjbGFzc05hbWU7XG4gICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvdmVyKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH0sXG5cbiAgICBvbkNsaWNrX3Jlc2l6ZUJ1dHRvbjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcpIHx8IHRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJyk7XG5cbiAgICAgICAgaWYgKCFjb21tYW5kKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJykgfHwgdGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRFbCA9IHRoaXMuY29udGV4dFt0aGlzLmNvbnRleHQucmVzaXppbmcuX3Jlc2l6ZV9wbHVnaW5dLl9lbGVtZW50O1xuICAgICAgICBjb25zdCBjb250ZXh0UGx1Z2luID0gdGhpcy5wbHVnaW5zW3RoaXMuY29udGV4dC5yZXNpemluZy5fcmVzaXplX3BsdWdpbl07XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICgvcGVyY2VudC8udGVzdChjb21tYW5kKSkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2l6aW5nLnJlc2V0VHJhbnNmb3JtLmNhbGwodGhpcywgY29udGV4dEVsKTtcblxuICAgICAgICAgICAgY29udGV4dFBsdWdpbi5zZXRQZXJjZW50U2l6ZS5jYWxsKHRoaXMsICh2YWx1ZSAqIDEwMCkgKyAnJScsICdhdXRvJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnBsdWdpbnMucmVzaXppbmcuY2FsbF9jb250cm9sbGVyX3Jlc2l6ZS5jYWxsKHRoaXMsIGNvbnRleHRFbCwgdGhpcy5jb250ZXh0LnJlc2l6aW5nLl9yZXNpemVfcGx1Z2luKTtcbiAgICAgICAgICAgIGNvbnRleHRQbHVnaW4ub25Nb2RpZnlNb2RlLmNhbGwodGhpcywgY29udGV4dEVsLCBzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgvbWlycm9yLy50ZXN0KGNvbW1hbmQpKSB7XG4gICAgICAgICAgICBjb25zdCByID0gY29udGV4dEVsLmdldEF0dHJpYnV0ZSgnZGF0YS1yb3RhdGUnKSB8fCAnMCc7XG4gICAgICAgICAgICBsZXQgeCA9IGNvbnRleHRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm90YXRlWCcpIHx8ICcnO1xuICAgICAgICAgICAgbGV0IHkgPSBjb250ZXh0RWwuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdGF0ZVknKSB8fCAnJztcblxuICAgICAgICAgICAgaWYgKCh2YWx1ZSA9PT0gJ2gnICYmICF0aGlzLmNvbnRleHQucmVzaXppbmcuX3JvdGF0ZVZlcnRpY2FsKSB8fCAodmFsdWUgPT09ICd2JyAmJiB0aGlzLmNvbnRleHQucmVzaXppbmcuX3JvdGF0ZVZlcnRpY2FsKSkge1xuICAgICAgICAgICAgICAgIHkgPSB5ID8gJycgOiAnMTgwJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IHggPyAnJyA6ICcxODAnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0RWwuc2V0QXR0cmlidXRlKCdkYXRhLXJvdGF0ZVgnLCB4KTtcbiAgICAgICAgICAgIGNvbnRleHRFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcm90YXRlWScsIHkpO1xuXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMucmVzaXppbmcuX3NldFRyYW5zRm9ybShjb250ZXh0RWwsIHIsIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9yb3RhdGUvLnRlc3QoY29tbWFuZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRSZXNpemluZyA9IHRoaXMuY29udGV4dC5yZXNpemluZztcbiAgICAgICAgICAgIGNvbnN0IHNsb3BlID0gKGNvbnRleHRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm90YXRlJykgKiAxKSArICh2YWx1ZSAqIDEpO1xuICAgICAgICAgICAgY29uc3QgZGVnID0gTWF0aC5hYnMoc2xvcGUpID49IDM2MCA/IDAgOiBzbG9wZTtcblxuICAgICAgICAgICAgY29udGV4dEVsLnNldEF0dHJpYnV0ZSgnZGF0YS1yb3RhdGUnLCBkZWcpO1xuICAgICAgICAgICAgY29udGV4dFJlc2l6aW5nLl9yb3RhdGVWZXJ0aWNhbCA9IC9eKDkwfDI3MCkkLy50ZXN0KE1hdGguYWJzKGRlZykudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIHRoaXMucGx1Z2lucy5yZXNpemluZy5zZXRUcmFuc2Zvcm1TaXplLmNhbGwodGhpcywgY29udGV4dEVsKTtcblxuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMucGx1Z2lucy5yZXNpemluZy5jYWxsX2NvbnRyb2xsZXJfcmVzaXplLmNhbGwodGhpcywgY29udGV4dEVsLCBjb250ZXh0UmVzaXppbmcuX3Jlc2l6ZV9wbHVnaW4pO1xuICAgICAgICAgICAgY29udGV4dFBsdWdpbi5vbk1vZGlmeU1vZGUuY2FsbCh0aGlzLCBjb250ZXh0RWwsIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9yZXZlcnQvLnRlc3QoY29tbWFuZCkpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0UGx1Z2luLnNldEF1dG9TaXplKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFBsdWdpbi5zZXRBdXRvU2l6ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0UGx1Z2luLnJlc2V0QWxpZ24uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbnMucmVzaXppbmcucmVzZXRUcmFuc2Zvcm0uY2FsbCh0aGlzLCBjb250ZXh0RWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzaXplID0gdGhpcy5wbHVnaW5zLnJlc2l6aW5nLmNhbGxfY29udHJvbGxlcl9yZXNpemUuY2FsbCh0aGlzLCBjb250ZXh0RWwsIHRoaXMuY29udGV4dC5yZXNpemluZy5fcmVzaXplX3BsdWdpbik7XG4gICAgICAgICAgICBjb250ZXh0UGx1Z2luLm9uTW9kaWZ5TW9kZS5jYWxsKHRoaXMsIGNvbnRleHRFbCwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL3VwZGF0ZS8udGVzdChjb21tYW5kKSkge1xuICAgICAgICAgICAgY29udGV4dFBsdWdpbi5vcGVuTW9kaWZ5LmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJzT2ZmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL2RlbGV0ZS8udGVzdChjb21tYW5kKSkge1xuICAgICAgICAgICAgY29udGV4dFBsdWdpbi5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVzZXRUcmFuc2Zvcm06IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG9yaWdpblNpemUgPSAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luJykgfHwgJycpLnNwbGl0KCcsJyk7XG4gICAgICAgIHRoaXMuY29udGV4dC5yZXNpemluZy5fcm90YXRlVmVydGljYWwgPSBmYWxzZTtcblxuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICcnO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1yb3RhdGUnLCAnJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXJvdGF0ZVgnLCAnJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXJvdGF0ZVknLCAnJyk7XG5cbiAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IChvcmlnaW5TaXplWzBdICsgJ3B4JyB8fCAnYXV0bycpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IChvcmlnaW5TaXplWzFdICsgJ3B4JyB8fCAnJyk7XG4gICAgICAgIHRoaXMucGx1Z2lucy5yZXNpemluZy5zZXRUcmFuc2Zvcm1TaXplLmNhbGwodGhpcywgZWxlbWVudCk7XG4gICAgfSxcblxuICAgIHNldFRyYW5zZm9ybVNpemU6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGNvdmVyID0gdXRpbC5nZXRQYXJlbnRFbGVtZW50KGVsZW1lbnQsICcuc3VuLWVkaXRvci1maWd1cmUtY292ZXInKTtcblxuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5jb250ZXh0LnJlc2l6aW5nLl9yb3RhdGVWZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgZGVnID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm90YXRlJykgKiAxO1xuXG4gICAgICAgIGNvbnN0IG9mZnNldFcgPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICBjb25zdCBvZmZzZXRIID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHcgPSBpc1ZlcnRpY2FsID8gb2Zmc2V0SCA6IG9mZnNldFc7XG4gICAgICAgIGNvbnN0IGggPSBpc1ZlcnRpY2FsID8gb2Zmc2V0VyA6IG9mZnNldEg7XG5cbiAgICAgICAgdGhpcy5wbHVnaW5zW3RoaXMuY29udGV4dC5yZXNpemluZy5fcmVzaXplX3BsdWdpbl0uY2FuY2VsUGVyY2VudEF0dHIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5wbHVnaW5zW3RoaXMuY29udGV4dC5yZXNpemluZy5fcmVzaXplX3BsdWdpbl0uc2V0U2l6ZS5jYWxsKHRoaXMsIG9mZnNldFcsIG9mZnNldEgpO1xuXG4gICAgICAgIGNvdmVyLnN0eWxlLndpZHRoID0gdyArICdweCc7XG4gICAgICAgIGNvdmVyLnN0eWxlLmhlaWdodCA9ICh0aGlzLmNvbnRleHRbdGhpcy5jb250ZXh0LnJlc2l6aW5nLl9yZXNpemVfcGx1Z2luXS5fY2FwdGlvbiA/ICcnIDogaCArICdweCcpO1xuXG4gICAgICAgIGxldCB0cmFuc09yaWdpbiA9ICcnO1xuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgbGV0IHRyYW5zVyA9IChvZmZzZXRXLzIpICsgJ3B4ICcgKyAob2Zmc2V0Vy8yKSArICdweCAwJztcbiAgICAgICAgICAgIGxldCB0cmFuc0ggPSAob2Zmc2V0SC8yKSArICdweCAnICsgKG9mZnNldEgvMikgKyAncHggMCc7XG4gICAgICAgICAgICB0cmFuc09yaWdpbiA9IGRlZyA9PT0gOTAgfHwgZGVnID09PSAtMjcwID8gdHJhbnNIIDogdHJhbnNXO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSB0cmFuc09yaWdpbjtcblxuICAgICAgICB0aGlzLnBsdWdpbnMucmVzaXppbmcuX3NldFRyYW5zRm9ybShlbGVtZW50LCBkZWcudG9TdHJpbmcoKSwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm90YXRlWCcpIHx8ICcnLCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3RhdGVZJykgfHwgJycpO1xuICAgICAgICB0aGlzLnBsdWdpbnMucmVzaXppbmcuX3NldENhcHRpb25Qb3NpdGlvbi5jYWxsKHRoaXMsIGVsZW1lbnQsIHV0aWwuZ2V0Q2hpbGRFbGVtZW50KHV0aWwuZ2V0UGFyZW50RWxlbWVudChlbGVtZW50LCAnLnN1bi1lZGl0b3ItZmlndXJlLWNvdmVyJyksICdGSUdDQVBUSU9OJykpO1xuICAgIH0sXG5cbiAgICBfc2V0VHJhbnNGb3JtOiBmdW5jdGlvbiAoZWxlbWVudCwgciwgeCwgeSkge1xuICAgICAgICBsZXQgd2lkdGggPSAoZWxlbWVudC5vZmZzZXRXaWR0aCAtIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAqICgvLS8udGVzdChyKSA/IDEgOiAtMSk7XG4gICAgICAgIGxldCB0cmFuc2xhdGUgPSAnJztcblxuICAgICAgICBpZiAoL1sxLTldLy50ZXN0KHIpICYmICh4IHx8IHkpKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGUgPSB4ID8gJ1knIDogJ1gnO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICc5MCc6XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSA9IHggJiYgeSA/ICdYJyA6IHkgPyB0cmFuc2xhdGUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnMjcwJzpcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKj0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSA9IHggJiYgeSA/ICdZJyA6IHggPyB0cmFuc2xhdGUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnLTkwJzpcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlID0geCAmJiB5ID8gJ1knIDogeCA/IHRyYW5zbGF0ZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICctMjcwJzpcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKj0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSA9IHggJiYgeSA/ICdYJyA6IHkgPyB0cmFuc2xhdGUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgnICsgciArICdkZWcpJyArICh4ID8gJyByb3RhdGVYKCcgKyB4ICsgJ2RlZyknIDogJycpICsgKHkgPyAnIHJvdGF0ZVkoJyArIHkgKyAnZGVnKScgOiAnJykgKyAodHJhbnNsYXRlID8gJyB0cmFuc2xhdGUnICsgdHJhbnNsYXRlICsgJygnICsgd2lkdGggKyAncHgpJyA6ICcnKTtcbiAgICB9LFxuXG4gICAgX3NldENhcHRpb25Qb3NpdGlvbjogZnVuY3Rpb24gKGVsZW1lbnQsIGZpZ2NhcHRpb24pIHtcbiAgICAgICAgaWYgKGZpZ2NhcHRpb24pIHtcbiAgICAgICAgICAgIGZpZ2NhcHRpb24uc3R5bGUubWFyZ2luVG9wID0gKHRoaXMuY29udGV4dC5yZXNpemluZy5fcm90YXRlVmVydGljYWwgPyBlbGVtZW50Lm9mZnNldFdpZHRoIC0gZWxlbWVudC5vZmZzZXRIZWlnaHQgOiAwKSArICdweCc7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25Nb3VzZURvd25fcmVzaXplX2hhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dFJlc2l6aW5nID0gdGhpcy5jb250ZXh0LnJlc2l6aW5nO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBjb250ZXh0UmVzaXppbmcuX3Jlc2l6ZV9kaXJlY3Rpb24gPSBlLnRhcmdldC5jbGFzc0xpc3RbMF07XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb250ZXh0UmVzaXppbmcuX3Jlc2l6ZUNsaWVudFggPSBlLmNsaWVudFg7XG4gICAgICAgIGNvbnRleHRSZXNpemluZy5fcmVzaXplQ2xpZW50WSA9IGUuY2xpZW50WTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmVsZW1lbnQucmVzaXplQmFja2dyb3VuZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgY29udGV4dFJlc2l6aW5nLnJlc2l6ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBjb250ZXh0UmVzaXppbmcucmVzaXplRGl2LnN0eWxlLmZsb2F0ID0gL2wvLnRlc3QoZGlyZWN0aW9uKSA/ICdyaWdodCcgOiAvci8udGVzdChkaXJlY3Rpb24pID8gJ2xlZnQnIDogJ25vbmUnO1xuXG4gICAgICAgIGNvbnN0IGNsb3N1cmVGdW5jX2JpbmQgPSBmdW5jdGlvbiBjbG9zdXJlRnVuYygpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2lucy5yZXNpemluZy5jYW5jZWxfY29udHJvbGxlcl9yZXNpemUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlc2l6aW5nX2VsZW1lbnRfYmluZCk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgY2xvc3VyZUZ1bmNfYmluZCk7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICBjb25zdCByZXNpemluZ19lbGVtZW50X2JpbmQgPSB0aGlzLnBsdWdpbnMucmVzaXppbmcucmVzaXppbmdfZWxlbWVudC5iaW5kKHRoaXMsIGNvbnRleHRSZXNpemluZywgZGlyZWN0aW9uLCB0aGlzLmNvbnRleHRbY29udGV4dFJlc2l6aW5nLl9yZXNpemVfcGx1Z2luXSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcmVzaXppbmdfZWxlbWVudF9iaW5kKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNsb3N1cmVGdW5jX2JpbmQpO1xuICAgIH0sXG5cbiAgICByZXNpemluZ19lbGVtZW50OiBmdW5jdGlvbiAoY29udGV4dFJlc2l6aW5nLCBkaXJlY3Rpb24sIHBsdWdpbiwgZSkge1xuICAgICAgICBjb25zdCBjbGllbnRYID0gZS5jbGllbnRYO1xuICAgICAgICBjb25zdCBjbGllbnRZID0gZS5jbGllbnRZO1xuXG4gICAgICAgIGxldCByZXN1bHRXID0gcGx1Z2luLl9lbGVtZW50X3c7XG4gICAgICAgIGxldCByZXN1bHRIID0gcGx1Z2luLl9lbGVtZW50X2g7XG5cbiAgICAgICAgY29uc3QgdyA9IHBsdWdpbi5fZWxlbWVudF93ICsgKC9yLy50ZXN0KGRpcmVjdGlvbikgPyBjbGllbnRYIC0gY29udGV4dFJlc2l6aW5nLl9yZXNpemVDbGllbnRYIDogY29udGV4dFJlc2l6aW5nLl9yZXNpemVDbGllbnRYIC0gY2xpZW50WCk7XG4gICAgICAgIGNvbnN0IGggPSBwbHVnaW4uX2VsZW1lbnRfaCArICgvYi8udGVzdChkaXJlY3Rpb24pID8gY2xpZW50WSAtIGNvbnRleHRSZXNpemluZy5fcmVzaXplQ2xpZW50WSA6IGNvbnRleHRSZXNpemluZy5fcmVzaXplQ2xpZW50WSAtIGNsaWVudFkpO1xuICAgICAgICBjb25zdCB3aCA9ICgocGx1Z2luLl9lbGVtZW50X2ggLyBwbHVnaW4uX2VsZW1lbnRfdykgKiB3KTtcblxuICAgICAgICBpZiAoL3QvLnRlc3QoZGlyZWN0aW9uKSkgY29udGV4dFJlc2l6aW5nLnJlc2l6ZURpdi5zdHlsZS50b3AgPSAocGx1Z2luLl9lbGVtZW50X2ggLSAoL2gvLnRlc3QoZGlyZWN0aW9uKSA/IGggOiB3aCkpICsgJ3B4JztcbiAgICAgICAgaWYgKC9sLy50ZXN0KGRpcmVjdGlvbikpIGNvbnRleHRSZXNpemluZy5yZXNpemVEaXYuc3R5bGUubGVmdCA9IChwbHVnaW4uX2VsZW1lbnRfdyAtIHcpICsgJ3B4JztcblxuICAgICAgICBpZiAoL3J8bC8udGVzdChkaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBjb250ZXh0UmVzaXppbmcucmVzaXplRGl2LnN0eWxlLndpZHRoID0gdyArICdweCc7XG4gICAgICAgICAgICByZXN1bHRXID0gdztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgvXih0fGIpW15oXSQvLnRlc3QoZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgY29udGV4dFJlc2l6aW5nLnJlc2l6ZURpdi5zdHlsZS5oZWlnaHQgPSB3aCArICdweCc7XG4gICAgICAgICAgICByZXN1bHRIID0gd2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL14odHxiKWgkLy50ZXN0KGRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnRleHRSZXNpemluZy5yZXNpemVEaXYuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG4gICAgICAgICAgICByZXN1bHRIID0gaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHRSZXNpemluZy5fcmVzaXplX3cgPSByZXN1bHRXO1xuICAgICAgICBjb250ZXh0UmVzaXppbmcuX3Jlc2l6ZV9oID0gcmVzdWx0SDtcbiAgICAgICAgdXRpbC5jaGFuZ2VUeHQoY29udGV4dFJlc2l6aW5nLnJlc2l6ZURpc3BsYXksIE1hdGgucm91bmQocmVzdWx0VykgKyAnIHggJyArIE1hdGgucm91bmQocmVzdWx0SCkpO1xuICAgIH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL21vZHVsZXMvcmVzaXppbmcuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */,
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(17);


/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_initComponents__ = __webpack_require__(18);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar Core = function () {\n  function Core() {\n    _classCallCheck(this, Core);\n\n    Core.run();\n  }\n\n  _createClass(Core, null, [{\n    key: 'run',\n    value: function run() {\n      Object(__WEBPACK_IMPORTED_MODULE_0__components_initComponents__[\"a\" /* default */])();\n    }\n  }]);\n\n  return Core;\n}();\n\nvar ready = function ready(fn) {\n  if (document.attachEvent ? document.readyState === 'complete' : document.readyState !== 'loading') {\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', fn);\n  }\n};\n\nready(function () {\n  new Core();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvc3JjL2FkbWluL2pzL0NvcmUuanM/NjhjZSJdLCJuYW1lcyI6WyJDb3JlIiwicnVuIiwiaW5pdENvbXBvbmVudHMiLCJyZWFkeSIsImZuIiwiZG9jdW1lbnQiLCJhdHRhY2hFdmVudCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7SUFFTUEsSTtBQUNKLGtCQUFjO0FBQUE7O0FBQ1pBLFNBQUtDLEdBQUw7QUFDRDs7OzswQkFFWTtBQUNYQyx5RkFBY0E7QUFDZjs7Ozs7O0FBR0gsSUFBTUMsUUFBUSxTQUFSQSxLQUFRLENBQUNDLEVBQUQsRUFBUTtBQUNwQixNQUFJQyxTQUFTQyxXQUFULEdBQ0FELFNBQVNFLFVBQVQsS0FBd0IsVUFEeEIsR0FFQUYsU0FBU0UsVUFBVCxLQUF3QixTQUY1QixFQUdFO0FBQ0FIO0FBQ0QsR0FMRCxNQUtPO0FBQ0xDLGFBQVNHLGdCQUFULENBQTBCLGtCQUExQixFQUE4Q0osRUFBOUM7QUFDRDtBQUNGLENBVEQ7O0FBV0FELE1BQU0sWUFBTTtBQUNWLE1BQUlILElBQUo7QUFDRCxDQUZEIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXRDb21wb25lbnRzIGZyb20gJy4vY29tcG9uZW50cy9faW5pdENvbXBvbmVudHMnO1xyXG5cclxuY2xhc3MgQ29yZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBDb3JlLnJ1bigpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJ1bigpIHtcclxuICAgIGluaXRDb21wb25lbnRzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCByZWFkeSA9IChmbikgPT4ge1xyXG4gIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudFxyXG4gICAgPyBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnXHJcbiAgICA6IGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJ1xyXG4gICkge1xyXG4gICAgZm4oKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZuKTtcclxuICB9XHJcbn07XHJcblxyXG5yZWFkeSgoKSA9PiB7XHJcbiAgbmV3IENvcmUoKTtcclxufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3Jlc291cmNlcy9zcmMvYWRtaW4vanMvQ29yZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PageEditor__ = __webpack_require__(19);\n\n\nvar initComponents = function initComponents() {\n  new __WEBPACK_IMPORTED_MODULE_0__PageEditor__[\"a\" /* default */]();\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (initComponents);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvc3JjL2FkbWluL2pzL2NvbXBvbmVudHMvX2luaXRDb21wb25lbnRzLmpzPzllN2EiXSwibmFtZXMiOlsiaW5pdENvbXBvbmVudHMiLCJQYWdlRWRpdG9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOztBQUVBLElBQU1BLGlCQUFpQixTQUFqQkEsY0FBaUIsR0FBTTtBQUMzQixNQUFJQyw0REFBSjtBQUNELENBRkQ7O0FBSWVELHVFQUFmIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBhZ2VFZGl0b3IgZnJvbSAnLi9QYWdlRWRpdG9yJztcclxuXHJcbmNvbnN0IGluaXRDb21wb25lbnRzID0gKCkgPT4ge1xyXG4gIG5ldyBQYWdlRWRpdG9yKCk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpbml0Q29tcG9uZW50cztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcmVzb3VyY2VzL3NyYy9hZG1pbi9qcy9jb21wb25lbnRzL19pbml0Q29tcG9uZW50cy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_suneditor__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_suneditor_src_plugins__ = __webpack_require__(25);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar PageEditor = function () {\n  function PageEditor() {\n    _classCallCheck(this, PageEditor);\n\n    if (this.setVars()) {\n      this.initEditor();\n    }\n  }\n\n  _createClass(PageEditor, [{\n    key: 'setVars',\n    value: function setVars() {\n      this.selectors = {\n        'editor': '[js-page-editor]'\n      };\n\n      this.editorEl = document.querySelector(this.selectors.editor);\n\n      if (!this.editorEl) return false;\n\n      return true;\n    }\n  }, {\n    key: 'initEditor',\n    value: function initEditor() {\n      this.editor = __WEBPACK_IMPORTED_MODULE_0_suneditor__[\"a\" /* default */].create(this.editorEl, {\n        plugins: __WEBPACK_IMPORTED_MODULE_1_suneditor_src_plugins__[\"a\" /* default */],\n        buttonList: [['fontSize', 'formatBlock'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['fontColor', 'hiliteColor'], ['removeFormat'], ['indent', 'outdent'], ['align', 'horizontalRule', 'list', 'table'], ['link', 'image', 'video'], ['fullScreen', 'showBlocks', 'codeView']],\n        height: 400,\n        resizingBar: false,\n        stickyToolbar: 65\n      });\n    }\n  }]);\n\n  return PageEditor;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PageEditor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvc3JjL2FkbWluL2pzL2NvbXBvbmVudHMvUGFnZUVkaXRvci5qcz80ZjkyIl0sIm5hbWVzIjpbIlBhZ2VFZGl0b3IiLCJzZXRWYXJzIiwiaW5pdEVkaXRvciIsInNlbGVjdG9ycyIsImVkaXRvckVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZWRpdG9yIiwic3VuZWRpdG9yIiwiY3JlYXRlIiwicGx1Z2lucyIsImJ1dHRvbkxpc3QiLCJoZWlnaHQiLCJyZXNpemluZ0JhciIsInN0aWNreVRvb2xiYXIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7O0lBRXFCQSxVO0FBRW5CLHdCQUFjO0FBQUE7O0FBQ1osUUFBSSxLQUFLQyxPQUFMLEVBQUosRUFBb0I7QUFDbEIsV0FBS0MsVUFBTDtBQUNEO0FBQ0Y7Ozs7OEJBRVM7QUFDUixXQUFLQyxTQUFMLEdBQWlCO0FBQ2Ysa0JBQVU7QUFESyxPQUFqQjs7QUFJQSxXQUFLQyxRQUFMLEdBQWdCQyxTQUFTQyxhQUFULENBQXVCLEtBQUtILFNBQUwsQ0FBZUksTUFBdEMsQ0FBaEI7O0FBRUEsVUFBSSxDQUFDLEtBQUtILFFBQVYsRUFBb0IsT0FBTyxLQUFQOztBQUVwQixhQUFPLElBQVA7QUFDRDs7O2lDQUVZO0FBQ1gsV0FBS0csTUFBTCxHQUFjQywwREFBU0EsQ0FBQ0MsTUFBVixDQUFpQixLQUFLTCxRQUF0QixFQUFnQztBQUM1Q00saUJBQVNBLHNFQURtQztBQUU1Q0Msb0JBQVksQ0FDUixDQUFDLFVBQUQsRUFBYSxhQUFiLENBRFEsRUFFUixDQUFDLE1BQUQsRUFBUyxXQUFULEVBQXNCLFFBQXRCLEVBQWdDLFFBQWhDLEVBQTBDLFdBQTFDLEVBQXVELGFBQXZELENBRlEsRUFHUixDQUFDLFdBQUQsRUFBYyxhQUFkLENBSFEsRUFJUixDQUFDLGNBQUQsQ0FKUSxFQUtSLENBQUMsUUFBRCxFQUFXLFNBQVgsQ0FMUSxFQU1SLENBQUMsT0FBRCxFQUFVLGdCQUFWLEVBQTRCLE1BQTVCLEVBQW9DLE9BQXBDLENBTlEsRUFPUixDQUFDLE1BQUQsRUFBUyxPQUFULEVBQWtCLE9BQWxCLENBUFEsRUFRUixDQUFDLFlBQUQsRUFBZSxZQUFmLEVBQTZCLFVBQTdCLENBUlEsQ0FGZ0M7QUFZNUNDLGdCQUFTLEdBWm1DO0FBYTVDQyxxQkFBYSxLQWIrQjtBQWM1Q0MsdUJBQWU7QUFkNkIsT0FBaEMsQ0FBZDtBQWdCRDs7Ozs7O0FBckNrQmQsbUUiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3VuZWRpdG9yIGZyb20gJ3N1bmVkaXRvcidcclxuaW1wb3J0IHBsdWdpbnMgZnJvbSAnc3VuZWRpdG9yL3NyYy9wbHVnaW5zJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZUVkaXRvciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKHRoaXMuc2V0VmFycygpKSB7XHJcbiAgICAgIHRoaXMuaW5pdEVkaXRvcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0VmFycygpIHtcclxuICAgIHRoaXMuc2VsZWN0b3JzID0ge1xyXG4gICAgICAnZWRpdG9yJzogJ1tqcy1wYWdlLWVkaXRvcl0nLFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVkaXRvckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9ycy5lZGl0b3IpO1xyXG5cclxuICAgIGlmICghdGhpcy5lZGl0b3JFbCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaW5pdEVkaXRvcigpIHtcclxuICAgIHRoaXMuZWRpdG9yID0gc3VuZWRpdG9yLmNyZWF0ZSh0aGlzLmVkaXRvckVsLCB7XHJcbiAgICAgIHBsdWdpbnM6IHBsdWdpbnMsXHJcbiAgICAgIGJ1dHRvbkxpc3Q6IFtcclxuICAgICAgICAgIFsnZm9udFNpemUnLCAnZm9ybWF0QmxvY2snXSxcclxuICAgICAgICAgIFsnYm9sZCcsICd1bmRlcmxpbmUnLCAnaXRhbGljJywgJ3N0cmlrZScsICdzdWJzY3JpcHQnLCAnc3VwZXJzY3JpcHQnXSxcclxuICAgICAgICAgIFsnZm9udENvbG9yJywgJ2hpbGl0ZUNvbG9yJ10sXHJcbiAgICAgICAgICBbJ3JlbW92ZUZvcm1hdCddLFxyXG4gICAgICAgICAgWydpbmRlbnQnLCAnb3V0ZGVudCddLFxyXG4gICAgICAgICAgWydhbGlnbicsICdob3Jpem9udGFsUnVsZScsICdsaXN0JywgJ3RhYmxlJ10sXHJcbiAgICAgICAgICBbJ2xpbmsnLCAnaW1hZ2UnLCAndmlkZW8nXSxcclxuICAgICAgICAgIFsnZnVsbFNjcmVlbicsICdzaG93QmxvY2tzJywgJ2NvZGVWaWV3J10sXHJcbiAgICAgIF0sXHJcbiAgICAgIGhlaWdodCA6IDQwMCxcclxuICAgICAgcmVzaXppbmdCYXI6IGZhbHNlLFxyXG4gICAgICBzdGlja3lUb29sYmFyOiA2NSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXNvdXJjZXMvc3JjL2FkbWluL2pzL2NvbXBvbmVudHMvUGFnZUVkaXRvci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_core__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_constructor__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_context__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lang_en__ = __webpack_require__(24);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    /**\n     * @description Returns the create function with preset options.\n     * If the options overlap, the options of the 'create' function take precedence.\n     * @param {Json} options - Initialization options\n     * @returns {function}\n     */\n    init: function (init_options) {\n        const self = this;\n\n        return {\n            create: function (idOrElement, options) {\n                return self.create(idOrElement, options, init_options);\n            }\n        };\n    },\n\n    /**\n     * @description Create the suneditor\n     * @param {String|Element} idOrElement - textarea Id or textarea element\n     * @param {Json} options - user options\n     * @returns {{save: save, getContext: getContext, getContent: getContent, setContent: setContent, appendContent: appendContent, disabled: disabled, enabled: enabled, show: show, hide: hide, destroy: destroy}}\n     */\n    create: function (idOrElement, options, _init_options) {\n        if (typeof options !== 'object') options = {};\n        if (_init_options) {\n            // options = Object.assign(util.copyObj(_init_options), options);\n            options =  [__WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].copyObj(_init_options), options].reduce(function (init, option) {\n                            Object.keys(option).forEach(function (key) {\n                                init[key] = option[key];\n                            });\n                            return init;\n                        }, {});\n        }\n        \n        const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n        if (!element) {\n            if (typeof idOrElement === 'string') {\n                throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n            }\n\n            throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n        }\n\n        const cons = __WEBPACK_IMPORTED_MODULE_2__lib_constructor__[\"a\" /* default */].init(element, options, (options.lang ||  __WEBPACK_IMPORTED_MODULE_4__lang_en__[\"a\" /* default */]), options.plugins);\n\n        if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\n            throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n        }\n\n        element.style.display = 'none';\n        cons.constructed._top.style.display = 'block';\n\n        /** Create to sibling node */\n        if (typeof element.nextElementSibling === 'object') {\n            element.parentNode.insertBefore(cons.constructed._top, element.nextElementSibling);\n        } else {\n            element.parentNode.appendChild(cons.constructed._top);\n        }\n\n        return Object(__WEBPACK_IMPORTED_MODULE_1__lib_core__[\"a\" /* default */])(Object(__WEBPACK_IMPORTED_MODULE_3__lib_context__[\"a\" /* default */])(element, cons.constructed, cons.options), cons.plugins, cons.options.lang);\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9zdW5lZGl0b3IuanM/MTk0OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFaUI7QUFDQTtBQUNlO0FBQ1I7QUFDQTs7O0FBR3JDLHlEQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QixlQUFlLEtBQUs7QUFDcEIsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMERBQUk7QUFDNUI7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLHlCQUF5QixJQUFJO0FBQzdCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLGlFQUFZLDBDQUEwQyx5REFBWTs7QUFFdkY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUEsZUFBZSxrRUFBSSxDQUFDLHFFQUFRO0FBQzVCO0FBQ0EsQ0FBQyxFQUFDIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxuICpcbiAqIHN1bmVkaXRvci5qc1xuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cbiAqIE1JVCBsaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlsIGZyb20gJy4vbGliL3V0aWwnO1xuaW1wb3J0IGNvcmUgZnJvbSAnLi9saWIvY29yZSc7XG5pbXBvcnQgX0NvbnN0cnVjdG9yIGZyb20gJy4vbGliL2NvbnN0cnVjdG9yJztcbmltcG9ydCBfQ29udGV4dCBmcm9tICcuL2xpYi9jb250ZXh0JztcbmltcG9ydCBfZGVmYXVsdExhbmcgZnJvbSAnLi9sYW5nL2VuJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGNyZWF0ZSBmdW5jdGlvbiB3aXRoIHByZXNldCBvcHRpb25zLlxuICAgICAqIElmIHRoZSBvcHRpb25zIG92ZXJsYXAsIHRoZSBvcHRpb25zIG9mIHRoZSAnY3JlYXRlJyBmdW5jdGlvbiB0YWtlIHByZWNlZGVuY2UuXG4gICAgICogQHBhcmFtIHtKc29ufSBvcHRpb25zIC0gSW5pdGlhbGl6YXRpb24gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbiAoaW5pdF9vcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChpZE9yRWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNyZWF0ZShpZE9yRWxlbWVudCwgb3B0aW9ucywgaW5pdF9vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZSB0aGUgc3VuZWRpdG9yXG4gICAgICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudH0gaWRPckVsZW1lbnQgLSB0ZXh0YXJlYSBJZCBvciB0ZXh0YXJlYSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtKc29ufSBvcHRpb25zIC0gdXNlciBvcHRpb25zXG4gICAgICogQHJldHVybnMge3tzYXZlOiBzYXZlLCBnZXRDb250ZXh0OiBnZXRDb250ZXh0LCBnZXRDb250ZW50OiBnZXRDb250ZW50LCBzZXRDb250ZW50OiBzZXRDb250ZW50LCBhcHBlbmRDb250ZW50OiBhcHBlbmRDb250ZW50LCBkaXNhYmxlZDogZGlzYWJsZWQsIGVuYWJsZWQ6IGVuYWJsZWQsIHNob3c6IHNob3csIGhpZGU6IGhpZGUsIGRlc3Ryb3k6IGRlc3Ryb3l9fVxuICAgICAqL1xuICAgIGNyZWF0ZTogZnVuY3Rpb24gKGlkT3JFbGVtZW50LCBvcHRpb25zLCBfaW5pdF9vcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgaWYgKF9pbml0X29wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHV0aWwuY29weU9iaihfaW5pdF9vcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBvcHRpb25zID0gIFt1dGlsLmNvcHlPYmooX2luaXRfb3B0aW9ucyksIG9wdGlvbnNdLnJlZHVjZShmdW5jdGlvbiAoaW5pdCwgb3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9uKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFtrZXldID0gb3B0aW9uW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0eXBlb2YgaWRPckVsZW1lbnQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRPckVsZW1lbnQpIDogaWRPckVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlkT3JFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdbU1VORURJVE9SLmNyZWF0ZS5mYWlsXSBUaGUgZWxlbWVudCBmb3IgdGhhdCBpZCB3YXMgbm90IGZvdW5kIChJRDpcIicgKyBpZE9yRWxlbWVudCArICdcIiknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1tTVU5FRElUT1IuY3JlYXRlLmZhaWxdIHN1bmVkaXRvciByZXF1aXJlcyB0ZXh0YXJlYVxcJ3MgZWxlbWVudCBvciBpZCB2YWx1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29ucyA9IF9Db25zdHJ1Y3Rvci5pbml0KGVsZW1lbnQsIG9wdGlvbnMsIChvcHRpb25zLmxhbmcgfHwgIF9kZWZhdWx0TGFuZyksIG9wdGlvbnMucGx1Z2lucyk7XG5cbiAgICAgICAgaWYgKGNvbnMuY29uc3RydWN0ZWQuX3RvcC5pZCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb25zLmNvbnN0cnVjdGVkLl90b3AuaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignW1NVTkVESVRPUi5jcmVhdGUuZmFpbF0gVGhlIElEIG9mIHRoZSBzdW5lZGl0b3IgeW91IGFyZSB0cnlpbmcgdG8gY3JlYXRlIGFscmVhZHkgZXhpc3RzIChJRDpcIicgKyBjb25zLmNvbnN0cnVjdGVkLl90b3AuaWQgKyAnXCIpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGNvbnMuY29uc3RydWN0ZWQuX3RvcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAvKiogQ3JlYXRlIHRvIHNpYmxpbmcgbm9kZSAqL1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjb25zLmNvbnN0cnVjdGVkLl90b3AsIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjb25zLmNvbnN0cnVjdGVkLl90b3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvcmUoX0NvbnRleHQoZWxlbWVudCwgY29ucy5jb25zdHJ1Y3RlZCwgY29ucy5vcHRpb25zKSwgY29ucy5wbHVnaW5zLCBjb25zLm9wdGlvbnMubGFuZyk7XG4gICAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvc3VuZWRpdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__plugins_modules_notice__ = __webpack_require__(3);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @description SunEditor core function\r\n * @param context\r\n * @param plugins\r\n * @param lang\r\n * @returns {{save: save, getContext: getContext, getContent: getContent, setContent: setContent, appendContent: appendContent, disabled: disabled, enabled: enabled, show: show, hide: hide, destroy: destroy}}\r\n */\r\nconst core = function (context, plugins, lang) {\r\n    const _d = document;\r\n    const _w = window;\r\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\r\n    const editor = {\r\n        /**\r\n         * @description Elements and user options parameters of the suneditor\r\n         */\r\n        context: context,\r\n\r\n        /**\r\n         * @description loaded plugins\r\n         */\r\n        plugins: {},\r\n\r\n        /**\r\n         * @description Whether the plugin is initialized\r\n         */\r\n        initPlugins: {},\r\n\r\n        /**\r\n         * @description loaded language\r\n         */\r\n        lang: lang,\r\n\r\n        /**\r\n         * @description dialog element\r\n         */\r\n        dialogForm: null,\r\n\r\n        /**\r\n         * @description current subment name\r\n         * @private\r\n         */\r\n        _submenuName: '',\r\n\r\n        /**\r\n         * @description submenu element\r\n         */\r\n        submenu: null,\r\n\r\n        /**\r\n         * @description binded submenuOff method\r\n         * @private\r\n         */\r\n        _bindedSubmenuOff: null,\r\n\r\n        /**\r\n         * @description active button element in submenu\r\n         */\r\n        submenuActiveButton: null,\r\n\r\n        /**\r\n         * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n         */\r\n        controllerArray: [],\r\n\r\n        /**\r\n         * @description binded controllersOff method\r\n         * @private\r\n         */\r\n        _bindControllersOff: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"code-view-enabled\"\r\n         */\r\n        codeViewDisabledButtons: context.element.toolbar.querySelectorAll('.sun-editor-id-toolbar button:not([class~=\"code-view-enabled\"])'),\r\n\r\n        /**\r\n         * @description Is inline mode?\r\n         * @private\r\n         */\r\n        _isInline: /inline/i.test(context.option.mode),\r\n\r\n        /**\r\n         * @description Is balloon mode?\r\n         * @private\r\n         */\r\n        _isBalloon: /balloon/i.test(context.option.mode),\r\n\r\n        /**\r\n         * @description Required value when using inline mode to sticky toolbar\r\n         * @private\r\n         */\r\n        _inlineToolbarAttr: {width: 0, height: 0, isShow: false},\r\n\r\n        /**\r\n         * @description An user event function when image uploaded success or remove image\r\n         * @private\r\n         */\r\n        _imageUpload: function (targetImgElement, index, isDelete, imageInfo) {\r\n            if (typeof userFunction.onImageUpload === 'function') userFunction.onImageUpload(targetImgElement, index * 1, isDelete, imageInfo);\r\n        },\r\n\r\n        /**\r\n         * @description An user event function when image upload failed\r\n         * @private\r\n         */\r\n        _imageUploadError: function (errorMessage, result) {\r\n            if (typeof userFunction.onImageUploadError === 'function') return userFunction.onImageUploadError(errorMessage, result);\r\n            return true\r\n        },\r\n\r\n        /**\r\n         * @description Elements that need to change text or className for each selection change\r\n         * @property {Element} FORMAT - format button\r\n         * @property {Element} FONT - font family button\r\n         * @property {Element} SIZE - font size button\r\n         * @property {Element} B - bold button\r\n         * @property {Element} U - underline button\r\n         * @property {Element} I - italic button\r\n         * @property {Element} STRIKE - strike button\r\n         * @property {Element} SUB - subscript button\r\n         * @property {Element} SUP - superscript button\r\n         */\r\n        commandMap: {\r\n            FORMAT: context.tool.format,\r\n            FONT: context.tool.font,\r\n            SIZE: context.tool.fontSize,\r\n            B: context.tool.bold,\r\n            U: context.tool.underline,\r\n            I: context.tool.italic,\r\n            STRIKE: context.tool.strike,\r\n            SUB: context.tool.subscript,\r\n            SUP: context.tool.superscript\r\n        },\r\n\r\n        /**\r\n         * @description Variables used internally in editor operation\r\n         * @property {Boolean} wysiwygActive - The wysiwyg frame or code view state\r\n         * @property {Boolean} isFullScreen - State of full screen\r\n         * @property {Number} innerHeight_fullScreen - InnerHeight in editor when in full screen\r\n         * @property {Number} resizeClientY - Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n         * @property {Number} tabSize - Indented size when tab button clicked (4)\r\n         * @property {Number} minResizingSize - Minimum size of editing area when resized (65)\r\n         * @property {Array} currentNodes -  An array of the current cursor's node structure\r\n         * @private\r\n         */\r\n        _variable: {\r\n            wysiwygActive: true,\r\n            isFullScreen: false,\r\n            innerHeight_fullScreen: 0,\r\n            resizeClientY: 0,\r\n            tabSize: 4,\r\n            minResizingSize: 65,\r\n            currentNodes: [],\r\n            _range: null,\r\n            _selectionNode: null,\r\n            _originCssText: context.element.topArea.style.cssText,\r\n            _bodyOverflow: '',\r\n            _editorAreaOriginCssText: '',\r\n            _wysiwygOriginCssText: '',\r\n            _codeOriginCssText: '',\r\n            _sticky: false,\r\n            _imagesInfo: [],\r\n            _imageIndex: 0\r\n        },\r\n\r\n        /**\r\n         * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n         * If the plugin is added call callBack function.\r\n         * @param {String} pluginName - The name of the plugin to call\r\n         * @param {function} callBackFunction - Function to be executed immediately after module call\r\n         */\r\n        callPlugin: function (pluginName, callBackFunction) {\r\n            if (!this.plugins[pluginName]) {\r\n                throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\r\n            } else if (!this.initPlugins[pluginName]){\r\n                this.plugins[pluginName].add(this, this.plugins[pluginName].buttonElement);\r\n                this.initPlugins[pluginName] = true;\r\n            }\r\n                \r\n            callBackFunction();\r\n        },\r\n\r\n        /**\r\n         * @description If the module is not added, add the module and call the 'add' function\r\n         * @param {Array} moduleArray - module object's Array [dialog, resizing]\r\n         */\r\n        addModule: function (moduleArray) {\r\n            let moduleName = '';\r\n            for (let i = 0, len = moduleArray.length; i < len; i++) {\r\n                moduleName = moduleArray[i].name;\r\n                if (!this.plugins[moduleName]) {\r\n                    this.plugins[moduleName] = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].copyObj(moduleArray[i]);\r\n                    this.plugins[moduleName].add(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enabled submenu\r\n         * @param {Element} element - Submenu element to call\r\n         */\r\n        submenuOn: function (element) {\r\n            const submenuName = this._submenuName = element.getAttribute('data-command');\r\n            if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\r\n\r\n            this.submenu = element.nextElementSibling;\r\n            this.submenu.style.display = 'block';\r\n            __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].addClass(element, 'on');\r\n            this.submenuActiveButton = element;\r\n\r\n            const overLeft = this.context.element.toolbar.offsetWidth - (element.parentElement.offsetLeft + this.submenu.offsetWidth);\r\n            if (overLeft < 0) this.submenu.style.left = overLeft + 'px';\r\n            else this.submenu.style.left = '1px';\r\n\r\n            this._bindedSubmenuOff = this.submenuOff.bind(this);\r\n            _d.addEventListener('mousedown', this._bindedSubmenuOff, false);\r\n        },\r\n\r\n        /**\r\n         * @description Disable submenu\r\n         */\r\n        submenuOff: function () {\r\n            if (this.submenu) {\r\n                this._submenuName = '';\r\n                this.submenu.style.display = 'none';\r\n                this.submenu = null;\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(this.submenuActiveButton, 'on');\r\n                this.submenuActiveButton = null;\r\n                _d.removeEventListener('mousedown', this._bindedSubmenuOff);\r\n            }\r\n\r\n            this.controllersOff();\r\n        },\r\n\r\n        /**\r\n         * @description Disable controller in editor area (link button, image resize button)\r\n         */\r\n        controllersOn: function () {\r\n            for (let i = 0; i < arguments.length; i++) {\r\n                arguments[i].style.display = 'block';\r\n                this.controllerArray[i] = arguments[i];\r\n            }\r\n\r\n            this._bindControllersOff = this.controllersOff.bind(this);\r\n            _d.addEventListener('mousedown', this._bindControllersOff, false);\r\n        },\r\n\r\n        /**\r\n         * @description Disable controller in editor area (link button, image resize button)\r\n         */\r\n        controllersOff: function () {\r\n            const len = this.controllerArray.length;\r\n\r\n            if (len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    this.controllerArray[i].style.display = 'none';\r\n                }\r\n\r\n                this.controllerArray = [];\r\n                _d.removeEventListener('mousedown', this._bindControllersOff);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description javascript execCommand\r\n         * @param {String} command - javascript execCommand function property\r\n         * @param {Boolean} showDefaultUI - javascript execCommand function property\r\n         * @param {String} value - javascript execCommand function property\r\n         */\r\n        execCommand: function (command, showDefaultUI, value) {\r\n            _d.execCommand(command, showDefaultUI, (command === 'formatBlock' ? '<' + value + '>' : value));\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area\r\n         */\r\n        focus: function () {\r\n            if (context.element.wysiwyg.style.display === 'none') return;\r\n\r\n            const caption = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getParentElement(this.getSelectionNode(), 'figcaption');\r\n            if (caption) {\r\n                caption.focus();\r\n            } else {\r\n                context.element.wysiwyg.focus();\r\n            }\r\n\r\n            event._findButtonEffectTag();\r\n        },\r\n\r\n        /**\r\n         * @description Set current editor's range object\r\n         * @param {Element} startCon - The startContainer property of the selection object.\r\n         * @param {Number} startOff - The startOffset property of the selection object.\r\n         * @param {Element} endCon - The endContainer property of the selection object.\r\n         * @param {Element} endOff - The endOffset property of the selection object.\r\n         */\r\n        setRange: function (startCon, startOff, endCon, endOff) {\r\n            const range = _d.createRange();\r\n            range.setStart(startCon, startOff);\r\n            range.setEnd(endCon, endOff);\r\n\r\n            const selection = _w.getSelection();\r\n\r\n            if (selection.removeAllRanges) {\r\n                selection.removeAllRanges();\r\n            }\r\n\r\n            selection.addRange(range);\r\n            this._editorRange();\r\n        },\r\n\r\n        /**\r\n         * @description Get current editor's range object\r\n         * @returns {Object}\r\n         */\r\n        getRange: function () {\r\n            return this._variable._range || this._createDefaultRange();\r\n        },\r\n\r\n        /**\r\n         * @description Get current select node\r\n         * @returns {Node}\r\n         */\r\n        getSelectionNode: function () {\r\n            return this._variable._selectionNode || context.element.wysiwyg.firstChild;\r\n        },\r\n\r\n        /**\r\n         * @description Saving the range object and the currently selected node of editor\r\n         * @private\r\n         */\r\n        _editorRange: function () {\r\n            const selection = _w.getSelection();\r\n            if (!__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getParentElement(selection.focusNode, '.sun-editor-id-wysiwyg')) return;\r\n            \r\n            let range = null;\r\n            let selectionNode = null;\r\n\r\n            if (selection.rangeCount > 0) {\r\n                range = selection.getRangeAt(0);\r\n            }\r\n            else {\r\n                range = this._createDefaultRange();\r\n            }\r\n\r\n            this._variable._range = range;\r\n\r\n            if (range.collapsed) {\r\n                selectionNode = range.commonAncestorContainer;\r\n            } else {\r\n                selectionNode = selection.extentNode || selection.anchorNode;\r\n            }\r\n\r\n            this._variable._selectionNode = selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Return the range object of editor's first child node\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _createDefaultRange: function () {\r\n            const range = _d.createRange();\r\n            range.setStart(context.element.wysiwyg.firstChild, 0);\r\n            range.setEnd(context.element.wysiwyg.firstChild, 0);\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Returns a \"formatElement\"(P, DIV, H[1-6], LI) array from the currently selected range.\r\n         * @returns {Array}\r\n         */\r\n        getSelectedFormatElements: function () {\r\n            let range = this.getRange();\r\n\r\n            if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(range.startContainer)) {\r\n                const children = context.element.wysiwyg.children;\r\n                this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.length);\r\n                range = this.getRange();\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const endCon = range.endContainer;\r\n            const commonCon = range.commonAncestorContainer;\r\n            const rangeFormatElements = [];\r\n\r\n            if (!__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(commonCon) && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isRangeFormatElement(commonCon)) return [__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(commonCon)];\r\n\r\n            // get line nodes\r\n            const lineNodes = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getListChildren(commonCon, function (current) {\r\n                return __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isFormatElement(current);\r\n            });\r\n\r\n            if (startCon === endCon) return lineNodes[0];\r\n\r\n            let startLine = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(startCon);\r\n            let endLine = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(endCon);\r\n            let startIdx = 0;\r\n            let endIdx = 0;\r\n\r\n            for (let i = 0, len = lineNodes.length; i < len; i++) {\r\n                if (startLine === lineNodes[i]) {\r\n                    startIdx = i;\r\n                    continue;\r\n                }\r\n                if (endLine === lineNodes[i]) {\r\n                    endIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            for (let i = startIdx; i <= endIdx; i++) {\r\n                rangeFormatElements.push(lineNodes[i]);\r\n            }\r\n\r\n            return rangeFormatElements;\r\n        },\r\n\r\n        /**\r\n         * @description Returns a \"rangeFormatElement\"(blockquote, TABLE, TR, TD, OL, UL, PRE) array from the currently selected range.\r\n         * @returns {Array}\r\n         */\r\n        getSelectedRangeFormatElements: function () {\r\n            let range = this.getRange();\r\n\r\n            if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(range.startContainer)) {\r\n                const children = context.element.wysiwyg.children;\r\n                this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.length);\r\n                range = this.getRange();\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const endCon = range.endContainer;\r\n            const commonCon = range.commonAncestorContainer;\r\n            const rangeFormatElements = [];\r\n\r\n            if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isRangeFormatElement(commonCon)) return [commonCon];\r\n            if (!__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(commonCon)) {\r\n                const el = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getRangeFormatElement(commonCon);\r\n                return el ? [el] : [];\r\n            }\r\n\r\n            // get range Elements\r\n            const rangeElements = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getListChildren(commonCon, function (current) {\r\n                return __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isRangeFormatElement(current);\r\n            });\r\n\r\n            if (startCon === endCon) return rangeElements[0];\r\n\r\n            let startLine = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getRangeFormatElement(startCon);\r\n            let endLine = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getRangeFormatElement(endCon);\r\n            let startIdx = 0;\r\n            let endIdx = 0;\r\n\r\n            for (let i = 0, len = rangeElements.length; i < len; i++) {\r\n                if (startLine === rangeElements[i]) {\r\n                    startIdx = i;\r\n                    continue;\r\n                }\r\n                if (endLine === rangeElements[i]) {\r\n                    endIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            for (let i = startIdx; i <= endIdx; i++) {\r\n                if (rangeElements[i]) rangeFormatElements.push(rangeElements[i]);\r\n            }\r\n\r\n            return rangeFormatElements;\r\n        },\r\n\r\n        /**\r\n         * @description Determine if this offset is the edge offset of container\r\n         * @param {Object} container - The container property of the selection object.\r\n         * @param {Number} offset - The offset property of the selection object.\r\n         * @returns {Boolean}\r\n         */\r\n        isEdgePoint: function (container, offset) {\r\n            return (offset === 0) || (offset === container.nodeValue.length);\r\n        },\r\n\r\n        /**\r\n         * @description Show loading box\r\n         */\r\n        showLoading: function () {\r\n            context.element.loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close loading box\r\n         */\r\n        closeLoading: function () {\r\n            context.element.loading.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Append format element to sibling node of argument element.\r\n         * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n         * If not, the currently selected format tag is inserted.\r\n         * @param {Element} element - Insert as siblings of that element\r\n         * @param {String|null} formatNodeName - Node name to be inserted\r\n         * @returns {Element}\r\n         */\r\n        appendFormatTag: function (element, formatNodeName) {\r\n            const formatEl = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getRangeFormatElement(element) || __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(element);\r\n            const currentFormatEl = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(this.getSelectionNode());\r\n            const oFormatName = formatNodeName ? formatNodeName : __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isFormatElement(currentFormatEl) ? currentFormatEl.nodeName : 'P';\r\n            const oFormat = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement(oFormatName);\r\n            oFormat.innerHTML = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace;\r\n\r\n            if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isCell(formatEl)) formatEl.insertBefore(oFormat, element.nextElementSibling);\r\n            else formatEl.parentNode.insertBefore(oFormat, formatEl.nextElementSibling);\r\n\r\n            return oFormat;\r\n        },\r\n\r\n        /**\r\n         * @description Delete selected node and insert argument value node\r\n         * @param {Element} oNode - Node to be inserted\r\n         * @param {(Element|null)} rightNode - If the node exists, it is inserted after the node\r\n         */\r\n        insertNode: function (oNode, rightNode) {\r\n            const range = this.getRange();\r\n            let parentNode = null;\r\n\r\n            if (!rightNode) {\r\n                const startCon = range.startContainer;\r\n                const startOff = range.startOffset;\r\n                const endCon = range.endContainer;\r\n                const endOff = range.endOffset;\r\n                const commonCon = range.commonAncestorContainer;\r\n\r\n                parentNode = startCon;\r\n                if (startCon.nodeType === 3) {\r\n                    parentNode = startCon.parentNode;\r\n                }\r\n\r\n                /** No Select range node */\r\n                if (range.collapsed) {\r\n                    if (commonCon.nodeType === 3) {\r\n                        rightNode = commonCon.splitText(endOff);\r\n                    }\r\n                    else {\r\n                        if (parentNode.lastChild !== null && __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(parentNode.lastChild)) {\r\n                            parentNode.removeChild(parentNode.lastChild);\r\n                        }\r\n                        rightNode = null;\r\n                    }\r\n                }\r\n                /** Select range nodes */\r\n                else {\r\n                    const isSameContainer = startCon === endCon;\r\n\r\n                    if (isSameContainer) {\r\n                        if (this.isEdgePoint(endCon, endOff)) rightNode = endCon.nextSibling;\r\n                        else rightNode = endCon.splitText(endOff);\r\n\r\n                        let removeNode = startCon;\r\n                        if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\r\n\r\n                        parentNode.removeChild(removeNode);\r\n                    }\r\n                    else {\r\n                        this.removeNode();\r\n                        parentNode = commonCon;\r\n                        rightNode = endCon;\r\n\r\n                        while (rightNode.parentNode !== commonCon) {\r\n                            rightNode = rightNode.parentNode;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                parentNode = rightNode.parentNode;\r\n                rightNode = rightNode.nextSibling;\r\n            }\r\n\r\n            try {\r\n                parentNode.insertBefore(oNode, rightNode);\r\n            } catch (e) {\r\n                parentNode.appendChild(oNode);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Delete the currently selected node\r\n         */\r\n        removeNode: function () {\r\n            const range = this.getRange();\r\n\r\n            if (range.deleteContents) {\r\n                range.deleteContents();\r\n                return;\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const startOff = range.startOffset;\r\n            const endCon = range.endContainer;\r\n            const endOff = range.endOffset;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            let beforeNode = null;\r\n            let afterNode = null;\r\n\r\n            const childNodes = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getListChildNodes(commonCon);\r\n            let startIndex = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getArrayIndex(childNodes, startCon);\r\n            let endIndex = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getArrayIndex(childNodes, endCon);\r\n\r\n            for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\r\n                if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\r\n                    startIndex = i;\r\n                    startNode = startNode.parentNode;\r\n                }\r\n            }\r\n\r\n            for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\r\n                if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\r\n                    childNodes.splice(i, 1);\r\n                    endNode = endNode.parentNode;\r\n                    --endIndex;\r\n                }\r\n            }\r\n\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                const item = childNodes[i];\r\n\r\n                if (item.length === 0 || (item.nodeType === 3 && item.data === undefined)) {\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(item);\r\n                    continue;\r\n                }\r\n\r\n                if (item === startCon) {\r\n                    if (startCon.nodeType === 1) {\r\n                        beforeNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(startCon.textContent);\r\n                    } else {\r\n                        beforeNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(startCon.substringData(0, startOff));\r\n                    }\r\n\r\n                    if (beforeNode.length > 0) {\r\n                        startCon.data = beforeNode.data;\r\n                    } else {\r\n                        __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(startCon);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                if (item === endCon) {\r\n                    if (endCon.nodeType === 1) {\r\n                        afterNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(endCon.textContent);\r\n                    } else {\r\n                        afterNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(endCon.substringData(endOff, (endCon.length - endOff)));\r\n                    }\r\n\r\n                    if (afterNode.length > 0) {\r\n                        endCon.data = afterNode.data;\r\n                    } else {\r\n                        __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(endCon);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(item);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description appended all selected format Element to the argument element and insert\r\n         * @param {Element} wrapTag - Element of wrap the arguments\r\n         */\r\n        wrapToTags: function (wrapTag) {\r\n            const range = this.getRange();\r\n            const rangeLines = this.getSelectedFormatElements();\r\n\r\n            if (!rangeLines) {\r\n                const inner = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isCell(this.getSelectionNode()) ? 'DIV' : 'P');\r\n                inner.innerHTML = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace;\r\n                wrapTag.appendChild(inner);\r\n                this.getSelectionNode().appendChild(wrapTag);\r\n                return;\r\n            }\r\n\r\n            let last  = rangeLines[rangeLines.length - 1];\r\n            let standTag, beforeTag, pElement;\r\n\r\n            if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isRangeFormatElement(last) || __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isFormatElement(last)) {\r\n                standTag = last;\r\n            } else {\r\n                standTag = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getRangeFormatElement(last) || __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(last);\r\n            }\r\n\r\n            if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isCell(standTag)) {\r\n                beforeTag = null;\r\n                pElement = standTag;\r\n            } else {\r\n                beforeTag = standTag.nextSibling;\r\n                pElement = standTag.parentNode;\r\n            }\r\n\r\n            let listParent = null;\r\n            let line = null;\r\n            let prevNodeName = '';\r\n            \r\n            for (let i = 0, len = rangeLines.length; i < len; i++) {\r\n                line = rangeLines[i];\r\n\r\n                if (/^LI$/i.test(line.nodeName)) {\r\n                    if (listParent === null || !/^LI$/i.test(prevNodeName)) {\r\n                        listParent = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement(line.parentNode.nodeName);\r\n                    }\r\n\r\n                    listParent.appendChild(line);\r\n                    if (i === len - 1 || !/^LI$/i.test(rangeLines[i + 1].nodeName)) wrapTag.appendChild(listParent);\r\n                }\r\n                else {\r\n                    wrapTag.appendChild(line);\r\n                }\r\n\r\n                prevNodeName = line.nodeName;\r\n            }\r\n\r\n            pElement.insertBefore(wrapTag, beforeTag);\r\n            if (!range.collapsed && (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isRangeFormatElement(range.startContainer) || __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isRangeFormatElement(range.endContainer))) __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeEmptyNode(pElement);\r\n        },\r\n\r\n        /**\r\n         * @description Add the node received as an argument value to the selected area.\r\n         * 1. When there is the same css value node in the selection area, the tag is stripped.\r\n         * 2. If there is another css value other thanCss attribute values received as arguments on the node, removed only Css attribute values received as arguments\r\n         * 3. If you pass an element whose node name is \"removenode\" as an argument value, it performs a type removal operation. ex) nodeChange(document.createElement('removenode'))\r\n         * @param {Element} appendNode - The dom that will wrap the selected text area\r\n         * @param {Array} checkCSSPropertyArray - The css attribute name Array to check (['font-size'], ['font-family', 'background-color', 'border']...])\r\n         */\r\n        nodeChange: function (appendNode, checkCSSPropertyArray) {\r\n            const range = this.getRange();\r\n            const isRemoveFormat = /removenode/i.test(appendNode.nodeName);\r\n            let tempCon, tempOffset, tempChild, tempArray;\r\n\r\n            /* checked same style property */\r\n            if (range.startContainer === range.endContainer) {\r\n                let sNode = range.startContainer;\r\n                if (isRemoveFormat) {\r\n                    if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(sNode) === sNode.parentNode) return;\r\n                } else {\r\n                    let checkCnt = 0;\r\n\r\n                    for (let i = 0; i < checkCSSPropertyArray.length; i++) {\r\n                        while(!__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isFormatElement(sNode) && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(sNode)) {\r\n                            if (sNode.nodeType === 1 && sNode.style[checkCSSPropertyArray[i]] === appendNode.style[checkCSSPropertyArray[i]]) {\r\n                                checkCnt++;\r\n                            }\r\n                            sNode = sNode.parentNode;\r\n                        }\r\n                    }\r\n    \r\n                    if (checkCnt >= checkCSSPropertyArray.length) return;\r\n                }\r\n            }\r\n\r\n            /* find text node */\r\n            // startContainer\r\n            tempCon = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(range.startContainer) ? context.element.wysiwyg.firstChild : range.startContainer;\r\n            tempOffset = range.startOffset;\r\n\r\n            if (tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\r\n                while (tempCon && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                    tempArray = [];\r\n                    tempChild = tempCon.childNodes;\r\n                    for (let i = 0, len = tempChild.length; i < len; i++) {\r\n                        tempArray.push(tempChild[i]);\r\n                    }\r\n                    tempCon = tempArray[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\r\n                    tempOffset = 0;\r\n                }\r\n\r\n                if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(tempCon)) {\r\n                    const emptyText = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                }\r\n            }\r\n\r\n            const startCon = tempCon;\r\n            const startOff = tempOffset;\r\n\r\n            // endContainer\r\n            tempCon = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(range.endContainer) ? context.element.wysiwyg.lastChild : range.endContainer;\r\n            tempOffset = range.endOffset;\r\n\r\n            if (tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\r\n                while (tempCon && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                    tempArray = [];\r\n                    tempChild = tempCon.childNodes;\r\n                    for (let i = 0, len = tempChild.length; i < len; i++) {\r\n                        tempArray.push(tempChild[i]);\r\n                    }\r\n                    tempCon = tempArray[tempOffset - 1] || !/FIGURE/i.test(tempArray[0].nodeName) ? tempArray[0] : (tempCon.previousElementSibling || tempCon.previousSibling || startCon);\r\n                }\r\n                tempOffset = tempCon.textContent.length;\r\n\r\n                if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(tempCon)) {\r\n                    const emptyText = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    tempOffset = 0;\r\n                }\r\n            }\r\n\r\n            const endCon = tempCon;\r\n            const endOff = tempOffset;\r\n            const commonCon = range.commonAncestorContainer;\r\n            const newNodeName = appendNode.nodeName;\r\n            this.setRange(startCon, startOff, endCon, endOff);\r\n\r\n            let start = {}, end = {};\r\n            let newNode, regExp;\r\n\r\n            if (checkCSSPropertyArray) {\r\n                regExp = '(?:;|^|\\\\s)(?:' + checkCSSPropertyArray[0];\r\n                for (let i = 1; i < checkCSSPropertyArray.length; i++) {\r\n                    regExp += '|' + checkCSSPropertyArray[i];\r\n                }\r\n                regExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\r\n                regExp = new RegExp(regExp, 'ig');\r\n            }\r\n\r\n            /** tag check function*/\r\n            const checkCss = function (vNode) {\r\n                if (isRemoveFormat || vNode.nodeType === 3 || __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(vNode)) return true;\r\n\r\n                let style = '';\r\n                if (regExp && vNode.style.cssText.length > 0) {\r\n                    style = vNode.style.cssText.replace(regExp, '').trim();\r\n                }\r\n\r\n                if (style.length > 0 || vNode.nodeName !== newNodeName) {\r\n                    if (vNode.style.cssText.length > 0) vNode.style.cssText = style;\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            };\r\n\r\n            /** one line */\r\n            if (!__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(commonCon) && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isRangeFormatElement(commonCon)) {\r\n                newNode = appendNode.cloneNode(false);\r\n                const newRange = this._nodeChange_oneLine(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(commonCon), newNode, checkCss, startCon, startOff, endCon, endOff, isRemoveFormat, range.collapsed);\r\n\r\n                start.container = newRange.startContainer;\r\n                start.offset = newRange.startOffset;\r\n                end.container = newRange.endContainer;\r\n                end.offset = newRange.endOffset;\r\n            }\r\n            /** multi line */\r\n            else {\r\n                // get line nodes\r\n                const lineNodes = this.getSelectedFormatElements();\r\n                const endLength = lineNodes.length - 1;\r\n\r\n                // startCon\r\n                newNode = appendNode.cloneNode(false);\r\n                start = this._nodeChange_startLine(lineNodes[0], newNode, checkCss, startCon, startOff, isRemoveFormat);\r\n\r\n                // mid\r\n                for (let i = 1; i < endLength; i++) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    this._nodeChange_middleLine(lineNodes[i], newNode, checkCss, isRemoveFormat);\r\n                }\r\n\r\n                // endCon\r\n                if (endLength > 0) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    end = this._nodeChange_endLine(lineNodes[endLength], newNode, checkCss, endCon, endOff, isRemoveFormat);\r\n                } else {\r\n                    end = start;\r\n                }\r\n            }\r\n\r\n            // set range\r\n            this.setRange(start.container, start.offset, end.container, end.offset);\r\n        },\r\n\r\n        /**\r\n         * @description wraps text nodes of line selected text.\r\n         * @param {Element} element - The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode - The dom that will wrap the selected text area\r\n         * @param {function} validation - Check if the node should be stripped.\r\n         * @param {Element} startCon - The startContainer property of the selection object.\r\n         * @param {Number} startOff - The startOffset property of the selection object.\r\n         * @param {Element} endCon - The endContainer property of the selection object.\r\n         * @param {Number} endOff - The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat - Is the remove format command ?\r\n         * @param {Boolean} collapsed - range.collapsed\r\n         * @returns {{startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, collapsed) {\r\n            const el = element;\r\n            const pNode = element.cloneNode(false);\r\n            const isSameNode = startCon === endCon;\r\n            let startContainer = startCon;\r\n            let startOffset = startOff;\r\n            let endContainer = endCon;\r\n            let endOffset = endOff;\r\n            let startPass = false;\r\n            let endPass = false;\r\n            let pCurrent, newNode, appendNode, cssText;\r\n\r\n            function checkCss (vNode) {\r\n                const regExp = new RegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\r\n                let style = '';\r\n\r\n                if (regExp && vNode.style.cssText.length > 0) {\r\n                    style = regExp.test(vNode.style.cssText);\r\n                }\r\n            \r\n                return !style;\r\n            }\r\n\r\n            (function recursionFunc(current, node) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    let coverNode = node;\r\n                    let cloneNode;\r\n\r\n                    // startContainer\r\n                    if (!startPass && child === startContainer) {\r\n                        const prevNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\r\n                        const textNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, (endOffset > startOffset ? endOffset - startOffset : endOffset === startOffset ? 0 : startContainer.data.length - startOffset)));\r\n\r\n                        if (prevNode.data.length > 0) {\r\n                            node.appendChild(prevNode);\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                            if (validation(newNode) && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(newNode.cloneNode(false));\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        newInnerNode.appendChild(childNode);\r\n                        pNode.appendChild(newInnerNode);\r\n\r\n                        startContainer = textNode;\r\n                        startOffset = 0;\r\n                        startPass = true;\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(startContainer);\r\n                        if (!isSameNode) continue;\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!endPass && child === endContainer) {\r\n                        const afterNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, (endContainer.length - endOffset)));\r\n                        const textNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\r\n\r\n                        if (afterNode.data.length > 0) {\r\n                            newNode = child;\r\n                            cssText = '';\r\n                            pCurrent = [];\r\n                            while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                                if (newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                    pCurrent.push(newNode.cloneNode(false));\r\n                                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                                }\r\n                                newNode = newNode.parentNode;\r\n                            }\r\n\r\n                            cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n\r\n                            pNode.appendChild(cloneNode);\r\n                            newNode.textContent = afterNode.data;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                            if (validation(newNode) && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(newNode.cloneNode(false));\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        newInnerNode.appendChild(childNode);\r\n\r\n                        endContainer = textNode;\r\n                        endOffset = textNode.data.length;\r\n                        endPass = true;\r\n\r\n                        if (!isRemoveFormat && collapsed) {\r\n                            newInnerNode = textNode;\r\n                            textNode.textContent = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace;\r\n                        }\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(endContainer);\r\n                        continue;\r\n                    }\r\n\r\n                    // other\r\n                    if (startPass) {\r\n                        if (child.nodeType === 1 && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) {\r\n                            recursionFunc(child, child);\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            if (newNode.nodeType === 1 && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child) && (endPass || validation(newNode)) && checkCss(newNode)) {\r\n                                pCurrent.push(newNode.cloneNode(false));\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n                        \r\n                        if (childNode === child) {\r\n                            if (!endPass) node = newInnerNode;\r\n                            else node = pNode;\r\n                        } else if (endPass) {\r\n                            pNode.appendChild(childNode);\r\n                            node = newNode;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                            node = newNode;\r\n                        }\r\n                    }\r\n\r\n                    cloneNode = child.cloneNode(false);\r\n                    node.appendChild(cloneNode);\r\n                    if (child.nodeType === 1 && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) coverNode = cloneNode;\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            if (isRemoveFormat) {\r\n                startContainer = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(collapsed ? __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace : newInnerNode.textContent);\r\n                pNode.insertBefore(startContainer, newInnerNode);\r\n                pNode.removeChild(newInnerNode);\r\n                if (collapsed) startOffset = 1;\r\n            } else if (collapsed) {\r\n                startContainer = endContainer = newInnerNode;\r\n                startOffset = 1;\r\n                endOffset = 1;\r\n            }\r\n\r\n            __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeEmptyNode(pNode);\r\n            element.parentNode.insertBefore(pNode, element);\r\n            __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(element);\r\n\r\n            return {\r\n                startContainer: startContainer,\r\n                startOffset: startOffset,\r\n                endContainer: isRemoveFormat || !endContainer.textContent ? startContainer : endContainer,\r\n                endOffset: isRemoveFormat || !endContainer.textContent ? startContainer.textContent.length : endOffset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps mid lines selected text.\r\n         * @param {Element} element - The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode - The dom that will wrap the selected text area\r\n         * @param {function} validation - Check if the node should be stripped.\r\n         * @param {Boolean} isRemoveFormat - Is the remove format command ?\r\n         * @private\r\n         */\r\n        _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat) {\r\n            if (isRemoveFormat) {\r\n                newInnerNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(element.textContent ? element.textContent : __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace);\r\n            } else {\r\n                (function recursionFunc(current, node) {\r\n                    const childNodes = current.childNodes;\r\n    \r\n                    for (let i = 0, len = childNodes.length; i < len; i++) {\r\n                        let child = childNodes[i];\r\n                        let coverNode = node;\r\n                        if (validation(child)) {\r\n                            let cloneNode = child.cloneNode(false);\r\n                            node.appendChild(cloneNode);\r\n                            if (child.nodeType === 1 && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) coverNode = cloneNode;\r\n                        }\r\n                        recursionFunc(child, coverNode);\r\n                    }\r\n                })(element, newInnerNode);\r\n            }\r\n\r\n            element.innerHTML = '';\r\n            element.appendChild(newInnerNode);\r\n        },\r\n\r\n        /**\r\n         * @description wraps first line selected text.\r\n         * @param {Element} element - The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode - The dom that will wrap the selected text area\r\n         * @param {function} validation - Check if the node should be stripped.\r\n         * @param {Element} startCon - The startContainer property of the selection object.\r\n         * @param {Number} startOff - The startOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat - Is the remove format command ?\r\n         * @returns {{container: *, offset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat) {\r\n            const el = element;\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = startCon;\r\n            let offset = startOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode;\r\n\r\n            (function recursionFunc(current, node) {\r\n                const childNodes = current.childNodes;\r\n                for (let i = 0, len = childNodes.length; i < len; i++) {\r\n                    const child = childNodes[i];\r\n                    let coverNode = node;\r\n\r\n                    if (passNode && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            recursionFunc(child, child);\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            if (newNode.nodeType === 1 && validation(newNode)) {\r\n                                pCurrent.push(newNode.cloneNode(false));\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        if (pCurrent.length > 0) {\r\n                            const childNode = pCurrent.pop();\r\n                            appendNode = newNode = childNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n                            newInnerNode.appendChild(childNode);\r\n                            node = newNode;\r\n                        } else {\r\n                            node = newInnerNode;\r\n                        }\r\n                    }\r\n\r\n                    // startContainer\r\n                    if (!passNode && child === container) {\r\n                        const prevNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n                        const textNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n\r\n                        if (prevNode.data.length > 0) {\r\n                            node.appendChild(prevNode);\r\n                        }\r\n\r\n                        newNode = node;\r\n                        pCurrent = [];\r\n                        while (newNode !== pNode && newNode !== null) {\r\n                            if (newNode.nodeType === 1 && validation(newNode)) {\r\n                                pCurrent.push(newNode.cloneNode(false));\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || node;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== node) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            node = newNode;\r\n                        } else {\r\n                            node = newInnerNode;\r\n                        }\r\n\r\n                        if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n\r\n                        pNode.appendChild(newInnerNode);\r\n                        container = textNode;\r\n                        offset = 0;\r\n                        passNode = true;\r\n\r\n                        node.appendChild(container);\r\n                        continue;\r\n                    }\r\n\r\n                    if (!passNode || validation(child)) {\r\n                        const cloneNode = child.cloneNode(false);\r\n                        node.appendChild(cloneNode);\r\n                        if (child.nodeType === 1 && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) coverNode = cloneNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            if (isRemoveFormat) {\r\n                container = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(newInnerNode.textContent);\r\n                pNode.insertBefore(container, newInnerNode);\r\n                pNode.removeChild(newInnerNode);\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.children.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeEmptyNode(pNode);\r\n                element.parentNode.insertBefore(pNode, element);\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(element);\r\n            }\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps last line selected text.\r\n         * @param {Element} element - The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode - The dom that will wrap the selected text area\r\n         * @param {function} validation - Check if the node should be stripped.\r\n         * @param {Element} endCon - The endContainer property of the selection object.\r\n         * @param {Number} endOff - The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat - Is the remove format command ?\r\n         * @returns {{container: *, offset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat) {\r\n            const el = element;\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = endCon;\r\n            let offset = endOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode;\r\n\r\n            (function recursionFunc(current, node) {\r\n                const childNodes = current.childNodes;\r\n                for (let i = childNodes.length -1; 0 <= i; i--) {\r\n                    const child = childNodes[i];\r\n                    let coverNode = node;\r\n\r\n                    if (passNode && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            recursionFunc(child, child);\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            if (validation(newNode) && newNode.nodeType === 1) {\r\n                                pCurrent.push(newNode.cloneNode(false));\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        if (pCurrent.length > 0) {\r\n                            const childNode = pCurrent.pop();\r\n                            appendNode = newNode = childNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            node = newNode;\r\n                        } else {\r\n                            node = newInnerNode;\r\n                        }\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!passNode && child === container) {\r\n                        const afterNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n                        const textNode = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n\r\n                        if (afterNode.data.length > 0) {\r\n                            node.insertBefore(afterNode, node.firstChild);\r\n                        }\r\n\r\n                        newNode = node;\r\n                        pCurrent = [];\r\n                        while (newNode !== pNode && newNode !== null) {\r\n                            if (validation(newNode) && newNode.nodeType === 1) {\r\n                                pCurrent.push(newNode.cloneNode(false));\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || node;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== node) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            node = newNode;\r\n                        } else {\r\n                            node = newInnerNode;\r\n                        }\r\n\r\n                        if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n\r\n                        pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                        container = textNode;\r\n                        offset = textNode.data.length;\r\n                        passNode = true;\r\n\r\n                        node.insertBefore(container, node.firstChild);\r\n                        continue;\r\n                    }\r\n\r\n                    if (!passNode || validation(child)) {\r\n                        const cloneNode = child.cloneNode(false);\r\n                        node.insertBefore(cloneNode, node.firstChild);\r\n                        if (child.nodeType === 1 && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isBreak(child)) coverNode = cloneNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            if (isRemoveFormat) {\r\n                container = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(newInnerNode.textContent);\r\n                offset = container.textContent.length;\r\n                pNode.insertBefore(container, newInnerNode);\r\n                pNode.removeChild(newInnerNode);\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeEmptyNode(pNode);\r\n                element.parentNode.insertBefore(pNode, element);\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(element);\r\n            }\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Execute command of command button(All Buttons except submenu and dialog)\r\n         * (redo, undo, bold, underline, italic, strikethrough, subscript, superscript, removeFormat, indent, outdent, fullscreen, showBlocks, codeview, preview, print)\r\n         * @param {Element} target - The element of command button\r\n         * @param {String} command - Property of command button (data-value)\r\n         */\r\n        commandHandler: function (target, command) {\r\n            switch (command) {\r\n                case 'codeView':\r\n                    this.controllersOff();\r\n                    this.toggleCodeView();\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].toggleClass(target, 'on');\r\n                    break;\r\n                case 'fullScreen':\r\n                    this.controllersOff();\r\n                    this.toggleFullScreen(target);\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].toggleClass(target, 'on');\r\n                    break;\r\n                case 'indent':\r\n                case 'outdent':\r\n                    this.indent(command);\r\n                    break;\r\n                case 'redo':\r\n                case 'undo':\r\n                    this.execCommand(command, false, null);\r\n                    break;\r\n                case 'removeFormat':\r\n                    this.removeFormat();\r\n                    break;\r\n                case 'preview':\r\n                case 'print':\r\n                    this.openWindowContents(command);\r\n                    break;\r\n                case 'showBlocks':\r\n                    this.toggleDisplayBlocks();\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].toggleClass(target, 'on');\r\n                    break;\r\n                case 'subscript':\r\n                    if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].hasClass(context.tool.superscript, 'on')) {\r\n                        this.execCommand('superscript', false, null);\r\n                        __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(context.tool.superscript, 'on');\r\n                    }\r\n                    this.execCommand(command, false, null);\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].toggleClass(target, 'on');\r\n                    break;\r\n                case 'superscript':\r\n                    if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].hasClass(context.tool.subscript, 'on')) {\r\n                        this.execCommand('subscript', false, null);\r\n                        __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(context.tool.subscript, 'on');\r\n                    }\r\n                    this.execCommand(command, false, null);\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].toggleClass(target, 'on');\r\n                    break;\r\n                case 'save':\r\n                    if (typeof context.option.callBackSave === 'function') {\r\n                        context.option.callBackSave(this.getContents());\r\n                    } else {\r\n                        throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\r\n                    }\r\n                    break;\r\n                default : // 'bold', 'underline', 'italic', 'strike'\r\n                    this.execCommand(command, false, target.getAttribute('data-value'));\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].toggleClass(target, 'on');\r\n            }\r\n\r\n            this.focus();\r\n        },\r\n\r\n        /**\r\n         * @description Remove format of the currently selected range (IE, Edge not working)\r\n         */\r\n        removeFormat: function () {\r\n            this.nodeChange(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement('REMOVENODE'));\r\n        },\r\n\r\n        /**\r\n         * @description This method implements indentation to selected range.\r\n         * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n         * @param command {String} - Separator (\"indent\" or \"outdent\")\r\n         */\r\n        indent: function (command) {\r\n            const rangeLines = this.getSelectedFormatElements();\r\n            let p, margin;\r\n\r\n            for (let i = 0, len = rangeLines.length; i < len; i++) {\r\n                p = rangeLines[i];\r\n                margin = /\\d+/.test(p.style.marginLeft) ? p.style.marginLeft.match(/\\d+/)[0] * 1 : 0;\r\n\r\n                if ('indent' === command) {\r\n                    margin += 25;\r\n                } else {\r\n                    margin -= 25;\r\n                }\r\n    \r\n                p.style.marginLeft = (margin < 0 ? 0 : margin) + 'px';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Add or remove the class name of \"body\" so that the code block is visible\r\n         */\r\n        toggleDisplayBlocks: function () {\r\n            __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].toggleClass(context.element.wysiwyg, 'sun-editor-show-block');\r\n        },\r\n\r\n        /**\r\n         * @description Changes to code view or wysiwyg view\r\n         */\r\n        toggleCodeView: function () {\r\n            const wysiwygActive = this._variable.wysiwygActive;\r\n            const disButtons = this.codeViewDisabledButtons;\r\n            for (let i = 0, len = disButtons.length; i < len; i++) {\r\n                disButtons[i].disabled = wysiwygActive;\r\n            }\r\n\r\n            if (!wysiwygActive) {\r\n                const code_html = context.element.code.value.trim();\r\n                context.element.wysiwyg.innerHTML = code_html.length > 0 ? __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].convertContentsForEditor(code_html) : '<p>' + __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace + '</p>';\r\n                context.element.wysiwyg.scrollTop = 0;\r\n                context.element.code.style.display = 'none';\r\n                context.element.wysiwyg.style.display = 'block';\r\n                if (context.option.height === 'auto') context.element.code.style.height = '0px';\r\n                this._variable.wysiwygActive = true;\r\n                this.focus();\r\n            }\r\n            else {\r\n                context.element.code.value = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].convertHTMLForCodeView(context.element.wysiwyg.innerHTML.trim());\r\n                context.element.wysiwyg.style.display = 'none';\r\n                context.element.code.style.display = 'block';\r\n                if (context.option.height === 'auto') context.element.code.style.height = context.element.code.scrollHeight > 0 ? (context.element.code.scrollHeight + 'px') : 'auto';\r\n                this._variable.wysiwygActive = false;\r\n                context.element.code.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Changes to full screen or default screen\r\n         * @param {Element} element - full screen button\r\n         */\r\n        toggleFullScreen: function (element) {\r\n            if (!this._variable.isFullScreen) {\r\n                this._variable.isFullScreen = true;\r\n\r\n                context.element.topArea.style.position = 'fixed';\r\n                context.element.topArea.style.top = '0';\r\n                context.element.topArea.style.left = '0';\r\n                context.element.topArea.style.width = '100%';\r\n                context.element.topArea.style.height = '100%';\r\n                context.element.topArea.style.zIndex = '2147483647';\r\n\r\n                this._variable._bodyOverflow = _d.body.style.overflow;\r\n                _d.body.style.overflow = 'hidden';\r\n\r\n                this._variable._editorAreaOriginCssText = context.element.editorArea.style.cssText;\r\n                this._variable._wysiwygOriginCssText = context.element.wysiwyg.style.cssText;\r\n                this._variable._codeOriginCssText = context.element.code.style.cssText;\r\n\r\n                context.element.editorArea.style.cssText = context.element.toolbar.style.cssText = context.element.wysiwyg.style.cssText = context.element.code.style.cssText = '';\r\n                context.element.toolbar.style.width = context.element.wysiwyg.style.height = context.element.code.style.height = '100%';\r\n                context.element.toolbar.style.position = 'relative';\r\n\r\n                this._variable.innerHeight_fullScreen = (_w.innerHeight - context.element.toolbar.offsetHeight);\r\n                context.element.editorArea.style.height = this._variable.innerHeight_fullScreen + 'px';\r\n\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(element.firstElementChild, 'icon-expansion');\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].addClass(element.firstElementChild, 'icon-reduction');\r\n            }\r\n            else {\r\n                this._variable.isFullScreen = false;\r\n\r\n                context.element.code.style.cssText = this._variable._codeOriginCssText;\r\n                context.element.wysiwyg.style.cssText = this._variable._wysiwygOriginCssText;\r\n                context.element.toolbar.style.cssText = '';\r\n                context.element.editorArea.style.cssText = this._variable._editorAreaOriginCssText;\r\n                context.element.topArea.style.cssText = this._variable._originCssText;\r\n                _d.body.style.overflow = this._variable._bodyOverflow;\r\n\r\n                if (context.option.stickyToolbar > -1) {\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(context.element.toolbar, 'sun-editor-sticky');\r\n                    event.onScroll_window();\r\n                }\r\n\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(element.firstElementChild, 'icon-reduction');\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].addClass(element.firstElementChild, 'icon-expansion');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open the preview window or open the print window\r\n         * @param {String} mode - 'preview' or 'print'\r\n         */\r\n        openWindowContents: function (mode) {\r\n            const isPrint = mode === 'print';\r\n            const windowObject = _w.open('', '_blank');\r\n            windowObject.mimeType = 'text/html';\r\n            windowObject.document.write('' +\r\n                '<!doctype html><html>' +\r\n                '<head>' +\r\n                '<meta charset=\"utf-8\" />' +\r\n                '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n                '<title>' + (isPrint ? lang.toolbar.print : lang.toolbar.preview) + '</title>' +\r\n                '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getIncludePath(['suneditor-contents', 'suneditor'], 'css') + '\">' +\r\n                '</head>' +\r\n                '<body>' +\r\n                '<div class=\"sun-editor-editable\" style=\"width:' + context.element.wysiwyg.offsetWidth + 'px; margin:auto;\">' +\r\n                this.getContents() + '</div>' +\r\n                (isPrint ? '<script>_w.print();</script>' : '') + '</body>' +\r\n                '</html>');\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current contents\r\n         * @returns {Object}\r\n         */\r\n        getContents: function () {\r\n            let contents = '';\r\n\r\n            if (context.element.wysiwyg.innerText.trim().length === 0) return contents;\r\n\r\n            if (editor._variable.wysiwygActive) {\r\n                contents = context.element.wysiwyg.innerHTML;\r\n            } else {\r\n                contents = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].convertContentsForEditor(context.element.code.value);\r\n            }\r\n\r\n            const renderHTML = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement('DIV');\r\n            renderHTML.innerHTML = contents;\r\n\r\n            const figcaptions = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getListChildren(renderHTML, function (current) {\r\n                return /FIGCAPTION/i.test(current.nodeName);\r\n            });\r\n\r\n            for (let i = 0, len = figcaptions.length; i < len; i++) {\r\n                figcaptions[i].outerHTML = figcaptions[i].outerHTML.replace(/(?!^<figcaption\\s+)(contenteditable=\"([a-z]+|\\s*)\")\\s*(?=[^>]*>)/i, '');\r\n            }\r\n\r\n            return renderHTML.innerHTML;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @description event function\r\n     */\r\n    const event = {\r\n        _shortcutKeyCode: {\r\n            66: ['bold', 'B'],\r\n            83: ['strikethrough', 'STRIKE'],\r\n            85: ['underline', 'U'],\r\n            73: ['italic', 'I'],\r\n            89: ['redo'],\r\n            90: ['undo'],\r\n            219: ['outdent'],\r\n            221: ['indent']\r\n        },\r\n\r\n        _directionKeyKeyCode: new RegExp('^(?:8|13|32|46|33|34|35|36|37|38|39|40|98|100|102|104)$'),\r\n\r\n        _changeButtonClassTagCheck: new RegExp('^(?:B|U|I|STRIKE|SUB|SUP)$'),\r\n\r\n        _findButtonEffectTag: function () {\r\n            const commandMap = editor.commandMap;\r\n            const classOnCheck = this._changeButtonClassTagCheck;\r\n            const commandMapNodes = [];\r\n            const currentNodes = [];\r\n\r\n            let findFormat = true, findFont = true, findSize = true, findA = true;\r\n            let findB = true, findI = true, findU = true, findS = true;\r\n            let cssText = '', nodeName = '';\r\n\r\n            for (let selectionParent = editor.getSelectionNode(); !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(selectionParent); selectionParent = selectionParent.parentNode) {\r\n                if (!selectionParent) break;\r\n                if (selectionParent.nodeType !== 1) continue;\r\n                nodeName = selectionParent.nodeName.toUpperCase();\r\n                currentNodes.push(nodeName);\r\n\r\n                /** Format */\r\n                if (findFormat && __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isFormatElement(selectionParent)) {\r\n                    commandMapNodes.push('FORMAT');\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].changeTxt(commandMap.FORMAT, nodeName);\r\n                    findFormat = false;\r\n                    continue;\r\n                }\r\n\r\n                /** Font */\r\n                if (findFont && (selectionParent.style.fontFamily.length > 0 || (selectionParent.face && selectionParent.face.length > 0))) {\r\n                    commandMapNodes.push('FONT');\r\n                    const selectFont = (selectionParent.style.fontFamily || selectionParent.face || lang.toolbar.font).replace(/[\"']/g,'');\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].changeTxt(commandMap.FONT, selectFont);\r\n                    findFont = false;\r\n                }\r\n\r\n                /** A */\r\n                if (findA && /^A$/.test(nodeName) && selectionParent.getAttribute('data-image-link') === null) {\r\n                    if (!context.link || editor.controllerArray[0] !== context.link.linkBtn) {\r\n                        editor.callPlugin('link', function () {\r\n                            editor.plugins.link.call_controller_linkButton.call(editor, selectionParent);\r\n                        });\r\n                    }\r\n                    findA = false;\r\n                } else if (findA && context.link && editor.controllerArray[0] === context.link.linkBtn) {\r\n                    editor.controllersOff();\r\n                }\r\n\r\n                /** SPAN */\r\n                if (findSize && /^SPAN$/.test(nodeName)) {\r\n                    /** font size */\r\n                    if (selectionParent.style.fontSize.length > 0) {\r\n                        commandMapNodes.push('SIZE');\r\n                        __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].changeTxt(commandMap.SIZE, selectionParent.style.fontSize);\r\n                        findSize = false;\r\n                    }\r\n                }\r\n\r\n                /** command map */\r\n                cssText = selectionParent.style.cssText;\r\n                if (findB && /font\\-weight\\s*:\\s*(?:\\d+|bold|bolder)(?:;|\\s|)/.test(cssText)) {\r\n                    commandMapNodes.push('B');\r\n                    findB = false;\r\n                }\r\n                if (findI && /font\\-style\\s*:\\s*(?:italic|oblique)(?:;|\\s)/.test(cssText)) {\r\n                    commandMapNodes.push('I');\r\n                    findI = false;\r\n                }\r\n                if (findU && /text\\-decoration(?:\\-line)?\\s*:\\s*underline(?:;|\\s|)/.test(cssText)) {\r\n                    commandMapNodes.push('U');\r\n                    findU = false;\r\n                }\r\n                if (findS && /text\\-decoration(?:\\-line)?\\s*:\\s*line-through(?:;|\\s|)/.test(cssText)) {\r\n                    commandMapNodes.push('STRIKE');\r\n                    findS = false;\r\n                }\r\n\r\n                commandMapNodes.push((/^STRONG$/.test(nodeName) ? 'B' : /^EM$/.test(nodeName) ? 'I' : nodeName));\r\n            }\r\n\r\n            /** A Tag edit controller off */\r\n            if (findA) editor.controllersOff();\r\n\r\n            /** toggle class on */\r\n            for (let i = 0; i < commandMapNodes.length; i++) {\r\n                nodeName = commandMapNodes[i];\r\n                if (classOnCheck.test(nodeName)) {\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].addClass(commandMap[nodeName], 'on');\r\n                }\r\n            }\r\n\r\n            /** remove class, display text */\r\n            for (let key in commandMap) {\r\n                if (commandMapNodes.indexOf(key) > -1) continue;\r\n                if (/^FONT/i.test(key)) {\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].changeTxt(commandMap[key], lang.toolbar.font);\r\n                }\r\n                else if (/^SIZE$/i.test(key)) {\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].changeTxt(commandMap[key], lang.toolbar.fontSize);\r\n                }\r\n                else {\r\n                    __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(commandMap[key], 'on');\r\n                }\r\n            }\r\n\r\n            /** save current nodes */\r\n            editor._variable.currentNodes = currentNodes.reverse();\r\n\r\n            /**  Displays the current node structure to resizingBar */\r\n            if (context.option.showPathLabel) context.element.navigation.textContent = editor._variable.currentNodes.join(' > ');\r\n        },\r\n\r\n        _cancelCaptionEdit: function () {\r\n            this.setAttribute('contenteditable', false);\r\n            this.removeEventListener('blur', event._cancelCaptionEdit);\r\n        },\r\n\r\n        onMouseDown_toolbar: function (e) {\r\n            editor._editorRange();\r\n            e.preventDefault();\r\n\r\n            let target = e.target;\r\n\r\n            if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getParentElement(target, '.sun-editor-submenu')) {\r\n                e.stopPropagation();\r\n            } else {\r\n                let command = target.getAttribute('data-command');\r\n                let className = target.className;\r\n    \r\n                while (!command && !/editor_tool/.test(className) && !/sun-editor-id-toolbar/.test(className)) {\r\n                    target = target.parentNode;\r\n                    command = target.getAttribute('data-command');\r\n                    className = target.className;\r\n                }\r\n    \r\n                if (command === editor._submenuName) {\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        onClick_toolbar: function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            let target = e.target;\r\n            let display = target.getAttribute('data-display');\r\n            let command = target.getAttribute('data-command');\r\n            let className = target.className;\r\n\r\n            while (!command && !/editor_tool/.test(className) && !/sun-editor-id-toolbar/.test(className)) {\r\n                target = target.parentNode;\r\n                command = target.getAttribute('data-command');\r\n                display = target.getAttribute('data-display');\r\n                className = target.className;\r\n            }\r\n\r\n            if (!command && !display) return;\r\n            if (target.disabled) return;\r\n            \r\n            editor.focus();\r\n            \r\n            /** Dialog, Submenu */\r\n            if (display) {\r\n                if (/submenu/.test(display) && (target.nextElementSibling === null || target !== editor.submenuActiveButton)) {\r\n                    editor.callPlugin(command, function () {\r\n                        editor.submenuOn(target);\r\n                    });\r\n                    return;\r\n                }\r\n                else if (/dialog/.test(display)) {\r\n                    editor.callPlugin(command, function () {\r\n                        editor.plugins.dialog.open.call(editor, command, false);\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                editor.submenuOff();\r\n                return;\r\n            }\r\n\r\n            /** default command */\r\n            if (command) {\r\n                editor.commandHandler(target, command);\r\n            }\r\n        },\r\n\r\n        onMouseUp_wysiwyg: function () {\r\n            editor._editorRange();\r\n            \r\n            if (editor._isBalloon) {\r\n                const range = editor.getRange();\r\n                if (range.collapsed) event._hideToolbar();\r\n                else event._showToolbarBalloon(range);\r\n            }\r\n        },\r\n\r\n        onClick_wysiwyg: function (e) {\r\n            e.stopPropagation();\r\n            const targetElement = e.target;\r\n\r\n            if (/^IMG$/i.test(targetElement.nodeName)) {\r\n                e.preventDefault();\r\n                editor.callPlugin('image', function () {\r\n                    const size = editor.plugins.resizing.call_controller_resize.call(editor, targetElement, 'image');\r\n                    editor.plugins.image.onModifyMode.call(editor, targetElement, size);\r\n                    \r\n                    if (!__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getParentElement(targetElement, '.sun-editor-id-image-container')) {\r\n                        editor.plugins.image.openModify.call(editor, true);\r\n                        editor.plugins.image.update_image.call(editor);\r\n                        editor.controllersOff();\r\n                    }\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            if (/sun-editor-id-iframe-inner-resizing-cover/i.test(targetElement.className)) {\r\n                e.preventDefault();\r\n                editor.callPlugin('video', function () {\r\n                    const iframe = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getChildElement(targetElement.parentNode, 'iframe');\r\n                    const size = editor.plugins.resizing.call_controller_resize.call(editor, iframe, 'video');\r\n                    editor.plugins.video.onModifyMode.call(editor, iframe, size);\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            event._findButtonEffectTag();\r\n\r\n            const figcaption = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getParentElement(targetElement, 'FIGCAPTION');\r\n            if (figcaption && figcaption.getAttribute('contenteditable') !== 'ture') {\r\n                e.preventDefault();\r\n                figcaption.setAttribute('contenteditable', true);\r\n                figcaption.focus();\r\n\r\n                if (editor._isInline && !editor._inlineToolbarAttr.isShow) {\r\n                    event._showToolbarInline();\r\n\r\n                    const hideToolbar = function () {\r\n                        event._hideToolbar();\r\n                        _d.removeEventListener('click', hideToolbar);\r\n                    };\r\n\r\n                    _d.addEventListener('click', hideToolbar);\r\n                }\r\n            } else {\r\n                const td = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getParentElement(targetElement, __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isCell);\r\n                if (td) {\r\n                    if (editor.controllerArray.length === 0) {\r\n                        editor.callPlugin('table', editor.plugins.table.call_controller_tableEdit.bind(editor, td));\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (userFunction.onClick) userFunction.onClick(e);\r\n        },\r\n\r\n        _showToolbarBalloon: function (rangeObj) {\r\n            const range = rangeObj || editor.getRange();\r\n            const padding = 20;\r\n            const toolbar = context.element.toolbar;\r\n            const selection = _w.getSelection();\r\n\r\n            let isDirTop;\r\n            if (selection.focusNode === selection.anchorNode) {\r\n                isDirTop = selection.focusOffset < selection.anchorOffset;\r\n            } else {\r\n                const childNodes = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getListChildNodes(range.commonAncestorContainer);\r\n                isDirTop = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getArrayIndex(childNodes, selection.focusNode) < __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getArrayIndex(childNodes, selection.anchorNode);\r\n            }\r\n\r\n            let rects = range.getClientRects();\r\n            rects = rects[isDirTop ? 0 : rects.length - 1];\r\n            \r\n            toolbar.style.display = 'block';\r\n\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = toolbar.offsetHeight;\r\n\r\n            let l = (isDirTop ? rects.left : rects.right) - context.element.topArea.offsetLeft + (_w.scrollX || _d.documentElement.scrollLeft) - toolbarWidth / 2;\r\n            let t = (isDirTop ? rects.top - toolbarHeight - 11 : rects.bottom + 11) - context.element.topArea.offsetTop + (_w.scrollY || _d.documentElement.scrollTop);\r\n\r\n            const overRight = l + toolbarWidth - context.element.topArea.offsetWidth;\r\n            \r\n            toolbar.style.left = (l < 0 ? padding : overRight < 0 ? l : l - overRight - padding) + 'px';\r\n            toolbar.style.top = (t) + 'px';\r\n\r\n            if (isDirTop) {\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(context.element._arrow, 'arrow-up');\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].addClass(context.element._arrow, 'arrow-down');\r\n                context.element._arrow.style.top = (toolbarHeight) + 'px';\r\n            } else {\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(context.element._arrow, 'arrow-down');\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].addClass(context.element._arrow, 'arrow-up');\r\n                context.element._arrow.style.top = '-11px';\r\n            }\r\n\r\n            const arrow_width = context.element._arrow.offsetWidth;\r\n            const arrow_left = (toolbarWidth / 2 + (l < 0 ? l - arrow_width : overRight < 0 ? 0 : overRight + arrow_width));\r\n            const arrow_point_width = arrow_width / 2;\r\n            context.element._arrow.style.left = (arrow_left < arrow_point_width ? arrow_point_width : arrow_left + arrow_point_width >= toolbarWidth ? arrow_left - arrow_point_width : arrow_left) + 'px';\r\n        },\r\n\r\n        _showToolbarInline: function () {\r\n            const toolbar = context.element.toolbar;\r\n            toolbar.style.display = 'block';\r\n            editor._inlineToolbarAttr.width = toolbar.style.width = context.option.toolbarWidth;\r\n            editor._inlineToolbarAttr.top = toolbar.style.top = (-1 - toolbar.offsetHeight) + 'px';\r\n            event.onScroll_window();\r\n            editor._inlineToolbarAttr.isShow = true;\r\n        },\r\n\r\n        _hideToolbar: function () {\r\n            context.element.toolbar.style.display = 'none';\r\n            editor._inlineToolbarAttr.isShow = false;\r\n        },\r\n\r\n        onKeyDown_wysiwyg: function (e) {\r\n            const keyCode = e.keyCode;\r\n            const shift = e.shiftKey;\r\n            const ctrl = e.ctrlKey || e.metaKey;\r\n            const alt = e.altKey;\r\n\r\n            if (editor._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            function shortcutCommand(keyCode) {\r\n                const key = event._shortcutKeyCode[keyCode];\r\n                if (!key) return false;\r\n\r\n                editor.commandHandler(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getFormatElement(editor.getSelectionNode()), key[0]);\r\n                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].toggleClass(editor.commandMap[key[1]], 'on');\r\n\r\n                return true;\r\n            }\r\n\r\n            /** Shortcuts */\r\n            if (ctrl && !/^(?:16|17|18)$/.test(keyCode)) {\r\n                if (!(!shift && keyCode === 83) && shortcutCommand(keyCode)) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            /** default key action */\r\n            const selectionNode = editor.getSelectionNode();\r\n            switch (keyCode) {\r\n                case 8: /**backspace key*/\r\n                    if (__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isFormatElement(selectionNode) && __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(selectionNode.parentNode) && selectionNode.previousSibling === null) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        selectionNode.innerHTML = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace;\r\n                        return false;\r\n                    }\r\n                    \r\n                    break;\r\n                case 9:\r\n                    /**tab key*/\r\n                    e.preventDefault();\r\n                    if (ctrl || alt) break;\r\n\r\n                    editor.controllersOff();\r\n\r\n                    let currentNode = selectionNode || editor.getSelectionNode();\r\n                    while (!__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isCell(currentNode) && !__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(currentNode)) {\r\n                        currentNode = currentNode.parentNode;\r\n                    }\r\n\r\n                    if (currentNode && __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isCell(currentNode)) {\r\n                        const table = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getParentElement(currentNode, 'table');\r\n                        const cells = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].getListChildren(table, __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isCell);\r\n                        let idx = shift ? __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].prevIdx(cells, currentNode) : __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].nextIdx(cells, currentNode);\r\n\r\n                        if (idx === cells.length && !shift) idx = 0;\r\n                        if (idx === -1 && shift) idx = cells.length - 1;\r\n\r\n                        const moveCell = cells[idx];\r\n                        if (!moveCell) return false;\r\n\r\n                        editor.setRange(moveCell, 0, moveCell, 0);\r\n\r\n                        break;\r\n                    }\r\n\r\n                    /** format Tag */\r\n                    const lines = editor.getSelectedFormatElements();\r\n\r\n                    if (!shift) {\r\n                        const tabText = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createTextNode(new Array(editor._variable.tabSize + 1).join('\\u00A0'));\r\n                        if (lines.length === 1) {\r\n                            editor.insertNode(tabText);\r\n                            editor.setRange(tabText, editor._variable.tabSize, tabText, editor._variable.tabSize);\r\n                        } else {\r\n                            for (let i = 0, len = lines.length; i < len; i++) {\r\n                                lines[i].insertBefore(tabText.cloneNode(false), lines[i].firstChild);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        for (let i = 0, len = lines.length, child; i < len; i++) {\r\n                            child = lines[i].firstChild;\r\n                            if (/^\\s{1,4}$/.test(child.textContent)) {\r\n                                __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(child);\r\n                            } else if (/^\\s{1,4}/.test(child.textContent)) {\r\n                                child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n            }\r\n\r\n            if (userFunction.onKeyDown) userFunction.onKeyDown(e);\r\n        },\r\n\r\n        onKeyUp_wysiwyg: function (e) {\r\n            editor._editorRange();\r\n            editor.controllersOff();\r\n            const selectionNode = editor.getSelectionNode();\r\n\r\n            if (editor._isBalloon && !editor.getRange().collapsed) {\r\n                event._showToolbarBalloon();\r\n                return;\r\n            }\r\n\r\n            /** when format tag deleted */\r\n            if (e.keyCode === 8 && __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(selectionNode) && context.element.wysiwyg.textContent.length === 0) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                const oFormatTag = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isFormatElement(editor._variable.currentNodes[0]) ? editor._variable.currentNodes[0] : 'P');\r\n                oFormatTag.innerHTML = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].zeroWidthSpace;\r\n\r\n                selectionNode.appendChild(oFormatTag);\r\n                editor.setRange(oFormatTag, 0, oFormatTag, 0);\r\n                return;\r\n            }\r\n\r\n            if ((__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(selectionNode.parentElement) || __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isRangeFormatElement(selectionNode.parentElement)) && selectionNode.nodeType === 3) {\r\n                editor.execCommand('formatBlock', false, __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].isWysiwygDiv(selectionNode.parentElement) ? 'P' : 'DIV');\r\n                event._findButtonEffectTag();\r\n                return;\r\n            }\r\n\r\n            if (event._directionKeyKeyCode.test(e.keyCode)) {\r\n                event._findButtonEffectTag();\r\n            }\r\n\r\n            if (userFunction.onKeyUp) userFunction.onKeyUp(e);\r\n        },\r\n\r\n        onScroll_wysiwyg: function (e) {\r\n            editor.controllersOff();\r\n            if (userFunction.onScroll) userFunction.onScroll(e);\r\n        },\r\n\r\n        onDrop_wysiwyg: function (e) {\r\n            const files = e.dataTransfer.files;\r\n\r\n            if (files.length > 0) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                \r\n                editor.focus();\r\n    \r\n                editor.callPlugin('image', function () {\r\n                    context.image.imgInputFile.files = files;\r\n                    editor.plugins.image.onRender_imgInput.call(editor);\r\n                    context.image.imgInputFile.files = null;\r\n                });\r\n            }\r\n\r\n            if (userFunction.onDrop) userFunction.onDrop(e);\r\n        },\r\n\r\n        onMouseDown_resizingBar: function (e) {\r\n            e.stopPropagation();\r\n\r\n            editor._variable.resizeClientY = e.clientY;\r\n            context.element.resizeBackground.style.display = 'block';\r\n\r\n            function closureFunc() {\r\n                context.element.resizeBackground.style.display = 'none';\r\n                _d.removeEventListener('mousemove', event._resize_editor);\r\n                _d.removeEventListener('mouseup', closureFunc);\r\n            }\r\n\r\n            _d.addEventListener('mousemove', event._resize_editor);\r\n            _d.addEventListener('mouseup', closureFunc);\r\n        },\r\n\r\n        _resize_editor: function (e) {\r\n            const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - editor._variable.resizeClientY);\r\n            context.element.wysiwyg.style.height = context.element.code.style.height = (resizeInterval < editor._variable.minResizingSize ? editor._variable.minResizingSize : resizeInterval) + 'px';\r\n            editor._variable.resizeClientY = e.clientY;\r\n        },\r\n\r\n        onResize_window: function () {\r\n            if (context.element.toolbar.offsetWidth === 0) return;\r\n\r\n            if (editor._variable.isFullScreen) {\r\n                editor._variable.innerHeight_fullScreen += (_w.innerHeight - context.element.toolbar.offsetHeight) - editor._variable.innerHeight_fullScreen;\r\n                context.element.editorArea.style.height = editor._variable.innerHeight_fullScreen + 'px';\r\n            }\r\n            else if (editor._variable._sticky) {\r\n                context.element.toolbar.style.width = (context.element.topArea.offsetWidth - 2) + 'px';\r\n                event.onScroll_window();\r\n            }\r\n\r\n            editor.controllersOff();\r\n        },\r\n\r\n        onScroll_window: function () {\r\n            if (editor._variable.isFullScreen || context.element.toolbar.offsetWidth === 0) return;\r\n\r\n            const element = context.element;\r\n            const editorHeight = element.editorArea.offsetHeight;\r\n            const editorTop = element.topArea.offsetTop - (editor._isInline ? element.toolbar.offsetHeight : 0);\r\n            const y = (this.scrollY || _d.documentElement.scrollTop) + context.option.stickyToolbar;\r\n            \r\n            if (y < editorTop) {\r\n                event._offStickyToolbar(element);\r\n            }\r\n            else if (y + editor._variable.minResizingSize >= editorHeight + editorTop) {\r\n                if (!editor._variable._sticky) event._onStickyToolbar(element);\r\n                element.toolbar.style.top = (editorHeight + editorTop + context.option.stickyToolbar -y - editor._variable.minResizingSize) + 'px';\r\n            }\r\n            else if (y >= editorTop) {\r\n                event._onStickyToolbar(element);\r\n            }\r\n        },\r\n\r\n        _onStickyToolbar: function (element) {\r\n            if (!editor._isInline) {\r\n                element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\r\n                element._stickyDummy.style.display = 'block';\r\n            }\r\n\r\n            element.toolbar.style.top = context.option.stickyToolbar + 'px';\r\n            element.toolbar.style.width = editor._isInline ? editor._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\r\n            __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].addClass(element.toolbar, 'sun-editor-sticky');\r\n            editor._variable._sticky = true;\r\n        },\r\n\r\n        _offStickyToolbar: function (element) {\r\n            element._stickyDummy.style.display = 'none';\r\n            element.toolbar.style.top = editor._isInline ? editor._inlineToolbarAttr.top : '';\r\n            element.toolbar.style.width = editor._isInline ? editor._inlineToolbarAttr.width : '';\r\n            element.editorArea.style.marginTop = '';\r\n            __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeClass(element.toolbar, 'sun-editor-sticky');\r\n            editor._variable._sticky = false;\r\n        },\r\n\r\n        _codeViewAutoScroll: function () {\r\n            context.element.code.style.height = context.element.code.scrollHeight + 'px';\r\n        },\r\n\r\n        onPaste_wysiwyg: function (e) {\r\n            if (!e.clipboardData.getData) return true;\r\n\r\n            const cleanData = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].cleanHTML(e.clipboardData.getData('text/html'));\r\n            \r\n            if (cleanData) {\r\n                editor.execCommand('insertHTML', false, cleanData);\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }\r\n        }\r\n    };\r\n\r\n    /** add event listeners */\r\n    /** toolbar event */\r\n    context.element.toolbar.addEventListener('mousedown', event.onMouseDown_toolbar, false);\r\n    context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\r\n    /** editor area */\r\n    context.element.relative.addEventListener('click', editor.focus.bind(editor), false);\r\n    context.element.wysiwyg.addEventListener('mouseup', event.onMouseUp_wysiwyg, false);\r\n    context.element.wysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\r\n    context.element.wysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\r\n    context.element.wysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\r\n    context.element.wysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\r\n    context.element.wysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\r\n    context.element.wysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\r\n    \r\n    /** code view area auto line */\r\n    if (context.option.height === 'auto') context.element.code.addEventListener('keyup', event._codeViewAutoScroll, false);\r\n\r\n    /** resizingBar */\r\n    if (context.element.resizingBar) {\r\n        if (/\\d+/.test(context.option.height)) {\r\n            context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\r\n        } else {\r\n            __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].addClass(context.element.resizingBar, 'none-resize');\r\n        }\r\n    }\r\n\r\n    /** inline editor */\r\n    if (editor._isInline) {\r\n        context.element.wysiwyg.addEventListener('focus', event._showToolbarInline, false);\r\n    }\r\n\r\n    if (editor._isInline || editor._isBalloon) {\r\n        context.element.wysiwyg.addEventListener('blur', event._hideToolbar, false);\r\n    }\r\n    \r\n    /** window event */\r\n    _w.addEventListener('resize', event.onResize_window, false);\r\n    if (context.option.stickyToolbar > -1) _w.addEventListener('scroll', event.onScroll_window, false);\r\n\r\n    /** add plugin to plugins object */\r\n    if (plugins) {\r\n        Object.keys(plugins).map(function(key) {\r\n            let plugin = plugins[key];\r\n            editor.plugins[plugin.name] = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].copyObj(plugin);\r\n        });\r\n    }\r\n\r\n    /** User function */\r\n    const userFunction = {\r\n        /**\r\n         * @description Event functions\r\n         * @param {Object} event - Event Object\r\n         */\r\n        onScroll: null,\r\n        onClick: null,\r\n        onKeyDown: null,\r\n        onKeyUp: null,\r\n        onDrop: null,\r\n\r\n        /**\r\n         * @description Called when the image is uploaded or the uploaded image is deleted\r\n         * @param {Element} targetImgElement - Current img element\r\n         * @param {Number} index - Uploaded index\r\n         * @param {Boolean} isDelete - Whether or not it was called after the delete operation\r\n         * @param {Object} imageInfo - Image info object\r\n         */\r\n        onImageUpload: null,\r\n\r\n        /**\r\n         * @description Called when the image is upload failed\r\n         * @param {String} errorMessage - Error message\r\n         * @param {Object} result - Result info Object\r\n         */\r\n        onImageUploadError: null,\r\n\r\n        /**\r\n         * @description Open a notice area\r\n         * @param {String} message - Notice message\r\n         */\r\n        noticeOpen: function (message) {\r\n            editor.addModule([__WEBPACK_IMPORTED_MODULE_1__plugins_modules_notice__[\"a\" /* default */]]);\r\n            __WEBPACK_IMPORTED_MODULE_1__plugins_modules_notice__[\"a\" /* default */].open.call(editor, message);\r\n        },\r\n\r\n        /**\r\n         * @description Close a notice area\r\n         */\r\n        noticeClose: function () {\r\n            editor.addModule([__WEBPACK_IMPORTED_MODULE_1__plugins_modules_notice__[\"a\" /* default */]]);\r\n            __WEBPACK_IMPORTED_MODULE_1__plugins_modules_notice__[\"a\" /* default */].close.call(editor);\r\n        },\r\n\r\n        /**\r\n         * @description Copying the contents of the editor to the original textarea\r\n         */\r\n        save: function () {\r\n            context.element.originElement.value = editor.getContents();\r\n        },\r\n\r\n        /**\r\n         * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n         * @returns {Object}\r\n         */\r\n        getContext: function () {\r\n            return context;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the contents of the suneditor\r\n         * @returns {String}\r\n         */\r\n        getContents: function () {\r\n            return editor.getContents();\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded images informations\r\n         * @returns {Array}\r\n         */\r\n        getImagesInfo: function () {\r\n            return editor._variable._imagesInfo;\r\n        },\r\n\r\n        /**\r\n         * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n         * @param {Element|String} html - HTML Element or HTML string or plain string\r\n         */\r\n        insertHTML: function (html) {\r\n            if (!html.nodeType || html.nodeType !== 1) {\r\n                const template = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement('template');\r\n                template.innerHTML = html;\r\n                html = template.firstChild || template.content.firstChild;\r\n            }\r\n\r\n            editor.insertNode(html);\r\n            editor.focus();\r\n        },\r\n\r\n        /**\r\n         * @description Change the contents of the suneditor\r\n         * @param {String} contents - Contents to Input\r\n         */\r\n        setContents: function (contents) {\r\n            if (editor._variable.wysiwygActive) {\r\n                context.element.wysiwyg.innerHTML = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].convertContentsForEditor(contents);\r\n            } else {\r\n                context.element.code.value = contents;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Add contents to the suneditor\r\n         * @param {String} contents - Contents to Input\r\n         */\r\n        appendContents: function (contents) {\r\n            if (editor._variable.wysiwygActive) {\r\n                context.element.wysiwyg.innerHTML += __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].convertContentsForEditor(contents);\r\n            } else {\r\n                context.element.code.value += contents;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Disable the suneditor\r\n         */\r\n        disabled: function () {\r\n            context.tool.cover.style.display = 'block';\r\n            context.element.wysiwyg.setAttribute('contenteditable', false);\r\n            context.element.code.setAttribute('disabled', 'disabled');\r\n        },\r\n\r\n        /**\r\n         * @description Enabled the suneditor\r\n         */\r\n        enabled: function () {\r\n            context.tool.cover.style.display = 'none';\r\n            context.element.wysiwyg.setAttribute('contenteditable', true);\r\n            context.element.code.removeAttribute('disabled');\r\n        },\r\n\r\n        /**\r\n         * @description Show the suneditor\r\n         */\r\n        show: function () {\r\n            const topAreaStyle = context.element.topArea.style;\r\n            if (topAreaStyle.display === 'none') topAreaStyle.display = context.option.display;\r\n        },\r\n\r\n        /**\r\n         * @description Hide the suneditor\r\n         */\r\n        hide: function () {\r\n            context.element.topArea.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Destroy the suneditor\r\n         */\r\n        destroy: function () {\r\n            /** remove window event listeners */\r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n            \r\n            /** remove element */\r\n            __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].removeItem(context.element.topArea);\r\n\r\n            this.onScroll = null;\r\n            this.onClick = null;\r\n            this.onKeyDown = null;\r\n            this.onKeyUp = null;\r\n            this.onDrop = null;\r\n            this.save = null;\r\n            this.onImageUpload = null;\r\n            this.onImageUploadError = null;\r\n            this.noticeOpen = null;\r\n            this.noticeClose = null;\r\n            this.getContext = null;\r\n            this.getContents = null;\r\n            this.getImagesInfo = null;\r\n            this.insertHTML = null;\r\n            this.setContents = null;\r\n            this.appendContents = null;\r\n            this.disabled = null;\r\n            this.enabled = null;\r\n            this.show = null;\r\n            this.hide = null;\r\n            this.destroy = null;\r\n\r\n            context = null;\r\n            plugins = null;\r\n            lang = null;\r\n        }\r\n    };\r\n\r\n    return userFunction;\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (core);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9saWIvY29yZS5qcz9lNzg2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUVhO0FBQ3FCOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUNBQW1DOztBQUVoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUIsc0JBQXNCLFFBQVE7QUFDOUIsc0JBQXNCLFFBQVE7QUFDOUIsc0JBQXNCLFFBQVE7QUFDOUIsc0JBQXNCLFFBQVE7QUFDOUIsc0JBQXNCLFFBQVE7QUFDOUIsc0JBQXNCLFFBQVE7QUFDOUIsc0JBQXNCLFFBQVE7QUFDOUIsc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLHNCQUFzQixRQUFRO0FBQzlCLHNCQUFzQixRQUFRO0FBQzlCLHNCQUFzQixPQUFPO0FBQzdCLHNCQUFzQixPQUFPO0FBQzdCLHNCQUFzQixPQUFPO0FBQzdCLHNCQUFzQixPQUFPO0FBQzdCLHNCQUFzQixNQUFNO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLG1CQUFtQixNQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxTQUFTO0FBQzlEO0FBQ0E7QUFDQSwrQ0FBK0Msc0RBQUk7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksc0RBQUk7QUFDaEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0RBQUk7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzQkFBc0I7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0IsU0FBUztBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCLG1CQUFtQixRQUFRO0FBQzNCLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsc0RBQUk7QUFDaEM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLE9BQU87QUFDMUIsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0RBQUk7O0FBRXJCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLHNEQUFJO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixzREFBSSw2QkFBNkIsc0RBQUksMENBQTBDLHNEQUFJOztBQUVwRztBQUNBLDhCQUE4QixzREFBSTtBQUNsQyx1QkFBdUIsc0RBQUk7QUFDM0IsYUFBYTs7QUFFYjs7QUFFQSw0QkFBNEIsc0RBQUk7QUFDaEMsMEJBQTBCLHNEQUFJO0FBQzlCO0FBQ0E7O0FBRUEsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixzREFBSTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0Isc0RBQUk7QUFDcEIsaUJBQWlCLHNEQUFJO0FBQ3JCLDJCQUEyQixzREFBSTtBQUMvQjtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDLHNEQUFJO0FBQ3RDLHVCQUF1QixzREFBSTtBQUMzQixhQUFhOztBQUViOztBQUVBLDRCQUE0QixzREFBSTtBQUNoQywwQkFBMEIsc0RBQUk7QUFDOUI7QUFDQTs7QUFFQSx1REFBdUQsU0FBUztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLGFBQWE7QUFDL0M7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCLG1CQUFtQixPQUFPO0FBQzFCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLFlBQVk7QUFDL0IscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQUksbUNBQW1DLHNEQUFJO0FBQ3hFLG9DQUFvQyxzREFBSTtBQUN4QyxrRUFBa0Usc0RBQUk7QUFDdEUsNEJBQTRCLHNEQUFJO0FBQ2hDLGdDQUFnQyxzREFBSTs7QUFFcEMsZ0JBQWdCLHNEQUFJO0FBQ3BCOztBQUVBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLGVBQWU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxzREFBSTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLCtCQUErQixzREFBSTtBQUNuQyw2QkFBNkIsc0RBQUk7QUFDakMsMkJBQTJCLHNEQUFJOztBQUUvQiw4REFBOEQsUUFBUTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdEQUF3RCxnQkFBZ0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxlQUFlO0FBQ25EOztBQUVBO0FBQ0Esb0JBQW9CLHNEQUFJO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFDQUFxQyxzREFBSTtBQUN6QyxxQkFBcUI7QUFDckIscUNBQXFDLHNEQUFJO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsd0JBQXdCLHNEQUFJO0FBQzVCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyxzREFBSTtBQUN4QyxxQkFBcUI7QUFDckIsb0NBQW9DLHNEQUFJO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsd0JBQXdCLHNEQUFJO0FBQzVCOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCLHNEQUFJO0FBQ3BCO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsc0RBQUksZUFBZSxzREFBSTtBQUNyRCxrQ0FBa0Msc0RBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxnQkFBZ0Isc0RBQUksK0JBQStCLHNEQUFJO0FBQ3ZEO0FBQ0EsYUFBYTtBQUNiLDJCQUEyQixzREFBSSxnQ0FBZ0Msc0RBQUk7QUFDbkU7O0FBRUEsZ0JBQWdCLHNEQUFJO0FBQ3BCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvREFBb0QsU0FBUztBQUM3RDs7QUFFQTtBQUNBO0FBQ0EscUNBQXFDLHNEQUFJO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDLHNEQUFJLCtDQUErQyxzREFBSSw0Q0FBNEMsc0RBQUk7QUFDNUksU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLE1BQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBSTtBQUM1QixpQkFBaUI7QUFDakI7O0FBRUEsbUNBQW1DLGtDQUFrQztBQUNyRSwrQkFBK0Isc0RBQUksNEJBQTRCLHNEQUFJO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQixzREFBSTtBQUMxQjs7QUFFQTtBQUNBLG1DQUFtQyxzREFBSTtBQUN2QztBQUNBO0FBQ0EsMkRBQTJELFNBQVM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0Isc0RBQUk7QUFDeEIsc0NBQXNDLHNEQUFJLGdCQUFnQixzREFBSTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLHNEQUFJO0FBQzFCOztBQUVBO0FBQ0EsbUNBQW1DLHNEQUFJO0FBQ3ZDO0FBQ0E7QUFDQSwyREFBMkQsU0FBUztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixzREFBSTtBQUN4QixzQ0FBc0Msc0RBQUksZ0JBQWdCLHNEQUFJO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQSw4QkFBOEI7QUFDOUIsK0JBQStCLGtDQUFrQztBQUNqRTtBQUNBO0FBQ0Esb0NBQW9DLFVBQVU7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOERBQThELHNEQUFJOztBQUVsRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLHNEQUFJLDZCQUE2QixzREFBSTtBQUN0RDtBQUNBLDBEQUEwRCxzREFBSTs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLGVBQWU7QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLFNBQVM7QUFDNUIsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLE9BQU87QUFDMUIsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLE9BQU87QUFDMUIsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLFFBQVE7QUFDM0Isc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLHNDQUFzQyxVQUFVO0FBQy9GOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0RBQXdELFNBQVM7QUFDakU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsc0RBQUk7QUFDN0MseUNBQXlDLHNEQUFJOztBQUU3QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsc0RBQUk7QUFDOUMseUNBQXlDLHNEQUFJOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQsc0RBQUk7QUFDdkQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxREFBcUQsc0RBQUk7QUFDekQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHNEQUFJO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlEQUFpRCxzREFBSTs7QUFFckQ7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQSxpQ0FBaUMsc0RBQUksNEJBQTRCLHNEQUFJO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLHNEQUFJO0FBQ2hCO0FBQ0EsWUFBWSxzREFBSTs7QUFFaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLFNBQVM7QUFDNUIsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUksNERBQTRELHNEQUFJO0FBQ25HLGFBQWE7QUFDYjtBQUNBOztBQUVBLDREQUE0RCxTQUFTO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsc0RBQUk7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQixtQkFBbUIsUUFBUTtBQUMzQixtQkFBbUIsU0FBUztBQUM1QixtQkFBbUIsUUFBUTtBQUMzQixtQkFBbUIsT0FBTztBQUMxQixtQkFBbUIsUUFBUTtBQUMzQixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdELFNBQVM7QUFDakU7QUFDQTs7QUFFQSxxQ0FBcUMsc0RBQUk7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5QyxzREFBSTtBQUM3Qyx5Q0FBeUMsc0RBQUk7O0FBRTdDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBLDRCQUE0QixzREFBSTs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzREFBSTtBQUN6RDs7QUFFQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBLDRCQUE0QixzREFBSTtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdDQUFnQyxzREFBSSxnQkFBZ0Isc0RBQUk7QUFDeEQ7QUFDQTtBQUNBLGFBQWE7QUFDYixnQkFBZ0Isc0RBQUk7QUFDcEI7QUFDQSxnQkFBZ0Isc0RBQUk7QUFDcEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQixtQkFBbUIsUUFBUTtBQUMzQixtQkFBbUIsU0FBUztBQUM1QixtQkFBbUIsUUFBUTtBQUMzQixtQkFBbUIsT0FBTztBQUMxQixtQkFBbUIsUUFBUTtBQUMzQixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtELFFBQVE7QUFDMUQ7QUFDQTs7QUFFQSxxQ0FBcUMsc0RBQUk7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQyxzREFBSTtBQUM5Qyx5Q0FBeUMsc0RBQUk7O0FBRTdDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBLDRCQUE0QixzREFBSTs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzREFBSTtBQUN6RDs7QUFFQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBLDRCQUE0QixzREFBSTtBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZ0NBQWdDLHNEQUFJLGdCQUFnQixzREFBSTtBQUN4RDtBQUNBO0FBQ0EsYUFBYTtBQUNiLGdCQUFnQixzREFBSTtBQUNwQjtBQUNBLGdCQUFnQixzREFBSTtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFJO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFJO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBSTtBQUN4QjtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFJO0FBQzVCO0FBQ0Esd0JBQXdCLHNEQUFJO0FBQzVCO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQUk7QUFDeEI7QUFDQTtBQUNBLHdCQUF3QixzREFBSTtBQUM1QjtBQUNBLHdCQUF3QixzREFBSTtBQUM1QjtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFJO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQUk7QUFDeEI7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNEQUFJO0FBQ2hDLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0RBQW9ELFNBQVM7QUFDN0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFJO0FBQ2hCLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELFNBQVM7QUFDN0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkVBQTJFLHNEQUFJLCtDQUErQyxzREFBSTtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHNEQUFJO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxnQkFBZ0Isc0RBQUk7QUFDcEIsZ0JBQWdCLHNEQUFJO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isc0RBQUk7QUFDeEI7QUFDQTs7QUFFQSxnQkFBZ0Isc0RBQUk7QUFDcEIsZ0JBQWdCLHNEQUFJO0FBQ3BCO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxzREFBSTtBQUN0RTtBQUNBO0FBQ0EsNkdBQTZHLGFBQWE7QUFDMUg7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMkJBQTJCLHNEQUFJO0FBQy9COztBQUVBLCtCQUErQixzREFBSTtBQUNuQzs7QUFFQSxnQ0FBZ0Msc0RBQUk7QUFDcEM7QUFDQSxhQUFhOztBQUViLHFEQUFxRCxTQUFTO0FBQzlEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBaUUsRUFBRSxzREFBSSwrQkFBK0I7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0Msc0RBQUk7QUFDdEM7QUFDQSxvQkFBb0Isc0RBQUk7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFJO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBSTtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLDRCQUE0QjtBQUN2RDtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFJO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQUk7QUFDeEI7QUFDQTtBQUNBLG9CQUFvQixzREFBSTtBQUN4QjtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFJO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxnQkFBZ0Isc0RBQUk7QUFDcEI7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsc0RBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNEQUFJO0FBQ3ZDO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7O0FBRUE7O0FBRUEsK0JBQStCLHNEQUFJO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYiwyQkFBMkIsc0RBQUksaUNBQWlDLHNEQUFJO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsbUNBQW1DLHNEQUFJO0FBQ3ZDLDJCQUEyQixzREFBSSxrREFBa0Qsc0RBQUk7QUFDckY7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixzREFBSTtBQUNwQixnQkFBZ0Isc0RBQUk7QUFDcEI7QUFDQSxhQUFhO0FBQ2IsZ0JBQWdCLHNEQUFJO0FBQ3BCLGdCQUFnQixzREFBSTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDLHNEQUFJO0FBQzFDLGdCQUFnQixzREFBSTs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBSSxtQ0FBbUMsc0RBQUk7QUFDbkU7QUFDQTtBQUNBLGtEQUFrRCxzREFBSTtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw0QkFBNEIsc0RBQUkseUJBQXlCLHNEQUFJO0FBQzdEO0FBQ0E7O0FBRUEsdUNBQXVDLHNEQUFJO0FBQzNDLHNDQUFzQyxzREFBSTtBQUMxQyxzQ0FBc0Msc0RBQUksd0JBQXdCLHNEQUFJO0FBQ3RFLDBDQUEwQyxzREFBSSwrQkFBK0Isc0RBQUk7O0FBRWpGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0Msc0RBQUk7QUFDNUM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLCtEQUErRCxTQUFTO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixrRUFBa0UsU0FBUztBQUMzRTtBQUNBLHFDQUFxQyxJQUFJO0FBQ3pDLGdDQUFnQyxzREFBSTtBQUNwQyw2QkFBNkIsZUFBZSxJQUFJO0FBQ2hELG1GQUFtRixJQUFJO0FBQ3ZGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxzREFBSTtBQUN2QztBQUNBOztBQUVBLG1DQUFtQyxzREFBSSxlQUFlLHNEQUFJO0FBQzFELHVDQUF1QyxzREFBSTs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHNEQUFJLDhDQUE4QyxzREFBSTtBQUN2RSx5REFBeUQsc0RBQUk7QUFDN0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSxzREFBSTtBQUNoQjtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0RBQUk7QUFDaEI7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUEsOEJBQThCLHNEQUFJOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFlBQVksc0RBQUk7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHNEQUFJO0FBQzlDLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLE9BQU87QUFDMUIsbUJBQW1CLFFBQVE7QUFDM0IsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUIsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBLDhCQUE4Qix3RUFBTTtBQUNwQyxZQUFZLHdFQUFNO0FBQ2xCLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsd0VBQU07QUFDcEMsWUFBWSx3RUFBTTtBQUNsQixTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxtQkFBbUIsZUFBZTtBQUNsQztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsc0RBQUk7QUFDckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsc0RBQUk7QUFDeEQsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsc0RBQUk7QUFDekQsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVksc0RBQUk7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRWUsNkRBQUkiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiB3eXNpd3lnIHdlYiBlZGl0b3JcclxuICpcclxuICogc3VuZWRpdG9yLmpzXHJcbiAqIENvcHlyaWdodCAyMDE3IEppSG9uZyBMZWUuXHJcbiAqIE1JVCBsaWNlbnNlLlxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IHV0aWwgZnJvbSAnLi91dGlsJztcclxuaW1wb3J0IG5vdGljZSBmcm9tICcuLi9wbHVnaW5zL21vZHVsZXMvbm90aWNlJztcclxuXHJcbi8qKlxyXG4gKiBAZGVzY3JpcHRpb24gU3VuRWRpdG9yIGNvcmUgZnVuY3Rpb25cclxuICogQHBhcmFtIGNvbnRleHRcclxuICogQHBhcmFtIHBsdWdpbnNcclxuICogQHBhcmFtIGxhbmdcclxuICogQHJldHVybnMge3tzYXZlOiBzYXZlLCBnZXRDb250ZXh0OiBnZXRDb250ZXh0LCBnZXRDb250ZW50OiBnZXRDb250ZW50LCBzZXRDb250ZW50OiBzZXRDb250ZW50LCBhcHBlbmRDb250ZW50OiBhcHBlbmRDb250ZW50LCBkaXNhYmxlZDogZGlzYWJsZWQsIGVuYWJsZWQ6IGVuYWJsZWQsIHNob3c6IHNob3csIGhpZGU6IGhpZGUsIGRlc3Ryb3k6IGRlc3Ryb3l9fVxyXG4gKi9cclxuY29uc3QgY29yZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBwbHVnaW5zLCBsYW5nKSB7XHJcbiAgICBjb25zdCBfZCA9IGRvY3VtZW50O1xyXG4gICAgY29uc3QgX3cgPSB3aW5kb3c7XHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBlZGl0b3IgY29yZSBvYmplY3RcclxuICAgICAqIHNob3VsZCBhbHdheXMgYmluZCB0aGlzIG9iamVjdCB3aGVuIHJlZ2lzdGVyaW5nIGFuIGV2ZW50IGluIHRoZSBwbHVnLWluLlxyXG4gICAgICovXHJcbiAgICBjb25zdCBlZGl0b3IgPSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEVsZW1lbnRzIGFuZCB1c2VyIG9wdGlvbnMgcGFyYW1ldGVycyBvZiB0aGUgc3VuZWRpdG9yXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29udGV4dDogY29udGV4dCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIGxvYWRlZCBwbHVnaW5zXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcGx1Z2luczoge30sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBXaGV0aGVyIHRoZSBwbHVnaW4gaXMgaW5pdGlhbGl6ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICBpbml0UGx1Z2luczoge30sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBsb2FkZWQgbGFuZ3VhZ2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBsYW5nOiBsYW5nLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gZGlhbG9nIGVsZW1lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICBkaWFsb2dGb3JtOiBudWxsLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gY3VycmVudCBzdWJtZW50IG5hbWVcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9zdWJtZW51TmFtZTogJycsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBzdWJtZW51IGVsZW1lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICBzdWJtZW51OiBudWxsLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gYmluZGVkIHN1Ym1lbnVPZmYgbWV0aG9kXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfYmluZGVkU3VibWVudU9mZjogbnVsbCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIGFjdGl2ZSBidXR0b24gZWxlbWVudCBpbiBzdWJtZW51XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3VibWVudUFjdGl2ZUJ1dHRvbjogbnVsbCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBlbGVtZW50cyBhcnJheSB0byBiZSBwcm9jZXNzZWQgdW52aXNpYmxlIHdoZW4gdGhlIGNvbnRyb2xsZXJzT2ZmIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIChyZXNpemluZywgbGluayBtb2RpZmllZCBidXR0b24sIHRhYmxlIGNvbnRyb2xsZXIpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29udHJvbGxlckFycmF5OiBbXSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIGJpbmRlZCBjb250cm9sbGVyc09mZiBtZXRob2RcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9iaW5kQ29udHJvbGxlcnNPZmY6IG51bGwsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBvZiBidXR0b25zIHdob3NlIGNsYXNzIG5hbWUgaXMgbm90IFwiY29kZS12aWV3LWVuYWJsZWRcIlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvZGVWaWV3RGlzYWJsZWRCdXR0b25zOiBjb250ZXh0LmVsZW1lbnQudG9vbGJhci5xdWVyeVNlbGVjdG9yQWxsKCcuc3VuLWVkaXRvci1pZC10b29sYmFyIGJ1dHRvbjpub3QoW2NsYXNzfj1cImNvZGUtdmlldy1lbmFibGVkXCJdKScpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gSXMgaW5saW5lIG1vZGU/XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfaXNJbmxpbmU6IC9pbmxpbmUvaS50ZXN0KGNvbnRleHQub3B0aW9uLm1vZGUpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gSXMgYmFsbG9vbiBtb2RlP1xyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2lzQmFsbG9vbjogL2JhbGxvb24vaS50ZXN0KGNvbnRleHQub3B0aW9uLm1vZGUpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVxdWlyZWQgdmFsdWUgd2hlbiB1c2luZyBpbmxpbmUgbW9kZSB0byBzdGlja3kgdG9vbGJhclxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2lubGluZVRvb2xiYXJBdHRyOiB7d2lkdGg6IDAsIGhlaWdodDogMCwgaXNTaG93OiBmYWxzZX0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBbiB1c2VyIGV2ZW50IGZ1bmN0aW9uIHdoZW4gaW1hZ2UgdXBsb2FkZWQgc3VjY2VzcyBvciByZW1vdmUgaW1hZ2VcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9pbWFnZVVwbG9hZDogZnVuY3Rpb24gKHRhcmdldEltZ0VsZW1lbnQsIGluZGV4LCBpc0RlbGV0ZSwgaW1hZ2VJbmZvKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlckZ1bmN0aW9uLm9uSW1hZ2VVcGxvYWQgPT09ICdmdW5jdGlvbicpIHVzZXJGdW5jdGlvbi5vbkltYWdlVXBsb2FkKHRhcmdldEltZ0VsZW1lbnQsIGluZGV4ICogMSwgaXNEZWxldGUsIGltYWdlSW5mbyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFuIHVzZXIgZXZlbnQgZnVuY3Rpb24gd2hlbiBpbWFnZSB1cGxvYWQgZmFpbGVkXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfaW1hZ2VVcGxvYWRFcnJvcjogZnVuY3Rpb24gKGVycm9yTWVzc2FnZSwgcmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlckZ1bmN0aW9uLm9uSW1hZ2VVcGxvYWRFcnJvciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHVzZXJGdW5jdGlvbi5vbkltYWdlVXBsb2FkRXJyb3IoZXJyb3JNZXNzYWdlLCByZXN1bHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBFbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlIHRleHQgb3IgY2xhc3NOYW1lIGZvciBlYWNoIHNlbGVjdGlvbiBjaGFuZ2VcclxuICAgICAgICAgKiBAcHJvcGVydHkge0VsZW1lbnR9IEZPUk1BVCAtIGZvcm1hdCBidXR0b25cclxuICAgICAgICAgKiBAcHJvcGVydHkge0VsZW1lbnR9IEZPTlQgLSBmb250IGZhbWlseSBidXR0b25cclxuICAgICAgICAgKiBAcHJvcGVydHkge0VsZW1lbnR9IFNJWkUgLSBmb250IHNpemUgYnV0dG9uXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtFbGVtZW50fSBCIC0gYm9sZCBidXR0b25cclxuICAgICAgICAgKiBAcHJvcGVydHkge0VsZW1lbnR9IFUgLSB1bmRlcmxpbmUgYnV0dG9uXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtFbGVtZW50fSBJIC0gaXRhbGljIGJ1dHRvblxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gU1RSSUtFIC0gc3RyaWtlIGJ1dHRvblxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gU1VCIC0gc3Vic2NyaXB0IGJ1dHRvblxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gU1VQIC0gc3VwZXJzY3JpcHQgYnV0dG9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29tbWFuZE1hcDoge1xyXG4gICAgICAgICAgICBGT1JNQVQ6IGNvbnRleHQudG9vbC5mb3JtYXQsXHJcbiAgICAgICAgICAgIEZPTlQ6IGNvbnRleHQudG9vbC5mb250LFxyXG4gICAgICAgICAgICBTSVpFOiBjb250ZXh0LnRvb2wuZm9udFNpemUsXHJcbiAgICAgICAgICAgIEI6IGNvbnRleHQudG9vbC5ib2xkLFxyXG4gICAgICAgICAgICBVOiBjb250ZXh0LnRvb2wudW5kZXJsaW5lLFxyXG4gICAgICAgICAgICBJOiBjb250ZXh0LnRvb2wuaXRhbGljLFxyXG4gICAgICAgICAgICBTVFJJS0U6IGNvbnRleHQudG9vbC5zdHJpa2UsXHJcbiAgICAgICAgICAgIFNVQjogY29udGV4dC50b29sLnN1YnNjcmlwdCxcclxuICAgICAgICAgICAgU1VQOiBjb250ZXh0LnRvb2wuc3VwZXJzY3JpcHRcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gVmFyaWFibGVzIHVzZWQgaW50ZXJuYWxseSBpbiBlZGl0b3Igb3BlcmF0aW9uXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSB3eXNpd3lnQWN0aXZlIC0gVGhlIHd5c2l3eWcgZnJhbWUgb3IgY29kZSB2aWV3IHN0YXRlXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc0Z1bGxTY3JlZW4gLSBTdGF0ZSBvZiBmdWxsIHNjcmVlblxyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBpbm5lckhlaWdodF9mdWxsU2NyZWVuIC0gSW5uZXJIZWlnaHQgaW4gZWRpdG9yIHdoZW4gaW4gZnVsbCBzY3JlZW5cclxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmVzaXplQ2xpZW50WSAtIFJlbWVtYmVyIHRoZSB2ZXJ0aWNhbCBzaXplIG9mIHRoZSBlZGl0b3IgYmVmb3JlIHJlc2l6aW5nIHRoZSBlZGl0b3IgKFVzZWQgd2hlbiBjYWxjdWxhdGluZyBkdXJpbmcgcmVzaXplIG9wZXJhdGlvbilcclxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gdGFiU2l6ZSAtIEluZGVudGVkIHNpemUgd2hlbiB0YWIgYnV0dG9uIGNsaWNrZWQgKDQpXHJcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IG1pblJlc2l6aW5nU2l6ZSAtIE1pbmltdW0gc2l6ZSBvZiBlZGl0aW5nIGFyZWEgd2hlbiByZXNpemVkICg2NSlcclxuICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5fSBjdXJyZW50Tm9kZXMgLSAgQW4gYXJyYXkgb2YgdGhlIGN1cnJlbnQgY3Vyc29yJ3Mgbm9kZSBzdHJ1Y3R1cmVcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF92YXJpYWJsZToge1xyXG4gICAgICAgICAgICB3eXNpd3lnQWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBpbm5lckhlaWdodF9mdWxsU2NyZWVuOiAwLFxyXG4gICAgICAgICAgICByZXNpemVDbGllbnRZOiAwLFxyXG4gICAgICAgICAgICB0YWJTaXplOiA0LFxyXG4gICAgICAgICAgICBtaW5SZXNpemluZ1NpemU6IDY1LFxyXG4gICAgICAgICAgICBjdXJyZW50Tm9kZXM6IFtdLFxyXG4gICAgICAgICAgICBfcmFuZ2U6IG51bGwsXHJcbiAgICAgICAgICAgIF9zZWxlY3Rpb25Ob2RlOiBudWxsLFxyXG4gICAgICAgICAgICBfb3JpZ2luQ3NzVGV4dDogY29udGV4dC5lbGVtZW50LnRvcEFyZWEuc3R5bGUuY3NzVGV4dCxcclxuICAgICAgICAgICAgX2JvZHlPdmVyZmxvdzogJycsXHJcbiAgICAgICAgICAgIF9lZGl0b3JBcmVhT3JpZ2luQ3NzVGV4dDogJycsXHJcbiAgICAgICAgICAgIF93eXNpd3lnT3JpZ2luQ3NzVGV4dDogJycsXHJcbiAgICAgICAgICAgIF9jb2RlT3JpZ2luQ3NzVGV4dDogJycsXHJcbiAgICAgICAgICAgIF9zdGlja3k6IGZhbHNlLFxyXG4gICAgICAgICAgICBfaW1hZ2VzSW5mbzogW10sXHJcbiAgICAgICAgICAgIF9pbWFnZUluZGV4OiAwXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIElmIHRoZSBwbHVnaW4gaXMgbm90IGFkZGVkLCBhZGQgdGhlIHBsdWdpbiBhbmQgY2FsbCB0aGUgJ2FkZCcgZnVuY3Rpb24uXHJcbiAgICAgICAgICogSWYgdGhlIHBsdWdpbiBpcyBhZGRlZCBjYWxsIGNhbGxCYWNrIGZ1bmN0aW9uLlxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbiB0byBjYWxsXHJcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbEJhY2tGdW5jdGlvbiAtIEZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFmdGVyIG1vZHVsZSBjYWxsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2FsbFBsdWdpbjogZnVuY3Rpb24gKHBsdWdpbk5hbWUsIGNhbGxCYWNrRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBsdWdpbnNbcGx1Z2luTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdbU1VORURJVE9SLmNvcmUuY2FsbFBsdWdpbi5mYWlsXSBUaGUgY2FsbGVkIHBsdWdpbiBkb2VzIG5vdCBleGlzdCBvciBpcyBpbiBhbiBpbnZhbGlkIGZvcm1hdC4gKHBsdWdpbk5hbWU6XCInICsgcGx1Z2luTmFtZSArICdcIiknKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5pbml0UGx1Z2luc1twbHVnaW5OYW1lXSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbnNbcGx1Z2luTmFtZV0uYWRkKHRoaXMsIHRoaXMucGx1Z2luc1twbHVnaW5OYW1lXS5idXR0b25FbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFBsdWdpbnNbcGx1Z2luTmFtZV0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgY2FsbEJhY2tGdW5jdGlvbigpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBJZiB0aGUgbW9kdWxlIGlzIG5vdCBhZGRlZCwgYWRkIHRoZSBtb2R1bGUgYW5kIGNhbGwgdGhlICdhZGQnIGZ1bmN0aW9uXHJcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gbW9kdWxlQXJyYXkgLSBtb2R1bGUgb2JqZWN0J3MgQXJyYXkgW2RpYWxvZywgcmVzaXppbmddXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYWRkTW9kdWxlOiBmdW5jdGlvbiAobW9kdWxlQXJyYXkpIHtcclxuICAgICAgICAgICAgbGV0IG1vZHVsZU5hbWUgPSAnJztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG1vZHVsZUFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlQXJyYXlbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wbHVnaW5zW21vZHVsZU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zW21vZHVsZU5hbWVdID0gdXRpbC5jb3B5T2JqKG1vZHVsZUFycmF5W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbnNbbW9kdWxlTmFtZV0uYWRkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEVuYWJsZWQgc3VibWVudVxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFN1Ym1lbnUgZWxlbWVudCB0byBjYWxsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3VibWVudU9uOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBzdWJtZW51TmFtZSA9IHRoaXMuX3N1Ym1lbnVOYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW5zW3N1Ym1lbnVOYW1lXS5vbikgdGhpcy5wbHVnaW5zW3N1Ym1lbnVOYW1lXS5vbi5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdWJtZW51ID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgIHRoaXMuc3VibWVudS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgdXRpbC5hZGRDbGFzcyhlbGVtZW50LCAnb24nKTtcclxuICAgICAgICAgICAgdGhpcy5zdWJtZW51QWN0aXZlQnV0dG9uID0gZWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG92ZXJMZWZ0ID0gdGhpcy5jb250ZXh0LmVsZW1lbnQudG9vbGJhci5vZmZzZXRXaWR0aCAtIChlbGVtZW50LnBhcmVudEVsZW1lbnQub2Zmc2V0TGVmdCArIHRoaXMuc3VibWVudS5vZmZzZXRXaWR0aCk7XHJcbiAgICAgICAgICAgIGlmIChvdmVyTGVmdCA8IDApIHRoaXMuc3VibWVudS5zdHlsZS5sZWZ0ID0gb3ZlckxlZnQgKyAncHgnO1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMuc3VibWVudS5zdHlsZS5sZWZ0ID0gJzFweCc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9iaW5kZWRTdWJtZW51T2ZmID0gdGhpcy5zdWJtZW51T2ZmLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIF9kLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2JpbmRlZFN1Ym1lbnVPZmYsIGZhbHNlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRGlzYWJsZSBzdWJtZW51XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3VibWVudU9mZjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdWJtZW51KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJtZW51TmFtZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJtZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1lbnUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVDbGFzcyh0aGlzLnN1Ym1lbnVBY3RpdmVCdXR0b24sICdvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJtZW51QWN0aXZlQnV0dG9uID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIF9kLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2JpbmRlZFN1Ym1lbnVPZmYpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJzT2ZmKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERpc2FibGUgY29udHJvbGxlciBpbiBlZGl0b3IgYXJlYSAobGluayBidXR0b24sIGltYWdlIHJlc2l6ZSBidXR0b24pXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29udHJvbGxlcnNPbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzW2ldLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyQXJyYXlbaV0gPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2JpbmRDb250cm9sbGVyc09mZiA9IHRoaXMuY29udHJvbGxlcnNPZmYuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgX2QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fYmluZENvbnRyb2xsZXJzT2ZmLCBmYWxzZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERpc2FibGUgY29udHJvbGxlciBpbiBlZGl0b3IgYXJlYSAobGluayBidXR0b24sIGltYWdlIHJlc2l6ZSBidXR0b24pXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29udHJvbGxlcnNPZmY6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgbGVuID0gdGhpcy5jb250cm9sbGVyQXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJBcnJheVtpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlckFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBfZC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9iaW5kQ29udHJvbGxlcnNPZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIGphdmFzY3JpcHQgZXhlY0NvbW1hbmRcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29tbWFuZCAtIGphdmFzY3JpcHQgZXhlY0NvbW1hbmQgZnVuY3Rpb24gcHJvcGVydHlcclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNob3dEZWZhdWx0VUkgLSBqYXZhc2NyaXB0IGV4ZWNDb21tYW5kIGZ1bmN0aW9uIHByb3BlcnR5XHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIC0gamF2YXNjcmlwdCBleGVjQ29tbWFuZCBmdW5jdGlvbiBwcm9wZXJ0eVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY29tbWFuZCwgc2hvd0RlZmF1bHRVSSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgX2QuZXhlY0NvbW1hbmQoY29tbWFuZCwgc2hvd0RlZmF1bHRVSSwgKGNvbW1hbmQgPT09ICdmb3JtYXRCbG9jaycgPyAnPCcgKyB2YWx1ZSArICc+JyA6IHZhbHVlKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEZvY3VzIHRvIHd5c2l3eWcgYXJlYVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZvY3VzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhcHRpb24gPSB1dGlsLmdldFBhcmVudEVsZW1lbnQodGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCksICdmaWdjYXB0aW9uJyk7XHJcbiAgICAgICAgICAgIGlmIChjYXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXB0aW9uLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudC5fZmluZEJ1dHRvbkVmZmVjdFRhZygpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXQgY3VycmVudCBlZGl0b3IncyByYW5nZSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHN0YXJ0Q29uIC0gVGhlIHN0YXJ0Q29udGFpbmVyIHByb3BlcnR5IG9mIHRoZSBzZWxlY3Rpb24gb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydE9mZiAtIFRoZSBzdGFydE9mZnNldCBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVuZENvbiAtIFRoZSBlbmRDb250YWluZXIgcHJvcGVydHkgb2YgdGhlIHNlbGVjdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBlbmRPZmYgLSBUaGUgZW5kT2Zmc2V0IHByb3BlcnR5IG9mIHRoZSBzZWxlY3Rpb24gb2JqZWN0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNldFJhbmdlOiBmdW5jdGlvbiAoc3RhcnRDb24sIHN0YXJ0T2ZmLCBlbmRDb24sIGVuZE9mZikge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IF9kLmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0Q29uLCBzdGFydE9mZik7XHJcbiAgICAgICAgICAgIHJhbmdlLnNldEVuZChlbmRDb24sIGVuZE9mZik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBfdy5nZXRTZWxlY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VkaXRvclJhbmdlKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEdldCBjdXJyZW50IGVkaXRvcidzIHJhbmdlIG9iamVjdFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0UmFuZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhcmlhYmxlLl9yYW5nZSB8fCB0aGlzLl9jcmVhdGVEZWZhdWx0UmFuZ2UoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2V0IGN1cnJlbnQgc2VsZWN0IG5vZGVcclxuICAgICAgICAgKiBAcmV0dXJucyB7Tm9kZX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRTZWxlY3Rpb25Ob2RlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YXJpYWJsZS5fc2VsZWN0aW9uTm9kZSB8fCBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5maXJzdENoaWxkO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTYXZpbmcgdGhlIHJhbmdlIG9iamVjdCBhbmQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBub2RlIG9mIGVkaXRvclxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2VkaXRvclJhbmdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IF93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoIXV0aWwuZ2V0UGFyZW50RWxlbWVudChzZWxlY3Rpb24uZm9jdXNOb2RlLCAnLnN1bi1lZGl0b3ItaWQtd3lzaXd5ZycpKSByZXR1cm47XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0aW9uTm9kZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLl9jcmVhdGVEZWZhdWx0UmFuZ2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuX3JhbmdlID0gcmFuZ2U7XHJcblxyXG4gICAgICAgICAgICBpZiAocmFuZ2UuY29sbGFwc2VkKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Ob2RlID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Ob2RlID0gc2VsZWN0aW9uLmV4dGVudE5vZGUgfHwgc2VsZWN0aW9uLmFuY2hvck5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlLl9zZWxlY3Rpb25Ob2RlID0gc2VsZWN0aW9uTm9kZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJuIHRoZSByYW5nZSBvYmplY3Qgb2YgZWRpdG9yJ3MgZmlyc3QgY2hpbGQgbm9kZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfY3JlYXRlRGVmYXVsdFJhbmdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gX2QuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuZmlyc3RDaGlsZCwgMCk7XHJcbiAgICAgICAgICAgIHJhbmdlLnNldEVuZChjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5maXJzdENoaWxkLCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGEgXCJmb3JtYXRFbGVtZW50XCIoUCwgRElWLCBIWzEtNl0sIExJKSBhcnJheSBmcm9tIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcmFuZ2UuXHJcbiAgICAgICAgICogQHJldHVybnMge0FycmF5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldFNlbGVjdGVkRm9ybWF0RWxlbWVudHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5nZXRSYW5nZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHV0aWwuaXNXeXNpd3lnRGl2KHJhbmdlLnN0YXJ0Q29udGFpbmVyKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2UoY2hpbGRyZW5bMF0sIDAsIGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdLCBjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXS50ZXh0Q29udGVudC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmdldFJhbmdlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0Q29uID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZENvbiA9IHJhbmdlLmVuZENvbnRhaW5lcjtcclxuICAgICAgICAgICAgY29uc3QgY29tbW9uQ29uID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlRm9ybWF0RWxlbWVudHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXRpbC5pc1d5c2l3eWdEaXYoY29tbW9uQ29uKSAmJiAhdXRpbC5pc1JhbmdlRm9ybWF0RWxlbWVudChjb21tb25Db24pKSByZXR1cm4gW3V0aWwuZ2V0Rm9ybWF0RWxlbWVudChjb21tb25Db24pXTtcclxuXHJcbiAgICAgICAgICAgIC8vIGdldCBsaW5lIG5vZGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVOb2RlcyA9IHV0aWwuZ2V0TGlzdENoaWxkcmVuKGNvbW1vbkNvbiwgZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1dGlsLmlzRm9ybWF0RWxlbWVudChjdXJyZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhcnRDb24gPT09IGVuZENvbikgcmV0dXJuIGxpbmVOb2Rlc1swXTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzdGFydExpbmUgPSB1dGlsLmdldEZvcm1hdEVsZW1lbnQoc3RhcnRDb24pO1xyXG4gICAgICAgICAgICBsZXQgZW5kTGluZSA9IHV0aWwuZ2V0Rm9ybWF0RWxlbWVudChlbmRDb24pO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRJZHggPSAwO1xyXG4gICAgICAgICAgICBsZXQgZW5kSWR4ID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsaW5lTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFydExpbmUgPT09IGxpbmVOb2Rlc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SWR4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lID09PSBsaW5lTm9kZXNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRJZHggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJZHg7IGkgPD0gZW5kSWR4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJhbmdlRm9ybWF0RWxlbWVudHMucHVzaChsaW5lTm9kZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VGb3JtYXRFbGVtZW50cztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIFwicmFuZ2VGb3JtYXRFbGVtZW50XCIoYmxvY2txdW90ZSwgVEFCTEUsIFRSLCBURCwgT0wsIFVMLCBQUkUpIGFycmF5IGZyb20gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCByYW5nZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0U2VsZWN0ZWRSYW5nZUZvcm1hdEVsZW1lbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHRoaXMuZ2V0UmFuZ2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh1dGlsLmlzV3lzaXd5Z0RpdihyYW5nZS5zdGFydENvbnRhaW5lcikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJhbmdlKGNoaWxkcmVuWzBdLCAwLCBjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXSwgY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0udGV4dENvbnRlbnQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRSYW5nZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzdGFydENvbiA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xyXG4gICAgICAgICAgICBjb25zdCBlbmRDb24gPSByYW5nZS5lbmRDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbW1vbkNvbiA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZUZvcm1hdEVsZW1lbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICBpZiAodXRpbC5pc1JhbmdlRm9ybWF0RWxlbWVudChjb21tb25Db24pKSByZXR1cm4gW2NvbW1vbkNvbl07XHJcbiAgICAgICAgICAgIGlmICghdXRpbC5pc1d5c2l3eWdEaXYoY29tbW9uQ29uKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSB1dGlsLmdldFJhbmdlRm9ybWF0RWxlbWVudChjb21tb25Db24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsID8gW2VsXSA6IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgcmFuZ2UgRWxlbWVudHNcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2VFbGVtZW50cyA9IHV0aWwuZ2V0TGlzdENoaWxkcmVuKGNvbW1vbkNvbiwgZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1dGlsLmlzUmFuZ2VGb3JtYXRFbGVtZW50KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdGFydENvbiA9PT0gZW5kQ29uKSByZXR1cm4gcmFuZ2VFbGVtZW50c1swXTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzdGFydExpbmUgPSB1dGlsLmdldFJhbmdlRm9ybWF0RWxlbWVudChzdGFydENvbik7XHJcbiAgICAgICAgICAgIGxldCBlbmRMaW5lID0gdXRpbC5nZXRSYW5nZUZvcm1hdEVsZW1lbnQoZW5kQ29uKTtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0SWR4ID0gMDtcclxuICAgICAgICAgICAgbGV0IGVuZElkeCA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcmFuZ2VFbGVtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0TGluZSA9PT0gcmFuZ2VFbGVtZW50c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SWR4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lID09PSByYW5nZUVsZW1lbnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kSWR4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SWR4OyBpIDw9IGVuZElkeDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VFbGVtZW50c1tpXSkgcmFuZ2VGb3JtYXRFbGVtZW50cy5wdXNoKHJhbmdlRWxlbWVudHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VGb3JtYXRFbGVtZW50cztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRGV0ZXJtaW5lIGlmIHRoaXMgb2Zmc2V0IGlzIHRoZSBlZGdlIG9mZnNldCBvZiBjb250YWluZXJcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBpc0VkZ2VQb2ludDogZnVuY3Rpb24gKGNvbnRhaW5lciwgb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAob2Zmc2V0ID09PSAwKSB8fCAob2Zmc2V0ID09PSBjb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3cgbG9hZGluZyBib3hcclxuICAgICAgICAgKi9cclxuICAgICAgICBzaG93TG9hZGluZzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQubG9hZGluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2xvc2UgbG9hZGluZyBib3hcclxuICAgICAgICAgKi9cclxuICAgICAgICBjbG9zZUxvYWRpbmc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmxvYWRpbmcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQXBwZW5kIGZvcm1hdCBlbGVtZW50IHRvIHNpYmxpbmcgbm9kZSBvZiBhcmd1bWVudCBlbGVtZW50LlxyXG4gICAgICAgICAqIElmIHRoZSBcImZvcm1hdE5vZGVOYW1lXCIgYXJndW1lbnQgdmFsdWUgaXMgcHJlc2VudCwgdGhlIHRhZyBvZiB0aGF0IGFyZ3VtZW50IHZhbHVlIGlzIGluc2VydGVkLFxyXG4gICAgICAgICAqIElmIG5vdCwgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBmb3JtYXQgdGFnIGlzIGluc2VydGVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEluc2VydCBhcyBzaWJsaW5ncyBvZiB0aGF0IGVsZW1lbnRcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBmb3JtYXROb2RlTmFtZSAtIE5vZGUgbmFtZSB0byBiZSBpbnNlcnRlZFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFbGVtZW50fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFwcGVuZEZvcm1hdFRhZzogZnVuY3Rpb24gKGVsZW1lbnQsIGZvcm1hdE5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdEVsID0gdXRpbC5nZXRSYW5nZUZvcm1hdEVsZW1lbnQoZWxlbWVudCkgfHwgdXRpbC5nZXRGb3JtYXRFbGVtZW50KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Rm9ybWF0RWwgPSB1dGlsLmdldEZvcm1hdEVsZW1lbnQodGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCkpO1xyXG4gICAgICAgICAgICBjb25zdCBvRm9ybWF0TmFtZSA9IGZvcm1hdE5vZGVOYW1lID8gZm9ybWF0Tm9kZU5hbWUgOiB1dGlsLmlzRm9ybWF0RWxlbWVudChjdXJyZW50Rm9ybWF0RWwpID8gY3VycmVudEZvcm1hdEVsLm5vZGVOYW1lIDogJ1AnO1xyXG4gICAgICAgICAgICBjb25zdCBvRm9ybWF0ID0gdXRpbC5jcmVhdGVFbGVtZW50KG9Gb3JtYXROYW1lKTtcclxuICAgICAgICAgICAgb0Zvcm1hdC5pbm5lckhUTUwgPSB1dGlsLnplcm9XaWR0aFNwYWNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHV0aWwuaXNDZWxsKGZvcm1hdEVsKSkgZm9ybWF0RWwuaW5zZXJ0QmVmb3JlKG9Gb3JtYXQsIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKTtcclxuICAgICAgICAgICAgZWxzZSBmb3JtYXRFbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvRm9ybWF0LCBmb3JtYXRFbC5uZXh0RWxlbWVudFNpYmxpbmcpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9Gb3JtYXQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlbGV0ZSBzZWxlY3RlZCBub2RlIGFuZCBpbnNlcnQgYXJndW1lbnQgdmFsdWUgbm9kZVxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gb05vZGUgLSBOb2RlIHRvIGJlIGluc2VydGVkXHJcbiAgICAgICAgICogQHBhcmFtIHsoRWxlbWVudHxudWxsKX0gcmlnaHROb2RlIC0gSWYgdGhlIG5vZGUgZXhpc3RzLCBpdCBpcyBpbnNlcnRlZCBhZnRlciB0aGUgbm9kZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluc2VydE5vZGU6IGZ1bmN0aW9uIChvTm9kZSwgcmlnaHROb2RlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5nZXRSYW5nZSgpO1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50Tm9kZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXJpZ2h0Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRDb24gPSByYW5nZS5zdGFydENvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2ZmID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRDb24gPSByYW5nZS5lbmRDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRPZmYgPSByYW5nZS5lbmRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tb25Db24gPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gc3RhcnRDb247XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRDb24ubm9kZVR5cGUgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gc3RhcnRDb24ucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKiogTm8gU2VsZWN0IHJhbmdlIG5vZGUgKi9cclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb2xsYXBzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbW9uQ29uLm5vZGVUeXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Tm9kZSA9IGNvbW1vbkNvbi5zcGxpdFRleHQoZW5kT2ZmKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnROb2RlLmxhc3RDaGlsZCAhPT0gbnVsbCAmJiB1dGlsLmlzQnJlYWsocGFyZW50Tm9kZS5sYXN0Q2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBhcmVudE5vZGUubGFzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodE5vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qKiBTZWxlY3QgcmFuZ2Ugbm9kZXMgKi9cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2FtZUNvbnRhaW5lciA9IHN0YXJ0Q29uID09PSBlbmRDb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1NhbWVDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFZGdlUG9pbnQoZW5kQ29uLCBlbmRPZmYpKSByaWdodE5vZGUgPSBlbmRDb24ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgcmlnaHROb2RlID0gZW5kQ29uLnNwbGl0VGV4dChlbmRPZmYpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZU5vZGUgPSBzdGFydENvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRWRnZVBvaW50KHN0YXJ0Q29uLCBzdGFydE9mZikpIHJlbW92ZU5vZGUgPSBzdGFydENvbi5zcGxpdFRleHQoc3RhcnRPZmYpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZW1vdmVOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gY29tbW9uQ29uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodE5vZGUgPSBlbmRDb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmlnaHROb2RlLnBhcmVudE5vZGUgIT09IGNvbW1vbkNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHROb2RlID0gcmlnaHROb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gcmlnaHROb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICByaWdodE5vZGUgPSByaWdodE5vZGUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShvTm9kZSwgcmlnaHROb2RlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChvTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRGVsZXRlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgbm9kZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJlbW92ZU5vZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmdldFJhbmdlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmFuZ2UuZGVsZXRlQ29udGVudHMpIHtcclxuICAgICAgICAgICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0Q29uID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2ZmID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZENvbiA9IHJhbmdlLmVuZENvbnRhaW5lcjtcclxuICAgICAgICAgICAgY29uc3QgZW5kT2ZmID0gcmFuZ2UuZW5kT2Zmc2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjb21tb25Db24gPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIGxldCBiZWZvcmVOb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IGFmdGVyTm9kZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gdXRpbC5nZXRMaXN0Q2hpbGROb2Rlcyhjb21tb25Db24pO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IHV0aWwuZ2V0QXJyYXlJbmRleChjaGlsZE5vZGVzLCBzdGFydENvbik7XHJcbiAgICAgICAgICAgIGxldCBlbmRJbmRleCA9IHV0aWwuZ2V0QXJyYXlJbmRleChjaGlsZE5vZGVzLCBlbmRDb24pO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggKyAxLCBzdGFydE5vZGUgPSBzdGFydENvbjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGVzW2ldID09PSBzdGFydE5vZGUucGFyZW50Tm9kZSAmJiBjaGlsZE5vZGVzW2ldLmZpcnN0Q2hpbGQgPT09IHN0YXJ0Tm9kZSAmJiBzdGFydE9mZiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Tm9kZSA9IHN0YXJ0Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZW5kSW5kZXggLSAxLCBlbmROb2RlID0gZW5kQ29uOyBpID4gc3RhcnRJbmRleDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2Rlc1tpXSA9PT0gZW5kTm9kZS5wYXJlbnROb2RlICYmIGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZE5vZGVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmROb2RlID0gZW5kTm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIC0tZW5kSW5kZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDw9IGVuZEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjaGlsZE5vZGVzW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCA9PT0gMCB8fCAoaXRlbS5ub2RlVHlwZSA9PT0gMyAmJiBpdGVtLmRhdGEgPT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLnJlbW92ZUl0ZW0oaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT09IHN0YXJ0Q29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0Q29uLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZU5vZGUgPSB1dGlsLmNyZWF0ZVRleHROb2RlKHN0YXJ0Q29uLnRleHRDb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVOb2RlID0gdXRpbC5jcmVhdGVUZXh0Tm9kZShzdGFydENvbi5zdWJzdHJpbmdEYXRhKDAsIHN0YXJ0T2ZmKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlTm9kZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29uLmRhdGEgPSBiZWZvcmVOb2RlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVJdGVtKHN0YXJ0Q29uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtID09PSBlbmRDb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kQ29uLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyTm9kZSA9IHV0aWwuY3JlYXRlVGV4dE5vZGUoZW5kQ29uLnRleHRDb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlck5vZGUgPSB1dGlsLmNyZWF0ZVRleHROb2RlKGVuZENvbi5zdWJzdHJpbmdEYXRhKGVuZE9mZiwgKGVuZENvbi5sZW5ndGggLSBlbmRPZmYpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWZ0ZXJOb2RlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kQ29uLmRhdGEgPSBhZnRlck5vZGUuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsLnJlbW92ZUl0ZW0oZW5kQ29uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHV0aWwucmVtb3ZlSXRlbShpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBhcHBlbmRlZCBhbGwgc2VsZWN0ZWQgZm9ybWF0IEVsZW1lbnQgdG8gdGhlIGFyZ3VtZW50IGVsZW1lbnQgYW5kIGluc2VydFxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gd3JhcFRhZyAtIEVsZW1lbnQgb2Ygd3JhcCB0aGUgYXJndW1lbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgd3JhcFRvVGFnczogZnVuY3Rpb24gKHdyYXBUYWcpIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmdldFJhbmdlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlTGluZXMgPSB0aGlzLmdldFNlbGVjdGVkRm9ybWF0RWxlbWVudHMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcmFuZ2VMaW5lcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB1dGlsLmNyZWF0ZUVsZW1lbnQodXRpbC5pc0NlbGwodGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCkpID8gJ0RJVicgOiAnUCcpO1xyXG4gICAgICAgICAgICAgICAgaW5uZXIuaW5uZXJIVE1MID0gdXRpbC56ZXJvV2lkdGhTcGFjZTtcclxuICAgICAgICAgICAgICAgIHdyYXBUYWcuYXBwZW5kQ2hpbGQoaW5uZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCkuYXBwZW5kQ2hpbGQod3JhcFRhZyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBsYXN0ICA9IHJhbmdlTGluZXNbcmFuZ2VMaW5lcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgbGV0IHN0YW5kVGFnLCBiZWZvcmVUYWcsIHBFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKHV0aWwuaXNSYW5nZUZvcm1hdEVsZW1lbnQobGFzdCkgfHwgdXRpbC5pc0Zvcm1hdEVsZW1lbnQobGFzdCkpIHtcclxuICAgICAgICAgICAgICAgIHN0YW5kVGFnID0gbGFzdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN0YW5kVGFnID0gdXRpbC5nZXRSYW5nZUZvcm1hdEVsZW1lbnQobGFzdCkgfHwgdXRpbC5nZXRGb3JtYXRFbGVtZW50KGxhc3QpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodXRpbC5pc0NlbGwoc3RhbmRUYWcpKSB7XHJcbiAgICAgICAgICAgICAgICBiZWZvcmVUYWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcEVsZW1lbnQgPSBzdGFuZFRhZztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJlZm9yZVRhZyA9IHN0YW5kVGFnLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgcEVsZW1lbnQgPSBzdGFuZFRhZy5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgbGlzdFBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBsaW5lID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IHByZXZOb2RlTmFtZSA9ICcnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHJhbmdlTGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxpbmUgPSByYW5nZUxpbmVzW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgvXkxJJC9pLnRlc3QobGluZS5ub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFBhcmVudCA9PT0gbnVsbCB8fCAhL15MSSQvaS50ZXN0KHByZXZOb2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFBhcmVudCA9IHV0aWwuY3JlYXRlRWxlbWVudChsaW5lLnBhcmVudE5vZGUubm9kZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdFBhcmVudC5hcHBlbmRDaGlsZChsaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbGVuIC0gMSB8fCAhL15MSSQvaS50ZXN0KHJhbmdlTGluZXNbaSArIDFdLm5vZGVOYW1lKSkgd3JhcFRhZy5hcHBlbmRDaGlsZChsaXN0UGFyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdyYXBUYWcuYXBwZW5kQ2hpbGQobGluZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcHJldk5vZGVOYW1lID0gbGluZS5ub2RlTmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHdyYXBUYWcsIGJlZm9yZVRhZyk7XHJcbiAgICAgICAgICAgIGlmICghcmFuZ2UuY29sbGFwc2VkICYmICh1dGlsLmlzUmFuZ2VGb3JtYXRFbGVtZW50KHJhbmdlLnN0YXJ0Q29udGFpbmVyKSB8fCB1dGlsLmlzUmFuZ2VGb3JtYXRFbGVtZW50KHJhbmdlLmVuZENvbnRhaW5lcikpKSB1dGlsLnJlbW92ZUVtcHR5Tm9kZShwRWxlbWVudCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZCB0aGUgbm9kZSByZWNlaXZlZCBhcyBhbiBhcmd1bWVudCB2YWx1ZSB0byB0aGUgc2VsZWN0ZWQgYXJlYS5cclxuICAgICAgICAgKiAxLiBXaGVuIHRoZXJlIGlzIHRoZSBzYW1lIGNzcyB2YWx1ZSBub2RlIGluIHRoZSBzZWxlY3Rpb24gYXJlYSwgdGhlIHRhZyBpcyBzdHJpcHBlZC5cclxuICAgICAgICAgKiAyLiBJZiB0aGVyZSBpcyBhbm90aGVyIGNzcyB2YWx1ZSBvdGhlciB0aGFuQ3NzIGF0dHJpYnV0ZSB2YWx1ZXMgcmVjZWl2ZWQgYXMgYXJndW1lbnRzIG9uIHRoZSBub2RlLCByZW1vdmVkIG9ubHkgQ3NzIGF0dHJpYnV0ZSB2YWx1ZXMgcmVjZWl2ZWQgYXMgYXJndW1lbnRzXHJcbiAgICAgICAgICogMy4gSWYgeW91IHBhc3MgYW4gZWxlbWVudCB3aG9zZSBub2RlIG5hbWUgaXMgXCJyZW1vdmVub2RlXCIgYXMgYW4gYXJndW1lbnQgdmFsdWUsIGl0IHBlcmZvcm1zIGEgdHlwZSByZW1vdmFsIG9wZXJhdGlvbi4gZXgpIG5vZGVDaGFuZ2UoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncmVtb3Zlbm9kZScpKVxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gYXBwZW5kTm9kZSAtIFRoZSBkb20gdGhhdCB3aWxsIHdyYXAgdGhlIHNlbGVjdGVkIHRleHQgYXJlYVxyXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGNoZWNrQ1NTUHJvcGVydHlBcnJheSAtIFRoZSBjc3MgYXR0cmlidXRlIG5hbWUgQXJyYXkgdG8gY2hlY2sgKFsnZm9udC1zaXplJ10sIFsnZm9udC1mYW1pbHknLCAnYmFja2dyb3VuZC1jb2xvcicsICdib3JkZXInXS4uLl0pXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbm9kZUNoYW5nZTogZnVuY3Rpb24gKGFwcGVuZE5vZGUsIGNoZWNrQ1NTUHJvcGVydHlBcnJheSkge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuZ2V0UmFuZ2UoKTtcclxuICAgICAgICAgICAgY29uc3QgaXNSZW1vdmVGb3JtYXQgPSAvcmVtb3Zlbm9kZS9pLnRlc3QoYXBwZW5kTm9kZS5ub2RlTmFtZSk7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wQ29uLCB0ZW1wT2Zmc2V0LCB0ZW1wQ2hpbGQsIHRlbXBBcnJheTtcclxuXHJcbiAgICAgICAgICAgIC8qIGNoZWNrZWQgc2FtZSBzdHlsZSBwcm9wZXJ0eSAqL1xyXG4gICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnRDb250YWluZXIgPT09IHJhbmdlLmVuZENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNOb2RlID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZW1vdmVGb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbC5nZXRGb3JtYXRFbGVtZW50KHNOb2RlKSA9PT0gc05vZGUucGFyZW50Tm9kZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tDbnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrQ1NTUHJvcGVydHlBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSghdXRpbC5pc0Zvcm1hdEVsZW1lbnQoc05vZGUpICYmICF1dGlsLmlzV3lzaXd5Z0RpdihzTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzTm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBzTm9kZS5zdHlsZVtjaGVja0NTU1Byb3BlcnR5QXJyYXlbaV1dID09PSBhcHBlbmROb2RlLnN0eWxlW2NoZWNrQ1NTUHJvcGVydHlBcnJheVtpXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0NudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc05vZGUgPSBzTm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrQ250ID49IGNoZWNrQ1NTUHJvcGVydHlBcnJheS5sZW5ndGgpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyogZmluZCB0ZXh0IG5vZGUgKi9cclxuICAgICAgICAgICAgLy8gc3RhcnRDb250YWluZXJcclxuICAgICAgICAgICAgdGVtcENvbiA9IHV0aWwuaXNXeXNpd3lnRGl2KHJhbmdlLnN0YXJ0Q29udGFpbmVyKSA/IGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmZpcnN0Q2hpbGQgOiByYW5nZS5zdGFydENvbnRhaW5lcjtcclxuICAgICAgICAgICAgdGVtcE9mZnNldCA9IHJhbmdlLnN0YXJ0T2Zmc2V0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRlbXBDb24ubm9kZVR5cGUgPT09IDEgJiYgdGVtcENvbi5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlICh0ZW1wQ29uICYmICF1dGlsLmlzQnJlYWsodGVtcENvbikgJiYgdGVtcENvbi5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBDaGlsZCA9IHRlbXBDb24uY2hpbGROb2RlcztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGVtcENoaWxkLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBBcnJheS5wdXNoKHRlbXBDaGlsZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBDb24gPSB0ZW1wQXJyYXlbdGVtcE9mZnNldF0gfHwgdGVtcENvbi5uZXh0RWxlbWVudFNpYmxpbmcgfHwgdGVtcENvbi5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wT2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodXRpbC5pc0JyZWFrKHRlbXBDb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wdHlUZXh0ID0gdXRpbC5jcmVhdGVUZXh0Tm9kZSh1dGlsLnplcm9XaWR0aFNwYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wQ29uLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVtcHR5VGV4dCwgdGVtcENvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcENvbiA9IGVtcHR5VGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3RhcnRDb24gPSB0ZW1wQ29uO1xyXG4gICAgICAgICAgICBjb25zdCBzdGFydE9mZiA9IHRlbXBPZmZzZXQ7XHJcblxyXG4gICAgICAgICAgICAvLyBlbmRDb250YWluZXJcclxuICAgICAgICAgICAgdGVtcENvbiA9IHV0aWwuaXNXeXNpd3lnRGl2KHJhbmdlLmVuZENvbnRhaW5lcikgPyBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5sYXN0Q2hpbGQgOiByYW5nZS5lbmRDb250YWluZXI7XHJcbiAgICAgICAgICAgIHRlbXBPZmZzZXQgPSByYW5nZS5lbmRPZmZzZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodGVtcENvbi5ub2RlVHlwZSA9PT0gMSAmJiB0ZW1wQ29uLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRlbXBDb24gJiYgIXV0aWwuaXNCcmVhayh0ZW1wQ29uKSAmJiB0ZW1wQ29uLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcENoaWxkID0gdGVtcENvbi5jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0ZW1wQ2hpbGQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEFycmF5LnB1c2godGVtcENoaWxkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcENvbiA9IHRlbXBBcnJheVt0ZW1wT2Zmc2V0IC0gMV0gfHwgIS9GSUdVUkUvaS50ZXN0KHRlbXBBcnJheVswXS5ub2RlTmFtZSkgPyB0ZW1wQXJyYXlbMF0gOiAodGVtcENvbi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIHx8IHRlbXBDb24ucHJldmlvdXNTaWJsaW5nIHx8IHN0YXJ0Q29uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRlbXBPZmZzZXQgPSB0ZW1wQ29uLnRleHRDb250ZW50Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodXRpbC5pc0JyZWFrKHRlbXBDb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wdHlUZXh0ID0gdXRpbC5jcmVhdGVUZXh0Tm9kZSh1dGlsLnplcm9XaWR0aFNwYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wQ29uLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVtcHR5VGV4dCwgdGVtcENvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcENvbiA9IGVtcHR5VGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wT2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgZW5kQ29uID0gdGVtcENvbjtcclxuICAgICAgICAgICAgY29uc3QgZW5kT2ZmID0gdGVtcE9mZnNldDtcclxuICAgICAgICAgICAgY29uc3QgY29tbW9uQ29uID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld05vZGVOYW1lID0gYXBwZW5kTm9kZS5ub2RlTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5zZXRSYW5nZShzdGFydENvbiwgc3RhcnRPZmYsIGVuZENvbiwgZW5kT2ZmKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHt9LCBlbmQgPSB7fTtcclxuICAgICAgICAgICAgbGV0IG5ld05vZGUsIHJlZ0V4cDtcclxuXHJcbiAgICAgICAgICAgIGlmIChjaGVja0NTU1Byb3BlcnR5QXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHJlZ0V4cCA9ICcoPzo7fF58XFxcXHMpKD86JyArIGNoZWNrQ1NTUHJvcGVydHlBcnJheVswXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY2hlY2tDU1NQcm9wZXJ0eUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnRXhwICs9ICd8JyArIGNoZWNrQ1NTUHJvcGVydHlBcnJheVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlZ0V4cCArPSAnKVxcXFxzKjpbXjtdKlxcXFxzKig/Ojt8JCknO1xyXG4gICAgICAgICAgICAgICAgcmVnRXhwID0gbmV3IFJlZ0V4cChyZWdFeHAsICdpZycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiogdGFnIGNoZWNrIGZ1bmN0aW9uKi9cclxuICAgICAgICAgICAgY29uc3QgY2hlY2tDc3MgPSBmdW5jdGlvbiAodk5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1JlbW92ZUZvcm1hdCB8fCB2Tm9kZS5ub2RlVHlwZSA9PT0gMyB8fCB1dGlsLmlzQnJlYWsodk5vZGUpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc3R5bGUgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChyZWdFeHAgJiYgdk5vZGUuc3R5bGUuY3NzVGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB2Tm9kZS5zdHlsZS5jc3NUZXh0LnJlcGxhY2UocmVnRXhwLCAnJykudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5sZW5ndGggPiAwIHx8IHZOb2RlLm5vZGVOYW1lICE9PSBuZXdOb2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Tm9kZS5zdHlsZS5jc3NUZXh0Lmxlbmd0aCA+IDApIHZOb2RlLnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvKiogb25lIGxpbmUgKi9cclxuICAgICAgICAgICAgaWYgKCF1dGlsLmlzV3lzaXd5Z0Rpdihjb21tb25Db24pICYmICF1dGlsLmlzUmFuZ2VGb3JtYXRFbGVtZW50KGNvbW1vbkNvbikpIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGUgPSBhcHBlbmROb2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSYW5nZSA9IHRoaXMuX25vZGVDaGFuZ2Vfb25lTGluZSh1dGlsLmdldEZvcm1hdEVsZW1lbnQoY29tbW9uQ29uKSwgbmV3Tm9kZSwgY2hlY2tDc3MsIHN0YXJ0Q29uLCBzdGFydE9mZiwgZW5kQ29uLCBlbmRPZmYsIGlzUmVtb3ZlRm9ybWF0LCByYW5nZS5jb2xsYXBzZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0YXJ0LmNvbnRhaW5lciA9IG5ld1JhbmdlLnN0YXJ0Q29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgc3RhcnQub2Zmc2V0ID0gbmV3UmFuZ2Uuc3RhcnRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBlbmQuY29udGFpbmVyID0gbmV3UmFuZ2UuZW5kQ29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgZW5kLm9mZnNldCA9IG5ld1JhbmdlLmVuZE9mZnNldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiogbXVsdGkgbGluZSAqL1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGdldCBsaW5lIG5vZGVzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lTm9kZXMgPSB0aGlzLmdldFNlbGVjdGVkRm9ybWF0RWxlbWVudHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZExlbmd0aCA9IGxpbmVOb2Rlcy5sZW5ndGggLSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0Q29uXHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlID0gYXBwZW5kTm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLl9ub2RlQ2hhbmdlX3N0YXJ0TGluZShsaW5lTm9kZXNbMF0sIG5ld05vZGUsIGNoZWNrQ3NzLCBzdGFydENvbiwgc3RhcnRPZmYsIGlzUmVtb3ZlRm9ybWF0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtaWRcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZW5kTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gYXBwZW5kTm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25vZGVDaGFuZ2VfbWlkZGxlTGluZShsaW5lTm9kZXNbaV0sIG5ld05vZGUsIGNoZWNrQ3NzLCBpc1JlbW92ZUZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZW5kQ29uXHJcbiAgICAgICAgICAgICAgICBpZiAoZW5kTGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBhcHBlbmROb2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gdGhpcy5fbm9kZUNoYW5nZV9lbmRMaW5lKGxpbmVOb2Rlc1tlbmRMZW5ndGhdLCBuZXdOb2RlLCBjaGVja0NzcywgZW5kQ29uLCBlbmRPZmYsIGlzUmVtb3ZlRm9ybWF0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNldCByYW5nZVxyXG4gICAgICAgICAgICB0aGlzLnNldFJhbmdlKHN0YXJ0LmNvbnRhaW5lciwgc3RhcnQub2Zmc2V0LCBlbmQuY29udGFpbmVyLCBlbmQub2Zmc2V0KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gd3JhcHMgdGV4dCBub2RlcyBvZiBsaW5lIHNlbGVjdGVkIHRleHQuXHJcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIG5vZGUgb2YgdGhlIGxpbmUgdGhhdCBjb250YWlucyB0aGUgc2VsZWN0ZWQgdGV4dCBub2RlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbmV3SW5uZXJOb2RlIC0gVGhlIGRvbSB0aGF0IHdpbGwgd3JhcCB0aGUgc2VsZWN0ZWQgdGV4dCBhcmVhXHJcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gdmFsaWRhdGlvbiAtIENoZWNrIGlmIHRoZSBub2RlIHNob3VsZCBiZSBzdHJpcHBlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHN0YXJ0Q29uIC0gVGhlIHN0YXJ0Q29udGFpbmVyIHByb3BlcnR5IG9mIHRoZSBzZWxlY3Rpb24gb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydE9mZiAtIFRoZSBzdGFydE9mZnNldCBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVuZENvbiAtIFRoZSBlbmRDb250YWluZXIgcHJvcGVydHkgb2YgdGhlIHNlbGVjdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZE9mZiAtIFRoZSBlbmRPZmZzZXQgcHJvcGVydHkgb2YgdGhlIHNlbGVjdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBpc1JlbW92ZUZvcm1hdCAtIElzIHRoZSByZW1vdmUgZm9ybWF0IGNvbW1hbmQgP1xyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY29sbGFwc2VkIC0gcmFuZ2UuY29sbGFwc2VkXHJcbiAgICAgICAgICogQHJldHVybnMge3tzdGFydENvbnRhaW5lcjogKiwgc3RhcnRPZmZzZXQ6ICosIGVuZENvbnRhaW5lcjogKiwgZW5kT2Zmc2V0OiAqfX1cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9ub2RlQ2hhbmdlX29uZUxpbmU6IGZ1bmN0aW9uIChlbGVtZW50LCBuZXdJbm5lck5vZGUsIHZhbGlkYXRpb24sIHN0YXJ0Q29uLCBzdGFydE9mZiwgZW5kQ29uLCBlbmRPZmYsIGlzUmVtb3ZlRm9ybWF0LCBjb2xsYXBzZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBwTm9kZSA9IGVsZW1lbnQuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgY29uc3QgaXNTYW1lTm9kZSA9IHN0YXJ0Q29uID09PSBlbmRDb247XHJcbiAgICAgICAgICAgIGxldCBzdGFydENvbnRhaW5lciA9IHN0YXJ0Q29uO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRPZmZzZXQgPSBzdGFydE9mZjtcclxuICAgICAgICAgICAgbGV0IGVuZENvbnRhaW5lciA9IGVuZENvbjtcclxuICAgICAgICAgICAgbGV0IGVuZE9mZnNldCA9IGVuZE9mZjtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0UGFzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgZW5kUGFzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgcEN1cnJlbnQsIG5ld05vZGUsIGFwcGVuZE5vZGUsIGNzc1RleHQ7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja0NzcyAodk5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoJyg/Ojt8XnxcXFxccykoPzonICsgY3NzVGV4dCArICdudWxsKVxcXFxzKjpbXjtdKlxcXFxzKig/Ojt8JCknLCAnaWcnKTtcclxuICAgICAgICAgICAgICAgIGxldCBzdHlsZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZWdFeHAgJiYgdk5vZGUuc3R5bGUuY3NzVGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSByZWdFeHAudGVzdCh2Tm9kZS5zdHlsZS5jc3NUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIXN0eWxlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAoZnVuY3Rpb24gcmVjdXJzaW9uRnVuYyhjdXJyZW50LCBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gY3VycmVudC5jaGlsZE5vZGVzO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGROb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY292ZXJOb2RlID0gbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2xvbmVOb2RlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydENvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnRQYXNzICYmIGNoaWxkID09PSBzdGFydENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2Tm9kZSA9IHV0aWwuY3JlYXRlVGV4dE5vZGUoc3RhcnRDb250YWluZXIubm9kZVR5cGUgPT09IDEgPyAnJyA6IHN0YXJ0Q29udGFpbmVyLnN1YnN0cmluZ0RhdGEoMCwgc3RhcnRPZmZzZXQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSB1dGlsLmNyZWF0ZVRleHROb2RlKHN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlID09PSAxID8gJycgOiBzdGFydENvbnRhaW5lci5zdWJzdHJpbmdEYXRhKHN0YXJ0T2Zmc2V0LCAoZW5kT2Zmc2V0ID4gc3RhcnRPZmZzZXQgPyBlbmRPZmZzZXQgLSBzdGFydE9mZnNldCA6IGVuZE9mZnNldCA9PT0gc3RhcnRPZmZzZXQgPyAwIDogc3RhcnRDb250YWluZXIuZGF0YS5sZW5ndGggLSBzdGFydE9mZnNldCkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2Tm9kZS5kYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQocHJldk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5ld05vZGUgIT09IHBOb2RlICYmIG5ld05vZGUgIT09IGVsICYmIG5ld05vZGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uKG5ld05vZGUpICYmIG5ld05vZGUubm9kZVR5cGUgPT09IDEgJiYgY2hlY2tDc3MobmV3Tm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudC5wdXNoKG5ld05vZGUuY2xvbmVOb2RlKGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCArPSBuZXdOb2RlLnN0eWxlLmNzc1RleHQuc3Vic3RyKDAsIG5ld05vZGUuc3R5bGUuY3NzVGV4dC5pbmRleE9mKCc6JykpICsgJ3wnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5ld05vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gcEN1cnJlbnQucG9wKCkgfHwgdGV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUgPSBuZXdOb2RlID0gY2hpbGROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZS5hcHBlbmRDaGlsZChuZXdOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbm5lck5vZGUuYXBwZW5kQ2hpbGQoY2hpbGROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcE5vZGUuYXBwZW5kQ2hpbGQobmV3SW5uZXJOb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29udGFpbmVyID0gdGV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQYXNzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdOb2RlICE9PSB0ZXh0Tm9kZSkgbmV3Tm9kZS5hcHBlbmRDaGlsZChzdGFydENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNTYW1lTm9kZSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBlbmRDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVuZFBhc3MgJiYgY2hpbGQgPT09IGVuZENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZnRlck5vZGUgPSB1dGlsLmNyZWF0ZVRleHROb2RlKGVuZENvbnRhaW5lci5ub2RlVHlwZSA9PT0gMSA/ICcnIDogZW5kQ29udGFpbmVyLnN1YnN0cmluZ0RhdGEoZW5kT2Zmc2V0LCAoZW5kQ29udGFpbmVyLmxlbmd0aCAtIGVuZE9mZnNldCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSB1dGlsLmNyZWF0ZVRleHROb2RlKGlzU2FtZU5vZGUgfHwgZW5kQ29udGFpbmVyLm5vZGVUeXBlID09PSAxID8gJycgOiBlbmRDb250YWluZXIuc3Vic3RyaW5nRGF0YSgwLCBlbmRPZmZzZXQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlck5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5ld05vZGUgIT09IHBOb2RlICYmIG5ld05vZGUgIT09IGVsICYmIG5ld05vZGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Tm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBjaGVja0NzcyhuZXdOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudC5wdXNoKG5ld05vZGUuY2xvbmVOb2RlKGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc1RleHQgKz0gbmV3Tm9kZS5zdHlsZS5jc3NUZXh0LnN1YnN0cigwLCBuZXdOb2RlLnN0eWxlLmNzc1RleHQuaW5kZXhPZignOicpKSArICd8JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5ld05vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZU5vZGUgPSBhcHBlbmROb2RlID0gbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpIHx8IGFmdGVyTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwQ3VycmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcE5vZGUuYXBwZW5kQ2hpbGQoY2xvbmVOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUudGV4dENvbnRlbnQgPSBhZnRlck5vZGUuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdOb2RlICE9PSBwTm9kZSAmJiBuZXdOb2RlICE9PSBlbCAmJiBuZXdOb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbihuZXdOb2RlKSAmJiBuZXdOb2RlLm5vZGVUeXBlID09PSAxICYmIGNoZWNrQ3NzKG5ld05vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcEN1cnJlbnQucHVzaChuZXdOb2RlLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc1RleHQgKz0gbmV3Tm9kZS5zdHlsZS5jc3NUZXh0LnN1YnN0cigwLCBuZXdOb2RlLnN0eWxlLmNzc1RleHQuaW5kZXhPZignOicpKSArICd8JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBuZXdOb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IHBDdXJyZW50LnBvcCgpIHx8IHRleHROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlID0gbmV3Tm9kZSA9IGNoaWxkTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBDdXJyZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBwQ3VycmVudC5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5uZXJOb2RlLmFwcGVuZENoaWxkKGNoaWxkTm9kZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRDb250YWluZXIgPSB0ZXh0Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kT2Zmc2V0ID0gdGV4dE5vZGUuZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFBhc3MgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1JlbW92ZUZvcm1hdCAmJiBjb2xsYXBzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0lubmVyTm9kZSA9IHRleHROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dE5vZGUudGV4dENvbnRlbnQgPSB1dGlsLnplcm9XaWR0aFNwYWNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Tm9kZSAhPT0gdGV4dE5vZGUpIG5ld05vZGUuYXBwZW5kQ2hpbGQoZW5kQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlclxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFBhc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxICYmICF1dGlsLmlzQnJlYWsoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNpb25GdW5jKGNoaWxkLCBjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdOb2RlLnBhcmVudE5vZGUgIT09IG51bGwgJiYgbmV3Tm9kZSAhPT0gZWwgJiYgbmV3Tm9kZSAhPT0gbmV3SW5uZXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Tm9kZS5ub2RlVHlwZSA9PT0gMSAmJiAhdXRpbC5pc0JyZWFrKGNoaWxkKSAmJiAoZW5kUGFzcyB8fCB2YWxpZGF0aW9uKG5ld05vZGUpKSAmJiBjaGVja0NzcyhuZXdOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50LnB1c2gobmV3Tm9kZS5jbG9uZU5vZGUoZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ICs9IG5ld05vZGUuc3R5bGUuY3NzVGV4dC5zdWJzdHIoMCwgbmV3Tm9kZS5zdHlsZS5jc3NUZXh0LmluZGV4T2YoJzonKSkgKyAnfCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gbmV3Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBwQ3VycmVudC5wb3AoKSB8fCBjaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZSA9IG5ld05vZGUgPSBjaGlsZE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwQ3VycmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gcEN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlLmFwcGVuZENoaWxkKG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGUgPT09IGNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVuZFBhc3MpIG5vZGUgPSBuZXdJbm5lck5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIG5vZGUgPSBwTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRQYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwTm9kZS5hcHBlbmRDaGlsZChjaGlsZE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbm5lck5vZGUuYXBwZW5kQ2hpbGQoY2hpbGROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjbG9uZU5vZGUgPSBjaGlsZC5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY2xvbmVOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEgJiYgIXV0aWwuaXNCcmVhayhjaGlsZCkpIGNvdmVyTm9kZSA9IGNsb25lTm9kZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVjdXJzaW9uRnVuYyhjaGlsZCwgY292ZXJOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoZWxlbWVudCwgcE5vZGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZlRm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydENvbnRhaW5lciA9IHV0aWwuY3JlYXRlVGV4dE5vZGUoY29sbGFwc2VkID8gdXRpbC56ZXJvV2lkdGhTcGFjZSA6IG5ld0lubmVyTm9kZS50ZXh0Q29udGVudCk7XHJcbiAgICAgICAgICAgICAgICBwTm9kZS5pbnNlcnRCZWZvcmUoc3RhcnRDb250YWluZXIsIG5ld0lubmVyTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBwTm9kZS5yZW1vdmVDaGlsZChuZXdJbm5lck5vZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxhcHNlZCkgc3RhcnRPZmZzZXQgPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbGxhcHNlZCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRDb250YWluZXIgPSBlbmRDb250YWluZXIgPSBuZXdJbm5lck5vZGU7XHJcbiAgICAgICAgICAgICAgICBzdGFydE9mZnNldCA9IDE7XHJcbiAgICAgICAgICAgICAgICBlbmRPZmZzZXQgPSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1dGlsLnJlbW92ZUVtcHR5Tm9kZShwTm9kZSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocE5vZGUsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB1dGlsLnJlbW92ZUl0ZW0oZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRDb250YWluZXI6IHN0YXJ0Q29udGFpbmVyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRPZmZzZXQ6IHN0YXJ0T2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgZW5kQ29udGFpbmVyOiBpc1JlbW92ZUZvcm1hdCB8fCAhZW5kQ29udGFpbmVyLnRleHRDb250ZW50ID8gc3RhcnRDb250YWluZXIgOiBlbmRDb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICBlbmRPZmZzZXQ6IGlzUmVtb3ZlRm9ybWF0IHx8ICFlbmRDb250YWluZXIudGV4dENvbnRlbnQgPyBzdGFydENvbnRhaW5lci50ZXh0Q29udGVudC5sZW5ndGggOiBlbmRPZmZzZXRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gd3JhcHMgbWlkIGxpbmVzIHNlbGVjdGVkIHRleHQuXHJcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIG5vZGUgb2YgdGhlIGxpbmUgdGhhdCBjb250YWlucyB0aGUgc2VsZWN0ZWQgdGV4dCBub2RlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbmV3SW5uZXJOb2RlIC0gVGhlIGRvbSB0aGF0IHdpbGwgd3JhcCB0aGUgc2VsZWN0ZWQgdGV4dCBhcmVhXHJcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gdmFsaWRhdGlvbiAtIENoZWNrIGlmIHRoZSBub2RlIHNob3VsZCBiZSBzdHJpcHBlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzUmVtb3ZlRm9ybWF0IC0gSXMgdGhlIHJlbW92ZSBmb3JtYXQgY29tbWFuZCA/XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfbm9kZUNoYW5nZV9taWRkbGVMaW5lOiBmdW5jdGlvbiAoZWxlbWVudCwgbmV3SW5uZXJOb2RlLCB2YWxpZGF0aW9uLCBpc1JlbW92ZUZvcm1hdCkge1xyXG4gICAgICAgICAgICBpZiAoaXNSZW1vdmVGb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgIG5ld0lubmVyTm9kZSA9IHV0aWwuY3JlYXRlVGV4dE5vZGUoZWxlbWVudC50ZXh0Q29udGVudCA/IGVsZW1lbnQudGV4dENvbnRlbnQgOiB1dGlsLnplcm9XaWR0aFNwYWNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIChmdW5jdGlvbiByZWN1cnNpb25GdW5jKGN1cnJlbnQsIG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gY3VycmVudC5jaGlsZE5vZGVzO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGROb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdmVyTm9kZSA9IG5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNsb25lTm9kZSA9IGNoaWxkLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGNsb25lTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEgJiYgIXV0aWwuaXNCcmVhayhjaGlsZCkpIGNvdmVyTm9kZSA9IGNsb25lTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNpb25GdW5jKGNoaWxkLCBjb3Zlck5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKGVsZW1lbnQsIG5ld0lubmVyTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobmV3SW5uZXJOb2RlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gd3JhcHMgZmlyc3QgbGluZSBzZWxlY3RlZCB0ZXh0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBub2RlIG9mIHRoZSBsaW5lIHRoYXQgY29udGFpbnMgdGhlIHNlbGVjdGVkIHRleHQgbm9kZS5cclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5ld0lubmVyTm9kZSAtIFRoZSBkb20gdGhhdCB3aWxsIHdyYXAgdGhlIHNlbGVjdGVkIHRleHQgYXJlYVxyXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHZhbGlkYXRpb24gLSBDaGVjayBpZiB0aGUgbm9kZSBzaG91bGQgYmUgc3RyaXBwZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBzdGFydENvbiAtIFRoZSBzdGFydENvbnRhaW5lciBwcm9wZXJ0eSBvZiB0aGUgc2VsZWN0aW9uIG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRPZmYgLSBUaGUgc3RhcnRPZmZzZXQgcHJvcGVydHkgb2YgdGhlIHNlbGVjdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBpc1JlbW92ZUZvcm1hdCAtIElzIHRoZSByZW1vdmUgZm9ybWF0IGNvbW1hbmQgP1xyXG4gICAgICAgICAqIEByZXR1cm5zIHt7Y29udGFpbmVyOiAqLCBvZmZzZXQ6ICp9fVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX25vZGVDaGFuZ2Vfc3RhcnRMaW5lOiBmdW5jdGlvbiAoZWxlbWVudCwgbmV3SW5uZXJOb2RlLCB2YWxpZGF0aW9uLCBzdGFydENvbiwgc3RhcnRPZmYsIGlzUmVtb3ZlRm9ybWF0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgcE5vZGUgPSBlbGVtZW50LmNsb25lTm9kZShmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gc3RhcnRDb247XHJcbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSBzdGFydE9mZjtcclxuICAgICAgICAgICAgbGV0IHBhc3NOb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBwQ3VycmVudCwgbmV3Tm9kZSwgYXBwZW5kTm9kZTtcclxuXHJcbiAgICAgICAgICAgIChmdW5jdGlvbiByZWN1cnNpb25GdW5jKGN1cnJlbnQsIG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBjdXJyZW50LmNoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGROb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY292ZXJOb2RlID0gbm9kZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3NOb2RlICYmICF1dGlsLmlzQnJlYWsoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjdXJzaW9uRnVuYyhjaGlsZCwgY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBjaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcEN1cnJlbnQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5ld05vZGUucGFyZW50Tm9kZSAhPT0gbnVsbCAmJiBuZXdOb2RlICE9PSBlbCAmJiBuZXdOb2RlICE9PSBuZXdJbm5lck5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdOb2RlLm5vZGVUeXBlID09PSAxICYmIHZhbGlkYXRpb24obmV3Tm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudC5wdXNoKG5ld05vZGUuY2xvbmVOb2RlKGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gbmV3Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gcEN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlID0gbmV3Tm9kZSA9IGNoaWxkTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwQ3VycmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbm5lck5vZGUuYXBwZW5kQ2hpbGQoY2hpbGROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld0lubmVyTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnRDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhc3NOb2RlICYmIGNoaWxkID09PSBjb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldk5vZGUgPSB1dGlsLmNyZWF0ZVRleHROb2RlKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMSA/ICcnIDogY29udGFpbmVyLnN1YnN0cmluZ0RhdGEoMCwgb2Zmc2V0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHROb2RlID0gdXRpbC5jcmVhdGVUZXh0Tm9kZShjb250YWluZXIubm9kZVR5cGUgPT09IDEgPyAnJyA6IGNvbnRhaW5lci5zdWJzdHJpbmdEYXRhKG9mZnNldCwgKGNvbnRhaW5lci5sZW5ndGggLSBvZmZzZXQpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldk5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHByZXZOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdOb2RlICE9PSBwTm9kZSAmJiBuZXdOb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Tm9kZS5ub2RlVHlwZSA9PT0gMSAmJiB2YWxpZGF0aW9uKG5ld05vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcEN1cnJlbnQucHVzaChuZXdOb2RlLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5ld05vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gcEN1cnJlbnQucG9wKCkgfHwgbm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZSA9IG5ld05vZGUgPSBjaGlsZE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwQ3VycmVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gcEN1cnJlbnQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlLmFwcGVuZENoaWxkKG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGUgIT09IG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0lubmVyTm9kZS5hcHBlbmRDaGlsZChjaGlsZE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV3SW5uZXJOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXRpbC5pc0JyZWFrKGNoaWxkKSkgbmV3SW5uZXJOb2RlLmFwcGVuZENoaWxkKGNoaWxkLmNsb25lTm9kZShmYWxzZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcE5vZGUuYXBwZW5kQ2hpbGQobmV3SW5uZXJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gdGV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NOb2RlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhc3NOb2RlIHx8IHZhbGlkYXRpb24oY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lTm9kZSA9IGNoaWxkLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY2xvbmVOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxICYmICF1dGlsLmlzQnJlYWsoY2hpbGQpKSBjb3Zlck5vZGUgPSBjbG9uZU5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpb25GdW5jKGNoaWxkLCBjb3Zlck5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KShlbGVtZW50LCBwTm9kZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNSZW1vdmVGb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHV0aWwuY3JlYXRlVGV4dE5vZGUobmV3SW5uZXJOb2RlLnRleHRDb250ZW50KTtcclxuICAgICAgICAgICAgICAgIHBOb2RlLmluc2VydEJlZm9yZShjb250YWluZXIsIG5ld0lubmVyTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBwTm9kZS5yZW1vdmVDaGlsZChuZXdJbm5lck5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzUmVtb3ZlRm9ybWF0ICYmIHBOb2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2hpbGROb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IGVsZW1lbnQuY2hpbGROb2Rlc1swXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gdXRpbC5jcmVhdGVUZXh0Tm9kZSh1dGlsLnplcm9XaWR0aFNwYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsLnJlbW92ZUVtcHR5Tm9kZShwTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBOb2RlLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHV0aWwucmVtb3ZlSXRlbShlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gd3JhcHMgbGFzdCBsaW5lIHNlbGVjdGVkIHRleHQuXHJcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIG5vZGUgb2YgdGhlIGxpbmUgdGhhdCBjb250YWlucyB0aGUgc2VsZWN0ZWQgdGV4dCBub2RlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbmV3SW5uZXJOb2RlIC0gVGhlIGRvbSB0aGF0IHdpbGwgd3JhcCB0aGUgc2VsZWN0ZWQgdGV4dCBhcmVhXHJcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gdmFsaWRhdGlvbiAtIENoZWNrIGlmIHRoZSBub2RlIHNob3VsZCBiZSBzdHJpcHBlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVuZENvbiAtIFRoZSBlbmRDb250YWluZXIgcHJvcGVydHkgb2YgdGhlIHNlbGVjdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZE9mZiAtIFRoZSBlbmRPZmZzZXQgcHJvcGVydHkgb2YgdGhlIHNlbGVjdGlvbiBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBpc1JlbW92ZUZvcm1hdCAtIElzIHRoZSByZW1vdmUgZm9ybWF0IGNvbW1hbmQgP1xyXG4gICAgICAgICAqIEByZXR1cm5zIHt7Y29udGFpbmVyOiAqLCBvZmZzZXQ6ICp9fVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX25vZGVDaGFuZ2VfZW5kTGluZTogZnVuY3Rpb24gKGVsZW1lbnQsIG5ld0lubmVyTm9kZSwgdmFsaWRhdGlvbiwgZW5kQ29uLCBlbmRPZmYsIGlzUmVtb3ZlRm9ybWF0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgcE5vZGUgPSBlbGVtZW50LmNsb25lTm9kZShmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gZW5kQ29uO1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gZW5kT2ZmO1xyXG4gICAgICAgICAgICBsZXQgcGFzc05vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IHBDdXJyZW50LCBuZXdOb2RlLCBhcHBlbmROb2RlO1xyXG5cclxuICAgICAgICAgICAgKGZ1bmN0aW9uIHJlY3Vyc2lvbkZ1bmMoY3VycmVudCwgbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IGN1cnJlbnQuY2hpbGROb2RlcztcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBjaGlsZE5vZGVzLmxlbmd0aCAtMTsgMCA8PSBpOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdmVyTm9kZSA9IG5vZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXNzTm9kZSAmJiAhdXRpbC5pc0JyZWFrKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY3Vyc2lvbkZ1bmMoY2hpbGQsIGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0gY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdOb2RlLnBhcmVudE5vZGUgIT09IG51bGwgJiYgbmV3Tm9kZSAhPT0gZWwgJiYgbmV3Tm9kZSAhPT0gbmV3SW5uZXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbihuZXdOb2RlKSAmJiBuZXdOb2RlLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcEN1cnJlbnQucHVzaChuZXdOb2RlLmNsb25lTm9kZShmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IG5ld05vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBDdXJyZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZSA9IG5ld05vZGUgPSBjaGlsZE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBwQ3VycmVudC5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmROb2RlLmFwcGVuZENoaWxkKG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5uZXJOb2RlLmluc2VydEJlZm9yZShjaGlsZE5vZGUsIG5ld0lubmVyTm9kZS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld0lubmVyTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5kQ29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXNzTm9kZSAmJiBjaGlsZCA9PT0gY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyTm9kZSA9IHV0aWwuY3JlYXRlVGV4dE5vZGUoY29udGFpbmVyLm5vZGVUeXBlID09PSAxID8gJycgOiBjb250YWluZXIuc3Vic3RyaW5nRGF0YShvZmZzZXQsIChjb250YWluZXIubGVuZ3RoIC0gb2Zmc2V0KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IHV0aWwuY3JlYXRlVGV4dE5vZGUoY29udGFpbmVyLm5vZGVUeXBlID09PSAxID8gJycgOiBjb250YWluZXIuc3Vic3RyaW5nRGF0YSgwLCBvZmZzZXQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlck5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmluc2VydEJlZm9yZShhZnRlck5vZGUsIG5vZGUuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwQ3VycmVudCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobmV3Tm9kZSAhPT0gcE5vZGUgJiYgbmV3Tm9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24obmV3Tm9kZSkgJiYgbmV3Tm9kZS5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBDdXJyZW50LnB1c2gobmV3Tm9kZS5jbG9uZU5vZGUoZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUgPSBuZXdOb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IHBDdXJyZW50LnBvcCgpIHx8IG5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUgPSBuZXdOb2RlID0gY2hpbGROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocEN1cnJlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IHBDdXJyZW50LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTm9kZS5hcHBlbmRDaGlsZChuZXdOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE5vZGUgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlICE9PSBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbm5lck5vZGUuaW5zZXJ0QmVmb3JlKGNoaWxkTm9kZSwgbmV3SW5uZXJOb2RlLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV3SW5uZXJOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXRpbC5pc0JyZWFrKGNoaWxkKSkgbmV3SW5uZXJOb2RlLmFwcGVuZENoaWxkKGNoaWxkLmNsb25lTm9kZShmYWxzZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0lubmVyTm9kZSwgcE5vZGUuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHRleHROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSB0ZXh0Tm9kZS5kYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc05vZGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBub2RlLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFzc05vZGUgfHwgdmFsaWRhdGlvbihjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVOb2RlID0gY2hpbGQuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnNlcnRCZWZvcmUoY2xvbmVOb2RlLCBub2RlLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEgJiYgIXV0aWwuaXNCcmVhayhjaGlsZCkpIGNvdmVyTm9kZSA9IGNsb25lTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2lvbkZ1bmMoY2hpbGQsIGNvdmVyTm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKGVsZW1lbnQsIHBOb2RlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc1JlbW92ZUZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gdXRpbC5jcmVhdGVUZXh0Tm9kZShuZXdJbm5lck5vZGUudGV4dENvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gY29udGFpbmVyLnRleHRDb250ZW50Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHBOb2RlLmluc2VydEJlZm9yZShjb250YWluZXIsIG5ld0lubmVyTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBwTm9kZS5yZW1vdmVDaGlsZChuZXdJbm5lck5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzUmVtb3ZlRm9ybWF0ICYmIHBOb2RlLmNoaWxkTm9kZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jaGlsZE5vZGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gZWxlbWVudC5jaGlsZE5vZGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSB1dGlsLmNyZWF0ZVRleHROb2RlKHV0aWwuemVyb1dpZHRoU3BhY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHV0aWwucmVtb3ZlRW1wdHlOb2RlKHBOb2RlKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocE5vZGUsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVJdGVtKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBFeGVjdXRlIGNvbW1hbmQgb2YgY29tbWFuZCBidXR0b24oQWxsIEJ1dHRvbnMgZXhjZXB0IHN1Ym1lbnUgYW5kIGRpYWxvZylcclxuICAgICAgICAgKiAocmVkbywgdW5kbywgYm9sZCwgdW5kZXJsaW5lLCBpdGFsaWMsIHN0cmlrZXRocm91Z2gsIHN1YnNjcmlwdCwgc3VwZXJzY3JpcHQsIHJlbW92ZUZvcm1hdCwgaW5kZW50LCBvdXRkZW50LCBmdWxsc2NyZWVuLCBzaG93QmxvY2tzLCBjb2RldmlldywgcHJldmlldywgcHJpbnQpXHJcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBUaGUgZWxlbWVudCBvZiBjb21tYW5kIGJ1dHRvblxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb21tYW5kIC0gUHJvcGVydHkgb2YgY29tbWFuZCBidXR0b24gKGRhdGEtdmFsdWUpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29tbWFuZEhhbmRsZXI6IGZ1bmN0aW9uICh0YXJnZXQsIGNvbW1hbmQpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChjb21tYW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjb2RlVmlldyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyc09mZigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ29kZVZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLnRvZ2dsZUNsYXNzKHRhcmdldCwgJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdmdWxsU2NyZWVuJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJzT2ZmKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVGdWxsU2NyZWVuKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbC50b2dnbGVDbGFzcyh0YXJnZXQsICdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaW5kZW50JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ291dGRlbnQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZW50KGNvbW1hbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmVkbyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1bmRvJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JlbW92ZUZvcm1hdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGb3JtYXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3ByZXZpZXcnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAncHJpbnQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbldpbmRvd0NvbnRlbnRzKGNvbW1hbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2hvd0Jsb2Nrcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVEaXNwbGF5QmxvY2tzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbC50b2dnbGVDbGFzcyh0YXJnZXQsICdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc3Vic2NyaXB0JzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbC5oYXNDbGFzcyhjb250ZXh0LnRvb2wuc3VwZXJzY3JpcHQsICdvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoJ3N1cGVyc2NyaXB0JywgZmFsc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsLnJlbW92ZUNsYXNzKGNvbnRleHQudG9vbC5zdXBlcnNjcmlwdCwgJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWwudG9nZ2xlQ2xhc3ModGFyZ2V0LCAnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3N1cGVyc2NyaXB0JzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbC5oYXNDbGFzcyhjb250ZXh0LnRvb2wuc3Vic2NyaXB0LCAnb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWNDb21tYW5kKCdzdWJzY3JpcHQnLCBmYWxzZSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwucmVtb3ZlQ2xhc3MoY29udGV4dC50b29sLnN1YnNjcmlwdCwgJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWwudG9nZ2xlQ2xhc3ModGFyZ2V0LCAnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NhdmUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5vcHRpb24uY2FsbEJhY2tTYXZlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQub3B0aW9uLmNhbGxCYWNrU2F2ZSh0aGlzLmdldENvbnRlbnRzKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdbU1VORURJVE9SLmNvcmUuY29tbWFuZEhhbmRsZXIuZmFpbF0gUGxlYXNlIHJlZ2lzdGVyIGNhbGwgYmFjayBmdW5jdGlvbiBpbiBjcmVhdGlvbiBvcHRpb24uIChjYWxsQmFja1NhdmUgOiBGdW5jdGlvbiknKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDogLy8gJ2JvbGQnLCAndW5kZXJsaW5lJywgJ2l0YWxpYycsICdzdHJpa2UnXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZChjb21tYW5kLCBmYWxzZSwgdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpKTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLnRvZ2dsZUNsYXNzKHRhcmdldCwgJ29uJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlIGZvcm1hdCBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHJhbmdlIChJRSwgRWRnZSBub3Qgd29ya2luZylcclxuICAgICAgICAgKi9cclxuICAgICAgICByZW1vdmVGb3JtYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlQ2hhbmdlKHV0aWwuY3JlYXRlRWxlbWVudCgnUkVNT1ZFTk9ERScpKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gVGhpcyBtZXRob2QgaW1wbGVtZW50cyBpbmRlbnRhdGlvbiB0byBzZWxlY3RlZCByYW5nZS5cclxuICAgICAgICAgKiBTZXR0ZWQgXCJtYXJnaW4tbGVmdFwiIHRvIFwiMjVweFwiIGluIHRoZSB0b3AgXCJQXCIgdGFnIG9mIHRoZSBwYXJhbWV0ZXIgbm9kZS5cclxuICAgICAgICAgKiBAcGFyYW0gY29tbWFuZCB7U3RyaW5nfSAtIFNlcGFyYXRvciAoXCJpbmRlbnRcIiBvciBcIm91dGRlbnRcIilcclxuICAgICAgICAgKi9cclxuICAgICAgICBpbmRlbnQ6IGZ1bmN0aW9uIChjb21tYW5kKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlTGluZXMgPSB0aGlzLmdldFNlbGVjdGVkRm9ybWF0RWxlbWVudHMoKTtcclxuICAgICAgICAgICAgbGV0IHAsIG1hcmdpbjtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSByYW5nZUxpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwID0gcmFuZ2VMaW5lc1tpXTtcclxuICAgICAgICAgICAgICAgIG1hcmdpbiA9IC9cXGQrLy50ZXN0KHAuc3R5bGUubWFyZ2luTGVmdCkgPyBwLnN0eWxlLm1hcmdpbkxlZnQubWF0Y2goL1xcZCsvKVswXSAqIDEgOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgnaW5kZW50JyA9PT0gY29tbWFuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbiArPSAyNTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luIC09IDI1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBwLnN0eWxlLm1hcmdpbkxlZnQgPSAobWFyZ2luIDwgMCA/IDAgOiBtYXJnaW4pICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGQgb3IgcmVtb3ZlIHRoZSBjbGFzcyBuYW1lIG9mIFwiYm9keVwiIHNvIHRoYXQgdGhlIGNvZGUgYmxvY2sgaXMgdmlzaWJsZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRvZ2dsZURpc3BsYXlCbG9ja3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXRpbC50b2dnbGVDbGFzcyhjb250ZXh0LmVsZW1lbnQud3lzaXd5ZywgJ3N1bi1lZGl0b3Itc2hvdy1ibG9jaycpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDaGFuZ2VzIHRvIGNvZGUgdmlldyBvciB3eXNpd3lnIHZpZXdcclxuICAgICAgICAgKi9cclxuICAgICAgICB0b2dnbGVDb2RlVmlldzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zdCB3eXNpd3lnQWN0aXZlID0gdGhpcy5fdmFyaWFibGUud3lzaXd5Z0FjdGl2ZTtcclxuICAgICAgICAgICAgY29uc3QgZGlzQnV0dG9ucyA9IHRoaXMuY29kZVZpZXdEaXNhYmxlZEJ1dHRvbnM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBkaXNCdXR0b25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNCdXR0b25zW2ldLmRpc2FibGVkID0gd3lzaXd5Z0FjdGl2ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF3eXNpd3lnQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlX2h0bWwgPSBjb250ZXh0LmVsZW1lbnQuY29kZS52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5pbm5lckhUTUwgPSBjb2RlX2h0bWwubGVuZ3RoID4gMCA/IHV0aWwuY29udmVydENvbnRlbnRzRm9yRWRpdG9yKGNvZGVfaHRtbCkgOiAnPHA+JyArIHV0aWwuemVyb1dpZHRoU3BhY2UgKyAnPC9wPic7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5zY3JvbGxUb3AgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmNvZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQub3B0aW9uLmhlaWdodCA9PT0gJ2F1dG8nKSBjb250ZXh0LmVsZW1lbnQuY29kZS5zdHlsZS5oZWlnaHQgPSAnMHB4JztcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlLnd5c2l3eWdBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmNvZGUudmFsdWUgPSB1dGlsLmNvbnZlcnRIVE1MRm9yQ29kZVZpZXcoY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuaW5uZXJIVE1MLnRyaW0oKSk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmNvZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5vcHRpb24uaGVpZ2h0ID09PSAnYXV0bycpIGNvbnRleHQuZWxlbWVudC5jb2RlLnN0eWxlLmhlaWdodCA9IGNvbnRleHQuZWxlbWVudC5jb2RlLnNjcm9sbEhlaWdodCA+IDAgPyAoY29udGV4dC5lbGVtZW50LmNvZGUuc2Nyb2xsSGVpZ2h0ICsgJ3B4JykgOiAnYXV0byc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YXJpYWJsZS53eXNpd3lnQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQuY29kZS5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENoYW5nZXMgdG8gZnVsbCBzY3JlZW4gb3IgZGVmYXVsdCBzY3JlZW5cclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBmdWxsIHNjcmVlbiBidXR0b25cclxuICAgICAgICAgKi9cclxuICAgICAgICB0b2dnbGVGdWxsU2NyZWVuOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3ZhcmlhYmxlLmlzRnVsbFNjcmVlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuaXNGdWxsU2NyZWVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQudG9wQXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQudG9wQXJlYS5zdHlsZS50b3AgPSAnMCc7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQudG9wQXJlYS5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvcEFyZWEuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQudG9wQXJlYS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQudG9wQXJlYS5zdHlsZS56SW5kZXggPSAnMjE0NzQ4MzY0Nyc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuX2JvZHlPdmVyZmxvdyA9IF9kLmJvZHkuc3R5bGUub3ZlcmZsb3c7XHJcbiAgICAgICAgICAgICAgICBfZC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuX2VkaXRvckFyZWFPcmlnaW5Dc3NUZXh0ID0gY29udGV4dC5lbGVtZW50LmVkaXRvckFyZWEuc3R5bGUuY3NzVGV4dDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlLl93eXNpd3lnT3JpZ2luQ3NzVGV4dCA9IGNvbnRleHQuZWxlbWVudC53eXNpd3lnLnN0eWxlLmNzc1RleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YXJpYWJsZS5fY29kZU9yaWdpbkNzc1RleHQgPSBjb250ZXh0LmVsZW1lbnQuY29kZS5zdHlsZS5jc3NUZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5lZGl0b3JBcmVhLnN0eWxlLmNzc1RleHQgPSBjb250ZXh0LmVsZW1lbnQudG9vbGJhci5zdHlsZS5jc3NUZXh0ID0gY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuc3R5bGUuY3NzVGV4dCA9IGNvbnRleHQuZWxlbWVudC5jb2RlLnN0eWxlLmNzc1RleHQgPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC50b29sYmFyLnN0eWxlLndpZHRoID0gY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuc3R5bGUuaGVpZ2h0ID0gY29udGV4dC5lbGVtZW50LmNvZGUuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlLmlubmVySGVpZ2h0X2Z1bGxTY3JlZW4gPSAoX3cuaW5uZXJIZWlnaHQgLSBjb250ZXh0LmVsZW1lbnQudG9vbGJhci5vZmZzZXRIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmVkaXRvckFyZWEuc3R5bGUuaGVpZ2h0ID0gdGhpcy5fdmFyaWFibGUuaW5uZXJIZWlnaHRfZnVsbFNjcmVlbiArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVDbGFzcyhlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLCAnaWNvbi1leHBhbnNpb24nKTtcclxuICAgICAgICAgICAgICAgIHV0aWwuYWRkQ2xhc3MoZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCwgJ2ljb24tcmVkdWN0aW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YXJpYWJsZS5pc0Z1bGxTY3JlZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQuY29kZS5zdHlsZS5jc3NUZXh0ID0gdGhpcy5fdmFyaWFibGUuX2NvZGVPcmlnaW5Dc3NUZXh0O1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuc3R5bGUuY3NzVGV4dCA9IHRoaXMuX3ZhcmlhYmxlLl93eXNpd3lnT3JpZ2luQ3NzVGV4dDtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC50b29sYmFyLnN0eWxlLmNzc1RleHQgPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5lZGl0b3JBcmVhLnN0eWxlLmNzc1RleHQgPSB0aGlzLl92YXJpYWJsZS5fZWRpdG9yQXJlYU9yaWdpbkNzc1RleHQ7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQudG9wQXJlYS5zdHlsZS5jc3NUZXh0ID0gdGhpcy5fdmFyaWFibGUuX29yaWdpbkNzc1RleHQ7XHJcbiAgICAgICAgICAgICAgICBfZC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gdGhpcy5fdmFyaWFibGUuX2JvZHlPdmVyZmxvdztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5vcHRpb24uc3RpY2t5VG9vbGJhciA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVDbGFzcyhjb250ZXh0LmVsZW1lbnQudG9vbGJhciwgJ3N1bi1lZGl0b3Itc3RpY2t5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQub25TY3JvbGxfd2luZG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVDbGFzcyhlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLCAnaWNvbi1yZWR1Y3Rpb24nKTtcclxuICAgICAgICAgICAgICAgIHV0aWwuYWRkQ2xhc3MoZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCwgJ2ljb24tZXhwYW5zaW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiB0aGUgcHJldmlldyB3aW5kb3cgb3Igb3BlbiB0aGUgcHJpbnQgd2luZG93XHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG1vZGUgLSAncHJldmlldycgb3IgJ3ByaW50J1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9wZW5XaW5kb3dDb250ZW50czogZnVuY3Rpb24gKG1vZGUpIHtcclxuICAgICAgICAgICAgY29uc3QgaXNQcmludCA9IG1vZGUgPT09ICdwcmludCc7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpbmRvd09iamVjdCA9IF93Lm9wZW4oJycsICdfYmxhbmsnKTtcclxuICAgICAgICAgICAgd2luZG93T2JqZWN0Lm1pbWVUeXBlID0gJ3RleHQvaHRtbCc7XHJcbiAgICAgICAgICAgIHdpbmRvd09iamVjdC5kb2N1bWVudC53cml0ZSgnJyArXHJcbiAgICAgICAgICAgICAgICAnPCFkb2N0eXBlIGh0bWw+PGh0bWw+JyArXHJcbiAgICAgICAgICAgICAgICAnPGhlYWQ+JyArXHJcbiAgICAgICAgICAgICAgICAnPG1ldGEgY2hhcnNldD1cInV0Zi04XCIgLz4nICtcclxuICAgICAgICAgICAgICAgICc8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIj4nICtcclxuICAgICAgICAgICAgICAgICc8dGl0bGU+JyArIChpc1ByaW50ID8gbGFuZy50b29sYmFyLnByaW50IDogbGFuZy50b29sYmFyLnByZXZpZXcpICsgJzwvdGl0bGU+JyArXHJcbiAgICAgICAgICAgICAgICAnPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCInICsgdXRpbC5nZXRJbmNsdWRlUGF0aChbJ3N1bmVkaXRvci1jb250ZW50cycsICdzdW5lZGl0b3InXSwgJ2NzcycpICsgJ1wiPicgK1xyXG4gICAgICAgICAgICAgICAgJzwvaGVhZD4nICtcclxuICAgICAgICAgICAgICAgICc8Ym9keT4nICtcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic3VuLWVkaXRvci1lZGl0YWJsZVwiIHN0eWxlPVwid2lkdGg6JyArIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLm9mZnNldFdpZHRoICsgJ3B4OyBtYXJnaW46YXV0bztcIj4nICtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29udGVudHMoKSArICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgIChpc1ByaW50ID8gJzxzY3JpcHQ+X3cucHJpbnQoKTs8L3NjcmlwdD4nIDogJycpICsgJzwvYm9keT4nICtcclxuICAgICAgICAgICAgICAgICc8L2h0bWw+Jyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEdldHMgdGhlIGN1cnJlbnQgY29udGVudHNcclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldENvbnRlbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50cyA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVyVGV4dC50cmltKCkubGVuZ3RoID09PSAwKSByZXR1cm4gY29udGVudHM7XHJcblxyXG4gICAgICAgICAgICBpZiAoZWRpdG9yLl92YXJpYWJsZS53eXNpd3lnQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50cyA9IGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVySFRNTDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRzID0gdXRpbC5jb252ZXJ0Q29udGVudHNGb3JFZGl0b3IoY29udGV4dC5lbGVtZW50LmNvZGUudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW5kZXJIVE1MID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICAgICAgcmVuZGVySFRNTC5pbm5lckhUTUwgPSBjb250ZW50cztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpZ2NhcHRpb25zID0gdXRpbC5nZXRMaXN0Q2hpbGRyZW4ocmVuZGVySFRNTCwgZnVuY3Rpb24gKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAvRklHQ0FQVElPTi9pLnRlc3QoY3VycmVudC5ub2RlTmFtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGZpZ2NhcHRpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmaWdjYXB0aW9uc1tpXS5vdXRlckhUTUwgPSBmaWdjYXB0aW9uc1tpXS5vdXRlckhUTUwucmVwbGFjZSgvKD8hXjxmaWdjYXB0aW9uXFxzKykoY29udGVudGVkaXRhYmxlPVwiKFthLXpdK3xcXHMqKVwiKVxccyooPz1bXj5dKj4pL2ksICcnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlckhUTUwuaW5uZXJIVE1MO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gZXZlbnQgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgY29uc3QgZXZlbnQgPSB7XHJcbiAgICAgICAgX3Nob3J0Y3V0S2V5Q29kZToge1xyXG4gICAgICAgICAgICA2NjogWydib2xkJywgJ0InXSxcclxuICAgICAgICAgICAgODM6IFsnc3RyaWtldGhyb3VnaCcsICdTVFJJS0UnXSxcclxuICAgICAgICAgICAgODU6IFsndW5kZXJsaW5lJywgJ1UnXSxcclxuICAgICAgICAgICAgNzM6IFsnaXRhbGljJywgJ0knXSxcclxuICAgICAgICAgICAgODk6IFsncmVkbyddLFxyXG4gICAgICAgICAgICA5MDogWyd1bmRvJ10sXHJcbiAgICAgICAgICAgIDIxOTogWydvdXRkZW50J10sXHJcbiAgICAgICAgICAgIDIyMTogWydpbmRlbnQnXVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9kaXJlY3Rpb25LZXlLZXlDb2RlOiBuZXcgUmVnRXhwKCdeKD86OHwxM3wzMnw0NnwzM3wzNHwzNXwzNnwzN3wzOHwzOXw0MHw5OHwxMDB8MTAyfDEwNCkkJyksXHJcblxyXG4gICAgICAgIF9jaGFuZ2VCdXR0b25DbGFzc1RhZ0NoZWNrOiBuZXcgUmVnRXhwKCdeKD86QnxVfEl8U1RSSUtFfFNVQnxTVVApJCcpLFxyXG5cclxuICAgICAgICBfZmluZEJ1dHRvbkVmZmVjdFRhZzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kTWFwID0gZWRpdG9yLmNvbW1hbmRNYXA7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzT25DaGVjayA9IHRoaXMuX2NoYW5nZUJ1dHRvbkNsYXNzVGFnQ2hlY2s7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmRNYXBOb2RlcyA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmaW5kRm9ybWF0ID0gdHJ1ZSwgZmluZEZvbnQgPSB0cnVlLCBmaW5kU2l6ZSA9IHRydWUsIGZpbmRBID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGV0IGZpbmRCID0gdHJ1ZSwgZmluZEkgPSB0cnVlLCBmaW5kVSA9IHRydWUsIGZpbmRTID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGV0IGNzc1RleHQgPSAnJywgbm9kZU5hbWUgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IHNlbGVjdGlvblBhcmVudCA9IGVkaXRvci5nZXRTZWxlY3Rpb25Ob2RlKCk7ICF1dGlsLmlzV3lzaXd5Z0RpdihzZWxlY3Rpb25QYXJlbnQpOyBzZWxlY3Rpb25QYXJlbnQgPSBzZWxlY3Rpb25QYXJlbnQucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxlY3Rpb25QYXJlbnQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvblBhcmVudC5ub2RlVHlwZSAhPT0gMSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBub2RlTmFtZSA9IHNlbGVjdGlvblBhcmVudC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGVzLnB1c2gobm9kZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiBGb3JtYXQgKi9cclxuICAgICAgICAgICAgICAgIGlmIChmaW5kRm9ybWF0ICYmIHV0aWwuaXNGb3JtYXRFbGVtZW50KHNlbGVjdGlvblBhcmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kTWFwTm9kZXMucHVzaCgnRk9STUFUJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5jaGFuZ2VUeHQoY29tbWFuZE1hcC5GT1JNQVQsIG5vZGVOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBmaW5kRm9ybWF0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIEZvbnQgKi9cclxuICAgICAgICAgICAgICAgIGlmIChmaW5kRm9udCAmJiAoc2VsZWN0aW9uUGFyZW50LnN0eWxlLmZvbnRGYW1pbHkubGVuZ3RoID4gMCB8fCAoc2VsZWN0aW9uUGFyZW50LmZhY2UgJiYgc2VsZWN0aW9uUGFyZW50LmZhY2UubGVuZ3RoID4gMCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZE1hcE5vZGVzLnB1c2goJ0ZPTlQnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RGb250ID0gKHNlbGVjdGlvblBhcmVudC5zdHlsZS5mb250RmFtaWx5IHx8IHNlbGVjdGlvblBhcmVudC5mYWNlIHx8IGxhbmcudG9vbGJhci5mb250KS5yZXBsYWNlKC9bXCInXS9nLCcnKTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLmNoYW5nZVR4dChjb21tYW5kTWFwLkZPTlQsIHNlbGVjdEZvbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmRGb250ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIEEgKi9cclxuICAgICAgICAgICAgICAgIGlmIChmaW5kQSAmJiAvXkEkLy50ZXN0KG5vZGVOYW1lKSAmJiBzZWxlY3Rpb25QYXJlbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWltYWdlLWxpbmsnKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dC5saW5rIHx8IGVkaXRvci5jb250cm9sbGVyQXJyYXlbMF0gIT09IGNvbnRleHQubGluay5saW5rQnRuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsUGx1Z2luKCdsaW5rJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnBsdWdpbnMubGluay5jYWxsX2NvbnRyb2xsZXJfbGlua0J1dHRvbi5jYWxsKGVkaXRvciwgc2VsZWN0aW9uUGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbmRBID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbmRBICYmIGNvbnRleHQubGluayAmJiBlZGl0b3IuY29udHJvbGxlckFycmF5WzBdID09PSBjb250ZXh0LmxpbmsubGlua0J0bikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jb250cm9sbGVyc09mZigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8qKiBTUEFOICovXHJcbiAgICAgICAgICAgICAgICBpZiAoZmluZFNpemUgJiYgL15TUEFOJC8udGVzdChub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiogZm9udCBzaXplICovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvblBhcmVudC5zdHlsZS5mb250U2l6ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmRNYXBOb2Rlcy5wdXNoKCdTSVpFJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY2hhbmdlVHh0KGNvbW1hbmRNYXAuU0laRSwgc2VsZWN0aW9uUGFyZW50LnN0eWxlLmZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluZFNpemUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIGNvbW1hbmQgbWFwICovXHJcbiAgICAgICAgICAgICAgICBjc3NUZXh0ID0gc2VsZWN0aW9uUGFyZW50LnN0eWxlLmNzc1RleHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmluZEIgJiYgL2ZvbnRcXC13ZWlnaHRcXHMqOlxccyooPzpcXGQrfGJvbGR8Ym9sZGVyKSg/Ojt8XFxzfCkvLnRlc3QoY3NzVGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kTWFwTm9kZXMucHVzaCgnQicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmRCID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmluZEkgJiYgL2ZvbnRcXC1zdHlsZVxccyo6XFxzKig/Oml0YWxpY3xvYmxpcXVlKSg/Ojt8XFxzKS8udGVzdChjc3NUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRNYXBOb2Rlcy5wdXNoKCdJJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZEkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmaW5kVSAmJiAvdGV4dFxcLWRlY29yYXRpb24oPzpcXC1saW5lKT9cXHMqOlxccyp1bmRlcmxpbmUoPzo7fFxcc3wpLy50ZXN0KGNzc1RleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZE1hcE5vZGVzLnB1c2goJ1UnKTtcclxuICAgICAgICAgICAgICAgICAgICBmaW5kVSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbmRTICYmIC90ZXh0XFwtZGVjb3JhdGlvbig/OlxcLWxpbmUpP1xccyo6XFxzKmxpbmUtdGhyb3VnaCg/Ojt8XFxzfCkvLnRlc3QoY3NzVGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kTWFwTm9kZXMucHVzaCgnU1RSSUtFJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZFMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb21tYW5kTWFwTm9kZXMucHVzaCgoL15TVFJPTkckLy50ZXN0KG5vZGVOYW1lKSA/ICdCJyA6IC9eRU0kLy50ZXN0KG5vZGVOYW1lKSA/ICdJJyA6IG5vZGVOYW1lKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiBBIFRhZyBlZGl0IGNvbnRyb2xsZXIgb2ZmICovXHJcbiAgICAgICAgICAgIGlmIChmaW5kQSkgZWRpdG9yLmNvbnRyb2xsZXJzT2ZmKCk7XHJcblxyXG4gICAgICAgICAgICAvKiogdG9nZ2xlIGNsYXNzIG9uICovXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tbWFuZE1hcE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlTmFtZSA9IGNvbW1hbmRNYXBOb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc09uQ2hlY2sudGVzdChub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLmFkZENsYXNzKGNvbW1hbmRNYXBbbm9kZU5hbWVdLCAnb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqIHJlbW92ZSBjbGFzcywgZGlzcGxheSB0ZXh0ICovXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBjb21tYW5kTWFwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZE1hcE5vZGVzLmluZGV4T2Yoa2V5KSA+IC0xKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGlmICgvXkZPTlQvaS50ZXN0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLmNoYW5nZVR4dChjb21tYW5kTWFwW2tleV0sIGxhbmcudG9vbGJhci5mb250KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eU0laRSQvaS50ZXN0KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLmNoYW5nZVR4dChjb21tYW5kTWFwW2tleV0sIGxhbmcudG9vbGJhci5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLnJlbW92ZUNsYXNzKGNvbW1hbmRNYXBba2V5XSwgJ29uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiBzYXZlIGN1cnJlbnQgbm9kZXMgKi9cclxuICAgICAgICAgICAgZWRpdG9yLl92YXJpYWJsZS5jdXJyZW50Tm9kZXMgPSBjdXJyZW50Tm9kZXMucmV2ZXJzZSgpO1xyXG5cclxuICAgICAgICAgICAgLyoqICBEaXNwbGF5cyB0aGUgY3VycmVudCBub2RlIHN0cnVjdHVyZSB0byByZXNpemluZ0JhciAqL1xyXG4gICAgICAgICAgICBpZiAoY29udGV4dC5vcHRpb24uc2hvd1BhdGhMYWJlbCkgY29udGV4dC5lbGVtZW50Lm5hdmlnYXRpb24udGV4dENvbnRlbnQgPSBlZGl0b3IuX3ZhcmlhYmxlLmN1cnJlbnROb2Rlcy5qb2luKCcgPiAnKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfY2FuY2VsQ2FwdGlvbkVkaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgZXZlbnQuX2NhbmNlbENhcHRpb25FZGl0KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbk1vdXNlRG93bl90b29sYmFyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlZGl0b3IuX2VkaXRvclJhbmdlKCk7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcclxuXHJcbiAgICAgICAgICAgIGlmICh1dGlsLmdldFBhcmVudEVsZW1lbnQodGFyZ2V0LCAnLnN1bi1lZGl0b3Itc3VibWVudScpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbW1hbmQgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbW1hbmQnKTtcclxuICAgICAgICAgICAgICAgIGxldCBjbGFzc05hbWUgPSB0YXJnZXQuY2xhc3NOYW1lO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoIWNvbW1hbmQgJiYgIS9lZGl0b3JfdG9vbC8udGVzdChjbGFzc05hbWUpICYmICEvc3VuLWVkaXRvci1pZC10b29sYmFyLy50ZXN0KGNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gdGFyZ2V0LmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT09IGVkaXRvci5fc3VibWVudU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uQ2xpY2tfdG9vbGJhcjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBsZXQgZGlzcGxheSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzcGxheScpO1xyXG4gICAgICAgICAgICBsZXQgY29tbWFuZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcpO1xyXG4gICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gdGFyZ2V0LmNsYXNzTmFtZTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICghY29tbWFuZCAmJiAhL2VkaXRvcl90b29sLy50ZXN0KGNsYXNzTmFtZSkgJiYgIS9zdW4tZWRpdG9yLWlkLXRvb2xiYXIvLnRlc3QoY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICBjb21tYW5kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJyk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5ID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNwbGF5Jyk7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSB0YXJnZXQuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIWNvbW1hbmQgJiYgIWRpc3BsYXkpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5kaXNhYmxlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvKiogRGlhbG9nLCBTdWJtZW51ICovXHJcbiAgICAgICAgICAgIGlmIChkaXNwbGF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoL3N1Ym1lbnUvLnRlc3QoZGlzcGxheSkgJiYgKHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcgPT09IG51bGwgfHwgdGFyZ2V0ICE9PSBlZGl0b3Iuc3VibWVudUFjdGl2ZUJ1dHRvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbFBsdWdpbihjb21tYW5kLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zdWJtZW51T24odGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvZGlhbG9nLy50ZXN0KGRpc3BsYXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGxQbHVnaW4oY29tbWFuZCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucGx1Z2lucy5kaWFsb2cub3Blbi5jYWxsKGVkaXRvciwgY29tbWFuZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc3VibWVudU9mZigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiogZGVmYXVsdCBjb21tYW5kICovXHJcbiAgICAgICAgICAgIGlmIChjb21tYW5kKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY29tbWFuZEhhbmRsZXIodGFyZ2V0LCBjb21tYW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uTW91c2VVcF93eXNpd3lnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5fZWRpdG9yUmFuZ2UoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IuX2lzQmFsbG9vbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBlZGl0b3IuZ2V0UmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb2xsYXBzZWQpIGV2ZW50Ll9oaWRlVG9vbGJhcigpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBldmVudC5fc2hvd1Rvb2xiYXJCYWxsb29uKHJhbmdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uQ2xpY2tfd3lzaXd5ZzogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGUudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgaWYgKC9eSU1HJC9pLnRlc3QodGFyZ2V0RWxlbWVudC5ub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsUGx1Z2luKCdpbWFnZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gZWRpdG9yLnBsdWdpbnMucmVzaXppbmcuY2FsbF9jb250cm9sbGVyX3Jlc2l6ZS5jYWxsKGVkaXRvciwgdGFyZ2V0RWxlbWVudCwgJ2ltYWdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnBsdWdpbnMuaW1hZ2Uub25Nb2RpZnlNb2RlLmNhbGwoZWRpdG9yLCB0YXJnZXRFbGVtZW50LCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXV0aWwuZ2V0UGFyZW50RWxlbWVudCh0YXJnZXRFbGVtZW50LCAnLnN1bi1lZGl0b3ItaWQtaW1hZ2UtY29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnBsdWdpbnMuaW1hZ2Uub3Blbk1vZGlmeS5jYWxsKGVkaXRvciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5wbHVnaW5zLmltYWdlLnVwZGF0ZV9pbWFnZS5jYWxsKGVkaXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jb250cm9sbGVyc09mZigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKC9zdW4tZWRpdG9yLWlkLWlmcmFtZS1pbm5lci1yZXNpemluZy1jb3Zlci9pLnRlc3QodGFyZ2V0RWxlbWVudC5jbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbFBsdWdpbigndmlkZW8nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWZyYW1lID0gdXRpbC5nZXRDaGlsZEVsZW1lbnQodGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLCAnaWZyYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IGVkaXRvci5wbHVnaW5zLnJlc2l6aW5nLmNhbGxfY29udHJvbGxlcl9yZXNpemUuY2FsbChlZGl0b3IsIGlmcmFtZSwgJ3ZpZGVvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnBsdWdpbnMudmlkZW8ub25Nb2RpZnlNb2RlLmNhbGwoZWRpdG9yLCBpZnJhbWUsIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudC5fZmluZEJ1dHRvbkVmZmVjdFRhZygpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlnY2FwdGlvbiA9IHV0aWwuZ2V0UGFyZW50RWxlbWVudCh0YXJnZXRFbGVtZW50LCAnRklHQ0FQVElPTicpO1xyXG4gICAgICAgICAgICBpZiAoZmlnY2FwdGlvbiAmJiBmaWdjYXB0aW9uLmdldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykgIT09ICd0dXJlJykge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZmlnY2FwdGlvbi5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgZmlnY2FwdGlvbi5mb2N1cygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlZGl0b3IuX2lzSW5saW5lICYmICFlZGl0b3IuX2lubGluZVRvb2xiYXJBdHRyLmlzU2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Ll9zaG93VG9vbGJhcklubGluZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWRlVG9vbGJhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuX2hpZGVUb29sYmFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZVRvb2xiYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZVRvb2xiYXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGQgPSB1dGlsLmdldFBhcmVudEVsZW1lbnQodGFyZ2V0RWxlbWVudCwgdXRpbC5pc0NlbGwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvci5jb250cm9sbGVyQXJyYXkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsUGx1Z2luKCd0YWJsZScsIGVkaXRvci5wbHVnaW5zLnRhYmxlLmNhbGxfY29udHJvbGxlcl90YWJsZUVkaXQuYmluZChlZGl0b3IsIHRkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodXNlckZ1bmN0aW9uLm9uQ2xpY2spIHVzZXJGdW5jdGlvbi5vbkNsaWNrKGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9zaG93VG9vbGJhckJhbGxvb246IGZ1bmN0aW9uIChyYW5nZU9iaikge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHJhbmdlT2JqIHx8IGVkaXRvci5nZXRSYW5nZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gMjA7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2xiYXIgPSBjb250ZXh0LmVsZW1lbnQudG9vbGJhcjtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gX3cuZ2V0U2VsZWN0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaXNEaXJUb3A7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24uZm9jdXNOb2RlID09PSBzZWxlY3Rpb24uYW5jaG9yTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgaXNEaXJUb3AgPSBzZWxlY3Rpb24uZm9jdXNPZmZzZXQgPCBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IHV0aWwuZ2V0TGlzdENoaWxkTm9kZXMocmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgaXNEaXJUb3AgPSB1dGlsLmdldEFycmF5SW5kZXgoY2hpbGROb2Rlcywgc2VsZWN0aW9uLmZvY3VzTm9kZSkgPCB1dGlsLmdldEFycmF5SW5kZXgoY2hpbGROb2Rlcywgc2VsZWN0aW9uLmFuY2hvck5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVjdHMgPSByYW5nZS5nZXRDbGllbnRSZWN0cygpO1xyXG4gICAgICAgICAgICByZWN0cyA9IHJlY3RzW2lzRGlyVG9wID8gMCA6IHJlY3RzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2xiYXJXaWR0aCA9IHRvb2xiYXIub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2xiYXJIZWlnaHQgPSB0b29sYmFyLm9mZnNldEhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGxldCBsID0gKGlzRGlyVG9wID8gcmVjdHMubGVmdCA6IHJlY3RzLnJpZ2h0KSAtIGNvbnRleHQuZWxlbWVudC50b3BBcmVhLm9mZnNldExlZnQgKyAoX3cuc2Nyb2xsWCB8fCBfZC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkgLSB0b29sYmFyV2lkdGggLyAyO1xyXG4gICAgICAgICAgICBsZXQgdCA9IChpc0RpclRvcCA/IHJlY3RzLnRvcCAtIHRvb2xiYXJIZWlnaHQgLSAxMSA6IHJlY3RzLmJvdHRvbSArIDExKSAtIGNvbnRleHQuZWxlbWVudC50b3BBcmVhLm9mZnNldFRvcCArIChfdy5zY3JvbGxZIHx8IF9kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgb3ZlclJpZ2h0ID0gbCArIHRvb2xiYXJXaWR0aCAtIGNvbnRleHQuZWxlbWVudC50b3BBcmVhLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdG9vbGJhci5zdHlsZS5sZWZ0ID0gKGwgPCAwID8gcGFkZGluZyA6IG92ZXJSaWdodCA8IDAgPyBsIDogbCAtIG92ZXJSaWdodCAtIHBhZGRpbmcpICsgJ3B4JztcclxuICAgICAgICAgICAgdG9vbGJhci5zdHlsZS50b3AgPSAodCkgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzRGlyVG9wKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsLnJlbW92ZUNsYXNzKGNvbnRleHQuZWxlbWVudC5fYXJyb3csICdhcnJvdy11cCcpO1xyXG4gICAgICAgICAgICAgICAgdXRpbC5hZGRDbGFzcyhjb250ZXh0LmVsZW1lbnQuX2Fycm93LCAnYXJyb3ctZG93bicpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Ll9hcnJvdy5zdHlsZS50b3AgPSAodG9vbGJhckhlaWdodCkgKyAncHgnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVDbGFzcyhjb250ZXh0LmVsZW1lbnQuX2Fycm93LCAnYXJyb3ctZG93bicpO1xyXG4gICAgICAgICAgICAgICAgdXRpbC5hZGRDbGFzcyhjb250ZXh0LmVsZW1lbnQuX2Fycm93LCAnYXJyb3ctdXAnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5fYXJyb3cuc3R5bGUudG9wID0gJy0xMXB4JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgYXJyb3dfd2lkdGggPSBjb250ZXh0LmVsZW1lbnQuX2Fycm93Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBhcnJvd19sZWZ0ID0gKHRvb2xiYXJXaWR0aCAvIDIgKyAobCA8IDAgPyBsIC0gYXJyb3dfd2lkdGggOiBvdmVyUmlnaHQgPCAwID8gMCA6IG92ZXJSaWdodCArIGFycm93X3dpZHRoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycm93X3BvaW50X3dpZHRoID0gYXJyb3dfd2lkdGggLyAyO1xyXG4gICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQuX2Fycm93LnN0eWxlLmxlZnQgPSAoYXJyb3dfbGVmdCA8IGFycm93X3BvaW50X3dpZHRoID8gYXJyb3dfcG9pbnRfd2lkdGggOiBhcnJvd19sZWZ0ICsgYXJyb3dfcG9pbnRfd2lkdGggPj0gdG9vbGJhcldpZHRoID8gYXJyb3dfbGVmdCAtIGFycm93X3BvaW50X3dpZHRoIDogYXJyb3dfbGVmdCkgKyAncHgnO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9zaG93VG9vbGJhcklubGluZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zdCB0b29sYmFyID0gY29udGV4dC5lbGVtZW50LnRvb2xiYXI7XHJcbiAgICAgICAgICAgIHRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgIGVkaXRvci5faW5saW5lVG9vbGJhckF0dHIud2lkdGggPSB0b29sYmFyLnN0eWxlLndpZHRoID0gY29udGV4dC5vcHRpb24udG9vbGJhcldpZHRoO1xyXG4gICAgICAgICAgICBlZGl0b3IuX2lubGluZVRvb2xiYXJBdHRyLnRvcCA9IHRvb2xiYXIuc3R5bGUudG9wID0gKC0xIC0gdG9vbGJhci5vZmZzZXRIZWlnaHQpICsgJ3B4JztcclxuICAgICAgICAgICAgZXZlbnQub25TY3JvbGxfd2luZG93KCk7XHJcbiAgICAgICAgICAgIGVkaXRvci5faW5saW5lVG9vbGJhckF0dHIuaXNTaG93ID0gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfaGlkZVRvb2xiYXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgZWRpdG9yLl9pbmxpbmVUb29sYmFyQXR0ci5pc1Nob3cgPSBmYWxzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbktleURvd25fd3lzaXd5ZzogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5Q29kZSA9IGUua2V5Q29kZTtcclxuICAgICAgICAgICAgY29uc3Qgc2hpZnQgPSBlLnNoaWZ0S2V5O1xyXG4gICAgICAgICAgICBjb25zdCBjdHJsID0gZS5jdHJsS2V5IHx8IGUubWV0YUtleTtcclxuICAgICAgICAgICAgY29uc3QgYWx0ID0gZS5hbHRLZXk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZWRpdG9yLl9pc0JhbGxvb24pIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50Ll9oaWRlVG9vbGJhcigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG9ydGN1dENvbW1hbmQoa2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQuX3Nob3J0Y3V0S2V5Q29kZVtrZXlDb2RlXTtcclxuICAgICAgICAgICAgICAgIGlmICgha2V5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNvbW1hbmRIYW5kbGVyKHV0aWwuZ2V0Rm9ybWF0RWxlbWVudChlZGl0b3IuZ2V0U2VsZWN0aW9uTm9kZSgpKSwga2V5WzBdKTtcclxuICAgICAgICAgICAgICAgIHV0aWwudG9nZ2xlQ2xhc3MoZWRpdG9yLmNvbW1hbmRNYXBba2V5WzFdXSwgJ29uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiBTaG9ydGN1dHMgKi9cclxuICAgICAgICAgICAgaWYgKGN0cmwgJiYgIS9eKD86MTZ8MTd8MTgpJC8udGVzdChrZXlDb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoIXNoaWZ0ICYmIGtleUNvZGUgPT09IDgzKSAmJiBzaG9ydGN1dENvbW1hbmQoa2V5Q29kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiogZGVmYXVsdCBrZXkgYWN0aW9uICovXHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbk5vZGUgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uTm9kZSgpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgODogLyoqYmFja3NwYWNlIGtleSovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWwuaXNGb3JtYXRFbGVtZW50KHNlbGVjdGlvbk5vZGUpICYmIHV0aWwuaXNXeXNpd3lnRGl2KHNlbGVjdGlvbk5vZGUucGFyZW50Tm9kZSkgJiYgc2VsZWN0aW9uTm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25Ob2RlLmlubmVySFRNTCA9IHV0aWwuemVyb1dpZHRoU3BhY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqdGFiIGtleSovXHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHJsIHx8IGFsdCkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jb250cm9sbGVyc09mZigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE5vZGUgPSBzZWxlY3Rpb25Ob2RlIHx8IGVkaXRvci5nZXRTZWxlY3Rpb25Ob2RlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCF1dGlsLmlzQ2VsbChjdXJyZW50Tm9kZSkgJiYgIXV0aWwuaXNXeXNpd3lnRGl2KGN1cnJlbnROb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUgJiYgdXRpbC5pc0NlbGwoY3VycmVudE5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gdXRpbC5nZXRQYXJlbnRFbGVtZW50KGN1cnJlbnROb2RlLCAndGFibGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbHMgPSB1dGlsLmdldExpc3RDaGlsZHJlbih0YWJsZSwgdXRpbC5pc0NlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWR4ID0gc2hpZnQgPyB1dGlsLnByZXZJZHgoY2VsbHMsIGN1cnJlbnROb2RlKSA6IHV0aWwubmV4dElkeChjZWxscywgY3VycmVudE5vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gY2VsbHMubGVuZ3RoICYmICFzaGlmdCkgaWR4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEgJiYgc2hpZnQpIGlkeCA9IGNlbGxzLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3ZlQ2VsbCA9IGNlbGxzW2lkeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW92ZUNlbGwpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRSYW5nZShtb3ZlQ2VsbCwgMCwgbW92ZUNlbGwsIDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKiogZm9ybWF0IFRhZyAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gZWRpdG9yLmdldFNlbGVjdGVkRm9ybWF0RWxlbWVudHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWJUZXh0ID0gdXRpbC5jcmVhdGVUZXh0Tm9kZShuZXcgQXJyYXkoZWRpdG9yLl92YXJpYWJsZS50YWJTaXplICsgMSkuam9pbignXFx1MDBBMCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmluc2VydE5vZGUodGFiVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0UmFuZ2UodGFiVGV4dCwgZWRpdG9yLl92YXJpYWJsZS50YWJTaXplLCB0YWJUZXh0LCBlZGl0b3IuX3ZhcmlhYmxlLnRhYlNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGxpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0uaW5zZXJ0QmVmb3JlKHRhYlRleHQuY2xvbmVOb2RlKGZhbHNlKSwgbGluZXNbaV0uZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbGluZXMubGVuZ3RoLCBjaGlsZDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGxpbmVzW2ldLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15cXHN7MSw0fSQvLnRlc3QoY2hpbGQudGV4dENvbnRlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVJdGVtKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL15cXHN7MSw0fS8udGVzdChjaGlsZC50ZXh0Q29udGVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC50ZXh0Q29udGVudCA9IGNoaWxkLnRleHRDb250ZW50LnJlcGxhY2UoL15cXHN7MSw0fS8sICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh1c2VyRnVuY3Rpb24ub25LZXlEb3duKSB1c2VyRnVuY3Rpb24ub25LZXlEb3duKGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uS2V5VXBfd3lzaXd5ZzogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZWRpdG9yLl9lZGl0b3JSYW5nZSgpO1xyXG4gICAgICAgICAgICBlZGl0b3IuY29udHJvbGxlcnNPZmYoKTtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uTm9kZSA9IGVkaXRvci5nZXRTZWxlY3Rpb25Ob2RlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZWRpdG9yLl9pc0JhbGxvb24gJiYgIWVkaXRvci5nZXRSYW5nZSgpLmNvbGxhcHNlZCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuX3Nob3dUb29sYmFyQmFsbG9vbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiogd2hlbiBmb3JtYXQgdGFnIGRlbGV0ZWQgKi9cclxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gOCAmJiB1dGlsLmlzV3lzaXd5Z0RpdihzZWxlY3Rpb25Ob2RlKSAmJiBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy50ZXh0Q29udGVudC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb0Zvcm1hdFRhZyA9IHV0aWwuY3JlYXRlRWxlbWVudCh1dGlsLmlzRm9ybWF0RWxlbWVudChlZGl0b3IuX3ZhcmlhYmxlLmN1cnJlbnROb2Rlc1swXSkgPyBlZGl0b3IuX3ZhcmlhYmxlLmN1cnJlbnROb2Rlc1swXSA6ICdQJyk7XHJcbiAgICAgICAgICAgICAgICBvRm9ybWF0VGFnLmlubmVySFRNTCA9IHV0aWwuemVyb1dpZHRoU3BhY2U7XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uTm9kZS5hcHBlbmRDaGlsZChvRm9ybWF0VGFnKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXRSYW5nZShvRm9ybWF0VGFnLCAwLCBvRm9ybWF0VGFnLCAwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCh1dGlsLmlzV3lzaXd5Z0RpdihzZWxlY3Rpb25Ob2RlLnBhcmVudEVsZW1lbnQpIHx8IHV0aWwuaXNSYW5nZUZvcm1hdEVsZW1lbnQoc2VsZWN0aW9uTm9kZS5wYXJlbnRFbGVtZW50KSkgJiYgc2VsZWN0aW9uTm9kZS5ub2RlVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCdmb3JtYXRCbG9jaycsIGZhbHNlLCB1dGlsLmlzV3lzaXd5Z0RpdihzZWxlY3Rpb25Ob2RlLnBhcmVudEVsZW1lbnQpID8gJ1AnIDogJ0RJVicpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuX2ZpbmRCdXR0b25FZmZlY3RUYWcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50Ll9kaXJlY3Rpb25LZXlLZXlDb2RlLnRlc3QoZS5rZXlDb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuX2ZpbmRCdXR0b25FZmZlY3RUYWcoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXJGdW5jdGlvbi5vbktleVVwKSB1c2VyRnVuY3Rpb24ub25LZXlVcChlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvblNjcm9sbF93eXNpd3lnOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY29udHJvbGxlcnNPZmYoKTtcclxuICAgICAgICAgICAgaWYgKHVzZXJGdW5jdGlvbi5vblNjcm9sbCkgdXNlckZ1bmN0aW9uLm9uU2Nyb2xsKGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uRHJvcF93eXNpd3lnOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbFBsdWdpbignaW1hZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbWFnZS5pbWdJbnB1dEZpbGUuZmlsZXMgPSBmaWxlcztcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IucGx1Z2lucy5pbWFnZS5vblJlbmRlcl9pbWdJbnB1dC5jYWxsKGVkaXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbWFnZS5pbWdJbnB1dEZpbGUuZmlsZXMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh1c2VyRnVuY3Rpb24ub25Ecm9wKSB1c2VyRnVuY3Rpb24ub25Ecm9wKGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uTW91c2VEb3duX3Jlc2l6aW5nQmFyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLl92YXJpYWJsZS5yZXNpemVDbGllbnRZID0gZS5jbGllbnRZO1xyXG4gICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQucmVzaXplQmFja2dyb3VuZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsb3N1cmVGdW5jKCkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LnJlc2l6ZUJhY2tncm91bmQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIF9kLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGV2ZW50Ll9yZXNpemVfZWRpdG9yKTtcclxuICAgICAgICAgICAgICAgIF9kLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBjbG9zdXJlRnVuYyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF9kLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGV2ZW50Ll9yZXNpemVfZWRpdG9yKTtcclxuICAgICAgICAgICAgX2QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNsb3N1cmVGdW5jKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfcmVzaXplX2VkaXRvcjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzaXplSW50ZXJ2YWwgPSBjb250ZXh0LmVsZW1lbnQuZWRpdG9yQXJlYS5vZmZzZXRIZWlnaHQgKyAoZS5jbGllbnRZIC0gZWRpdG9yLl92YXJpYWJsZS5yZXNpemVDbGllbnRZKTtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuc3R5bGUuaGVpZ2h0ID0gY29udGV4dC5lbGVtZW50LmNvZGUuc3R5bGUuaGVpZ2h0ID0gKHJlc2l6ZUludGVydmFsIDwgZWRpdG9yLl92YXJpYWJsZS5taW5SZXNpemluZ1NpemUgPyBlZGl0b3IuX3ZhcmlhYmxlLm1pblJlc2l6aW5nU2l6ZSA6IHJlc2l6ZUludGVydmFsKSArICdweCc7XHJcbiAgICAgICAgICAgIGVkaXRvci5fdmFyaWFibGUucmVzaXplQ2xpZW50WSA9IGUuY2xpZW50WTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvblJlc2l6ZV93aW5kb3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNvbnRleHQuZWxlbWVudC50b29sYmFyLm9mZnNldFdpZHRoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoZWRpdG9yLl92YXJpYWJsZS5pc0Z1bGxTY3JlZW4pIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5fdmFyaWFibGUuaW5uZXJIZWlnaHRfZnVsbFNjcmVlbiArPSAoX3cuaW5uZXJIZWlnaHQgLSBjb250ZXh0LmVsZW1lbnQudG9vbGJhci5vZmZzZXRIZWlnaHQpIC0gZWRpdG9yLl92YXJpYWJsZS5pbm5lckhlaWdodF9mdWxsU2NyZWVuO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmVkaXRvckFyZWEuc3R5bGUuaGVpZ2h0ID0gZWRpdG9yLl92YXJpYWJsZS5pbm5lckhlaWdodF9mdWxsU2NyZWVuICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlZGl0b3IuX3ZhcmlhYmxlLl9zdGlja3kpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC50b29sYmFyLnN0eWxlLndpZHRoID0gKGNvbnRleHQuZWxlbWVudC50b3BBcmVhLm9mZnNldFdpZHRoIC0gMikgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQub25TY3JvbGxfd2luZG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5jb250cm9sbGVyc09mZigpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uU2Nyb2xsX3dpbmRvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZWRpdG9yLl92YXJpYWJsZS5pc0Z1bGxTY3JlZW4gfHwgY29udGV4dC5lbGVtZW50LnRvb2xiYXIub2Zmc2V0V2lkdGggPT09IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb250ZXh0LmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGVkaXRvckhlaWdodCA9IGVsZW1lbnQuZWRpdG9yQXJlYS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGVkaXRvclRvcCA9IGVsZW1lbnQudG9wQXJlYS5vZmZzZXRUb3AgLSAoZWRpdG9yLl9pc0lubGluZSA/IGVsZW1lbnQudG9vbGJhci5vZmZzZXRIZWlnaHQgOiAwKTtcclxuICAgICAgICAgICAgY29uc3QgeSA9ICh0aGlzLnNjcm9sbFkgfHwgX2QuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgKyBjb250ZXh0Lm9wdGlvbi5zdGlja3lUb29sYmFyO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHkgPCBlZGl0b3JUb3ApIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50Ll9vZmZTdGlja3lUb29sYmFyKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHkgKyBlZGl0b3IuX3ZhcmlhYmxlLm1pblJlc2l6aW5nU2l6ZSA+PSBlZGl0b3JIZWlnaHQgKyBlZGl0b3JUb3ApIHtcclxuICAgICAgICAgICAgICAgIGlmICghZWRpdG9yLl92YXJpYWJsZS5fc3RpY2t5KSBldmVudC5fb25TdGlja3lUb29sYmFyKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC50b29sYmFyLnN0eWxlLnRvcCA9IChlZGl0b3JIZWlnaHQgKyBlZGl0b3JUb3AgKyBjb250ZXh0Lm9wdGlvbi5zdGlja3lUb29sYmFyIC15IC0gZWRpdG9yLl92YXJpYWJsZS5taW5SZXNpemluZ1NpemUpICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh5ID49IGVkaXRvclRvcCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuX29uU3RpY2t5VG9vbGJhcihlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIF9vblN0aWNreVRvb2xiYXI6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghZWRpdG9yLl9pc0lubGluZSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5fc3RpY2t5RHVtbXkuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC50b29sYmFyLm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Ll9zdGlja3lEdW1teS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWxlbWVudC50b29sYmFyLnN0eWxlLnRvcCA9IGNvbnRleHQub3B0aW9uLnN0aWNreVRvb2xiYXIgKyAncHgnO1xyXG4gICAgICAgICAgICBlbGVtZW50LnRvb2xiYXIuc3R5bGUud2lkdGggPSBlZGl0b3IuX2lzSW5saW5lID8gZWRpdG9yLl9pbmxpbmVUb29sYmFyQXR0ci53aWR0aCA6IGVsZW1lbnQudG9vbGJhci5vZmZzZXRXaWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIHV0aWwuYWRkQ2xhc3MoZWxlbWVudC50b29sYmFyLCAnc3VuLWVkaXRvci1zdGlja3knKTtcclxuICAgICAgICAgICAgZWRpdG9yLl92YXJpYWJsZS5fc3RpY2t5ID0gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfb2ZmU3RpY2t5VG9vbGJhcjogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5fc3RpY2t5RHVtbXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgZWxlbWVudC50b29sYmFyLnN0eWxlLnRvcCA9IGVkaXRvci5faXNJbmxpbmUgPyBlZGl0b3IuX2lubGluZVRvb2xiYXJBdHRyLnRvcCA6ICcnO1xyXG4gICAgICAgICAgICBlbGVtZW50LnRvb2xiYXIuc3R5bGUud2lkdGggPSBlZGl0b3IuX2lzSW5saW5lID8gZWRpdG9yLl9pbmxpbmVUb29sYmFyQXR0ci53aWR0aCA6ICcnO1xyXG4gICAgICAgICAgICBlbGVtZW50LmVkaXRvckFyZWEuc3R5bGUubWFyZ2luVG9wID0gJyc7XHJcbiAgICAgICAgICAgIHV0aWwucmVtb3ZlQ2xhc3MoZWxlbWVudC50b29sYmFyLCAnc3VuLWVkaXRvci1zdGlja3knKTtcclxuICAgICAgICAgICAgZWRpdG9yLl92YXJpYWJsZS5fc3RpY2t5ID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2NvZGVWaWV3QXV0b1Njcm9sbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQuY29kZS5zdHlsZS5oZWlnaHQgPSBjb250ZXh0LmVsZW1lbnQuY29kZS5zY3JvbGxIZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uUGFzdGVfd3lzaXd5ZzogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjbGVhbkRhdGEgPSB1dGlsLmNsZWFuSFRNTChlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9odG1sJykpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGNsZWFuRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCdpbnNlcnRIVE1MJywgZmFsc2UsIGNsZWFuRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKiogYWRkIGV2ZW50IGxpc3RlbmVycyAqL1xyXG4gICAgLyoqIHRvb2xiYXIgZXZlbnQgKi9cclxuICAgIGNvbnRleHQuZWxlbWVudC50b29sYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2ZW50Lm9uTW91c2VEb3duX3Rvb2xiYXIsIGZhbHNlKTtcclxuICAgIGNvbnRleHQuZWxlbWVudC50b29sYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQub25DbGlja190b29sYmFyLCBmYWxzZSk7XHJcbiAgICAvKiogZWRpdG9yIGFyZWEgKi9cclxuICAgIGNvbnRleHQuZWxlbWVudC5yZWxhdGl2ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVkaXRvci5mb2N1cy5iaW5kKGVkaXRvciksIGZhbHNlKTtcclxuICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldmVudC5vbk1vdXNlVXBfd3lzaXd5ZywgZmFsc2UpO1xyXG4gICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudC5vbkNsaWNrX3d5c2l3eWcsIGZhbHNlKTtcclxuICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGV2ZW50Lm9uU2Nyb2xsX3d5c2l3eWcsIGZhbHNlKTtcclxuICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudC5vbktleURvd25fd3lzaXd5ZywgZmFsc2UpO1xyXG4gICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBldmVudC5vbktleVVwX3d5c2l3eWcsIGZhbHNlKTtcclxuICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBldmVudC5vbkRyb3Bfd3lzaXd5ZywgZmFsc2UpO1xyXG4gICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBldmVudC5vblBhc3RlX3d5c2l3eWcsIGZhbHNlKTtcclxuICAgIFxyXG4gICAgLyoqIGNvZGUgdmlldyBhcmVhIGF1dG8gbGluZSAqL1xyXG4gICAgaWYgKGNvbnRleHQub3B0aW9uLmhlaWdodCA9PT0gJ2F1dG8nKSBjb250ZXh0LmVsZW1lbnQuY29kZS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50Ll9jb2RlVmlld0F1dG9TY3JvbGwsIGZhbHNlKTtcclxuXHJcbiAgICAvKiogcmVzaXppbmdCYXIgKi9cclxuICAgIGlmIChjb250ZXh0LmVsZW1lbnQucmVzaXppbmdCYXIpIHtcclxuICAgICAgICBpZiAoL1xcZCsvLnRlc3QoY29udGV4dC5vcHRpb24uaGVpZ2h0KSkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmVsZW1lbnQucmVzaXppbmdCYXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZXZlbnQub25Nb3VzZURvd25fcmVzaXppbmdCYXIsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1dGlsLmFkZENsYXNzKGNvbnRleHQuZWxlbWVudC5yZXNpemluZ0JhciwgJ25vbmUtcmVzaXplJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBpbmxpbmUgZWRpdG9yICovXHJcbiAgICBpZiAoZWRpdG9yLl9pc0lubGluZSkge1xyXG4gICAgICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZXZlbnQuX3Nob3dUb29sYmFySW5saW5lLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVkaXRvci5faXNJbmxpbmUgfHwgZWRpdG9yLl9pc0JhbGxvb24pIHtcclxuICAgICAgICBjb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZXZlbnQuX2hpZGVUb29sYmFyLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKiB3aW5kb3cgZXZlbnQgKi9cclxuICAgIF93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGV2ZW50Lm9uUmVzaXplX3dpbmRvdywgZmFsc2UpO1xyXG4gICAgaWYgKGNvbnRleHQub3B0aW9uLnN0aWNreVRvb2xiYXIgPiAtMSkgX3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZXZlbnQub25TY3JvbGxfd2luZG93LCBmYWxzZSk7XHJcblxyXG4gICAgLyoqIGFkZCBwbHVnaW4gdG8gcGx1Z2lucyBvYmplY3QgKi9cclxuICAgIGlmIChwbHVnaW5zKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocGx1Z2lucykubWFwKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICBsZXQgcGx1Z2luID0gcGx1Z2luc1trZXldO1xyXG4gICAgICAgICAgICBlZGl0b3IucGx1Z2luc1twbHVnaW4ubmFtZV0gPSB1dGlsLmNvcHlPYmoocGx1Z2luKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogVXNlciBmdW5jdGlvbiAqL1xyXG4gICAgY29uc3QgdXNlckZ1bmN0aW9uID0ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBFdmVudCBmdW5jdGlvbnNcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSBFdmVudCBPYmplY3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblNjcm9sbDogbnVsbCxcclxuICAgICAgICBvbkNsaWNrOiBudWxsLFxyXG4gICAgICAgIG9uS2V5RG93bjogbnVsbCxcclxuICAgICAgICBvbktleVVwOiBudWxsLFxyXG4gICAgICAgIG9uRHJvcDogbnVsbCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENhbGxlZCB3aGVuIHRoZSBpbWFnZSBpcyB1cGxvYWRlZCBvciB0aGUgdXBsb2FkZWQgaW1hZ2UgaXMgZGVsZXRlZFxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0SW1nRWxlbWVudCAtIEN1cnJlbnQgaW1nIGVsZW1lbnRcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBVcGxvYWRlZCBpbmRleFxyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNEZWxldGUgLSBXaGV0aGVyIG9yIG5vdCBpdCB3YXMgY2FsbGVkIGFmdGVyIHRoZSBkZWxldGUgb3BlcmF0aW9uXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGltYWdlSW5mbyAtIEltYWdlIGluZm8gb2JqZWN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25JbWFnZVVwbG9hZDogbnVsbCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENhbGxlZCB3aGVuIHRoZSBpbWFnZSBpcyB1cGxvYWQgZmFpbGVkXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGVycm9yTWVzc2FnZSAtIEVycm9yIG1lc3NhZ2VcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzdWx0IC0gUmVzdWx0IGluZm8gT2JqZWN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25JbWFnZVVwbG9hZEVycm9yOiBudWxsLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiBhIG5vdGljZSBhcmVhXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgLSBOb3RpY2UgbWVzc2FnZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG5vdGljZU9wZW46IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5hZGRNb2R1bGUoW25vdGljZV0pO1xyXG4gICAgICAgICAgICBub3RpY2Uub3Blbi5jYWxsKGVkaXRvciwgbWVzc2FnZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENsb3NlIGEgbm90aWNlIGFyZWFcclxuICAgICAgICAgKi9cclxuICAgICAgICBub3RpY2VDbG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuYWRkTW9kdWxlKFtub3RpY2VdKTtcclxuICAgICAgICAgICAgbm90aWNlLmNsb3NlLmNhbGwoZWRpdG9yKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29weWluZyB0aGUgY29udGVudHMgb2YgdGhlIGVkaXRvciB0byB0aGUgb3JpZ2luYWwgdGV4dGFyZWFcclxuICAgICAgICAgKi9cclxuICAgICAgICBzYXZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5vcmlnaW5FbGVtZW50LnZhbHVlID0gZWRpdG9yLmdldENvbnRlbnRzKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEdldHMgdGhlIHN1bmVkaXRvcidzIGNvbnRleHQgb2JqZWN0LiBDb250YWlucyBzZXR0aW5ncywgcGx1Z2lucywgYW5kIGNhY2hlZCBlbGVtZW50IG9iamVjdHNcclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEdldHMgdGhlIGNvbnRlbnRzIG9mIHRoZSBzdW5lZGl0b3JcclxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldENvbnRlbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlZGl0b3IuZ2V0Q29udGVudHMoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyB1cGxvYWRlZCBpbWFnZXMgaW5mb3JtYXRpb25zXHJcbiAgICAgICAgICogQHJldHVybnMge0FycmF5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldEltYWdlc0luZm86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVkaXRvci5fdmFyaWFibGUuX2ltYWdlc0luZm87XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgYW4gSFRNTCBlbGVtZW50IG9yIEhUTUwgc3RyaW5nIG9yIHBsYWluIHN0cmluZyBhdCB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb25cclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBodG1sIC0gSFRNTCBFbGVtZW50IG9yIEhUTUwgc3RyaW5nIG9yIHBsYWluIHN0cmluZ1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluc2VydEhUTUw6IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgICAgICAgICAgIGlmICghaHRtbC5ub2RlVHlwZSB8fCBodG1sLm5vZGVUeXBlICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHV0aWwuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgICAgICAgICBodG1sID0gdGVtcGxhdGUuZmlyc3RDaGlsZCB8fCB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5pbnNlcnROb2RlKGh0bWwpO1xyXG4gICAgICAgICAgICBlZGl0b3IuZm9jdXMoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2hhbmdlIHRoZSBjb250ZW50cyBvZiB0aGUgc3VuZWRpdG9yXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIC0gQ29udGVudHMgdG8gSW5wdXRcclxuICAgICAgICAgKi9cclxuICAgICAgICBzZXRDb250ZW50czogZnVuY3Rpb24gKGNvbnRlbnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IuX3ZhcmlhYmxlLnd5c2l3eWdBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC53eXNpd3lnLmlubmVySFRNTCA9IHV0aWwuY29udmVydENvbnRlbnRzRm9yRWRpdG9yKGNvbnRlbnRzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5jb2RlLnZhbHVlID0gY29udGVudHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkIGNvbnRlbnRzIHRvIHRoZSBzdW5lZGl0b3JcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgLSBDb250ZW50cyB0byBJbnB1dFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFwcGVuZENvbnRlbnRzOiBmdW5jdGlvbiAoY29udGVudHMpIHtcclxuICAgICAgICAgICAgaWYgKGVkaXRvci5fdmFyaWFibGUud3lzaXd5Z0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuaW5uZXJIVE1MICs9IHV0aWwuY29udmVydENvbnRlbnRzRm9yRWRpdG9yKGNvbnRlbnRzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5jb2RlLnZhbHVlICs9IGNvbnRlbnRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERpc2FibGUgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRpc2FibGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQudG9vbC5jb3Zlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC5jb2RlLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRW5hYmxlZCB0aGUgc3VuZWRpdG9yXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZW5hYmxlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnRvb2wuY292ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50Lnd5c2l3eWcuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgY29udGV4dC5lbGVtZW50LmNvZGUucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IHRoZSBzdW5lZGl0b3JcclxuICAgICAgICAgKi9cclxuICAgICAgICBzaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvcEFyZWFTdHlsZSA9IGNvbnRleHQuZWxlbWVudC50b3BBcmVhLnN0eWxlO1xyXG4gICAgICAgICAgICBpZiAodG9wQXJlYVN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgdG9wQXJlYVN0eWxlLmRpc3BsYXkgPSBjb250ZXh0Lm9wdGlvbi5kaXNwbGF5O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBIaWRlIHRoZSBzdW5lZGl0b3JcclxuICAgICAgICAgKi9cclxuICAgICAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZWxlbWVudC50b3BBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlc3Ryb3kgdGhlIHN1bmVkaXRvclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLyoqIHJlbW92ZSB3aW5kb3cgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgICAgIF93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGV2ZW50Lm9uUmVzaXplX3dpbmRvdyk7XHJcbiAgICAgICAgICAgIF93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGV2ZW50Lm9uU2Nyb2xsX3dpbmRvdyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvKiogcmVtb3ZlIGVsZW1lbnQgKi9cclxuICAgICAgICAgICAgdXRpbC5yZW1vdmVJdGVtKGNvbnRleHQuZWxlbWVudC50b3BBcmVhKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub25TY3JvbGwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2sgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm9uS2V5RG93biA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMub25LZXlVcCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMub25Ecm9wID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zYXZlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5vbkltYWdlVXBsb2FkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5vbkltYWdlVXBsb2FkRXJyb3IgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm5vdGljZU9wZW4gPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm5vdGljZUNsb3NlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5nZXRDb250ZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5nZXRDb250ZW50cyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0SW1hZ2VzSW5mbyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0SFRNTCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudHMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGVuZENvbnRlbnRzID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgcGx1Z2lucyA9IG51bGw7XHJcbiAgICAgICAgICAgIGxhbmcgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHVzZXJGdW5jdGlvbjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvcmU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9saWIvY29yZS5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/**\r\n * @description document create - call _createToolBar()\r\n * @param {element} element - textarea\r\n * @param {JSON} options - user options\r\n * @param {JSON} lang - user language\r\n * @param {JSON} _plugins - plugins object\r\n * @returns {JSON}\r\n * @private\r\n */\r\nconst _Constructor = {\r\n    init: function (element, options, lang, _plugins) {\r\n        if (typeof options !== 'object') options = {};\r\n    \r\n        /** user options */\r\n        options.lang = lang;\r\n        // toolbar\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon\r\n        options.toolbarWidth = options.toolbarWidth ? (/^\\d+$/.test(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'max-content';\r\n        options.stickyToolbar = /balloon/i.test(options.mode) ? -1 : options.stickyToolbar === undefined ? 0 : (/\\d+/.test(options.stickyToolbar) ? options.stickyToolbar.toString().match(/\\d+/)[0] * 1 : -1);\r\n        // bottom resizing bar\r\n        options.resizingBar = /inline|balloon/i.test(options.mode) ? false : options.resizingBar === undefined ? true : options.resizingBar;\r\n        options.showPathLabel = typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        // popup, editor display\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        // size\r\n        options.width = options.width ? (/^\\d+$/.test(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.height = options.height ? (/^\\d+$/.test(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (/^\\d+$/.test(options.minHeight) ? options.height + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (/^\\d+$/.test(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        // font, size, color list\r\n        options.font = options.font || null;\r\n        options.fontSize = options.fontSize || null;\r\n        options.colorList = options.colorList || null;\r\n        // images\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageWidth = options.imageWidth || 'auto';\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadUrl = options.imageUploadUrl || null;\r\n        // video\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoWidth = options.videoWidth || 560;\r\n        options.videoHeight = options.videoHeight || 315;\r\n        // callBack function\r\n        // options.callBackSave = options.callBackSave;\r\n        // buttons\r\n        options.buttonList = options.buttonList || [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['indent', 'outdent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n    \r\n        const doc = document;\r\n    \r\n        /** suneditor div */\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor';\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n        top_div.style.width = options.width;\r\n        top_div.style.display = options.display;\r\n    \r\n        /** relative div */\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'sun-editor-container';\r\n    \r\n        /** toolbar */\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, _plugins, lang);\r\n\r\n        let arrow = null;\r\n        if (/inline|balloon/i.test(options.mode)) {\r\n            tool_bar.element.className += ' sun-inline-toolbar';\r\n            tool_bar.element.style.width = options.toolbarWidth;\r\n            if (/balloon/i.test(options.mode)) {\r\n                arrow = doc.createElement('DIV');\r\n                arrow.className = 'arrow';\r\n                tool_bar.element.appendChild(arrow);\r\n            }\r\n        }\r\n\r\n        /** sticky toolbar dummy */\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'sun-editor-sticky-dummy';\r\n    \r\n        /** inner editor div */\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'sun-editor-id-editorArea';\r\n    \r\n        /** wysiwyg div */\r\n        const wysiwyg_div = doc.createElement('DIV');\r\n        wysiwyg_div.setAttribute('contenteditable', true);\r\n        wysiwyg_div.setAttribute('scrolling', 'auto');\r\n        wysiwyg_div.className = 'input_editor sun-editor-id-wysiwyg sun-editor-editable';\r\n        wysiwyg_div.style.display = 'block';\r\n        wysiwyg_div.innerHTML = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].convertContentsForEditor(element.value);\r\n        wysiwyg_div.style.height = options.height;\r\n        wysiwyg_div.style.minHeight = options.minHeight;\r\n        wysiwyg_div.style.maxHeight = options.maxHeight;\r\n    \r\n        /** textarea for code view */\r\n        const textarea = doc.createElement('TEXTAREA');\r\n        textarea.className = 'input_editor sun-editor-id-code';\r\n        textarea.style.display = 'none';\r\n        textarea.style.height = options.height;\r\n        textarea.style.minHeight = options.minHeight;\r\n        textarea.style.maxHeight = options.maxHeight;\r\n    \r\n        /** resize bar */\r\n        let resizing_bar = null;\r\n        if (options.resizingBar) {\r\n            resizing_bar = doc.createElement('DIV');\r\n            resizing_bar.className = 'sun-editor-id-resizingBar sun-editor-common';\r\n        }\r\n    \r\n        /** navigation */\r\n        const navigation = doc.createElement('SPAN');\r\n        navigation.className = 'sun-editor-id-navigation sun-editor-common';\r\n    \r\n        /** loading box */\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'sun-editor-id-loading sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"loading-effect\"></div>';\r\n    \r\n        /** resize operation background */\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'sun-editor-id-resize-background';\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(wysiwyg_div);\r\n        editor_div.appendChild(textarea);\r\n        relative.appendChild(tool_bar.element);\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n\r\n        if (resizing_bar) {\r\n            resizing_bar.appendChild(navigation);\r\n            relative.appendChild(resizing_bar);\r\n        }\r\n        \r\n        top_div.appendChild(relative);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _loading: loading_box,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @private\r\n     */\r\n    _defaultButtons: function (lang) {\r\n        return {\r\n            /** command */\r\n            bold: ['sun-editor-id-bold', lang.toolbar.bold + '(Ctrl+B)', 'bold', '',\r\n                '<div class=\"icon-bold\"></div>'\r\n            ],\r\n\r\n            underline: ['sun-editor-id-underline', lang.toolbar.underline + '(Ctrl+U)', 'underline', '',\r\n                '<div class=\"icon-underline\"></div>'\r\n            ],\r\n\r\n            italic: ['sun-editor-id-italic', lang.toolbar.italic + '(Ctrl+I)', 'italic', '',\r\n                '<div class=\"icon-italic\"></div>'\r\n            ],\r\n\r\n            strike: ['sun-editor-id-strike', lang.toolbar.strike + '(Ctrl+SHIFT+S)', 'strikethrough', '',\r\n                '<div class=\"icon-strokethrough\"></div>'\r\n            ],\r\n\r\n            subscript: ['sun-editor-id-subscript', lang.toolbar.subscript, 'subscript', '',\r\n                '<div class=\"icon-subscript\"></div>'\r\n            ],\r\n\r\n            superscript: ['sun-editor-id-superscript', lang.toolbar.superscript, 'superscript', '',\r\n                '<div class=\"icon-superscript\"></div>'\r\n            ],\r\n\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '',\r\n                '<div class=\"icon-erase\"></div>'\r\n            ],\r\n\r\n            indent: ['', lang.toolbar.indent + '(Ctrl + ])', 'indent', '',\r\n                '<div class=\"icon-indent-right\"></div>'\r\n            ],\r\n\r\n            outdent: ['', lang.toolbar.outdent + '(Ctrl + [)', 'outdent', '',\r\n                '<div class=\"icon-indent-left\"></div>'\r\n            ],\r\n\r\n            fullScreen: ['code-view-enabled', lang.toolbar.fullScreen, 'fullScreen', '',\r\n                '<div class=\"icon-expansion\"></div>'\r\n            ],\r\n\r\n            showBlocks: ['', lang.toolbar.showBlocks, 'showBlocks', '',\r\n                '<div class=\"icon-showBlocks\"></div>'\r\n            ],\r\n\r\n            codeView: ['code-view-enabled', lang.toolbar.codeView, 'codeView', '',\r\n                '<div class=\"icon-code-view\"></div>'\r\n            ],\r\n\r\n            undo: ['code-view-enabled', lang.toolbar.undo + ' (Ctrl+Z)', 'undo', '',\r\n                '<div class=\"icon-undo\"></div>'\r\n            ],\r\n\r\n            redo: ['code-view-enabled', lang.toolbar.redo + ' (Ctrl+Y)', 'redo', '',\r\n                '<div class=\"icon-redo\"></div>'\r\n            ],\r\n\r\n            preview: ['', lang.toolbar.preview, 'preview', '',\r\n                '<div class=\"icon-preview\"></div>'\r\n            ],\r\n\r\n            print: ['', lang.toolbar.print, 'print', '',\r\n                '<div class=\"icon-print\"></div>'\r\n            ],\r\n\r\n            save: ['', lang.toolbar.save, 'save', '',\r\n                '<div class=\"icon-save\"></div>'\r\n            ],\r\n\r\n            /** plugins - submenu */\r\n            font: ['btn_font', lang.toolbar.font, 'font', 'submenu',\r\n                '<span class=\"txt sun-editor-font-family\">' + lang.toolbar.font + '</span><span class=\"icon-arrow-down\"></span>'\r\n            ],\r\n            formatBlock: ['btn_format', lang.toolbar.formats, 'formatBlock', 'submenu',\r\n                '<span class=\"txt sun-editor-font-format\">' + lang.toolbar.formats + '</span><span class=\"icon-arrow-down\"></span>'\r\n            ],\r\n\r\n            fontSize: ['btn_size', lang.toolbar.fontSize, 'fontSize', 'submenu',\r\n                '<span class=\"txt sun-editor-font-size\">' + lang.toolbar.fontSize + '</span><span class=\"icon-arrow-down\"></span>'\r\n            ],\r\n\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu',\r\n                '<div class=\"icon-fontColor\"></div>'\r\n            ],\r\n\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu',\r\n                '<div class=\"icon-hiliteColor\"></div>'\r\n            ],\r\n\r\n            align: ['btn_align', lang.toolbar.align, 'align', 'submenu',\r\n                '<div class=\"icon-align-left\"></div>'\r\n            ],\r\n\r\n            list: ['', lang.toolbar.list, 'list', 'submenu',\r\n                '<div class=\"icon-list-number\"></div>'\r\n            ],\r\n\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu',\r\n                '<div class=\"icon-hr\"></div>'\r\n            ],\r\n\r\n            table: ['', lang.toolbar.table, 'table', 'submenu',\r\n                '<div class=\"icon-grid\"></div>'\r\n            ],\r\n\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog',\r\n                '<div class=\"icon-link\"></div>'\r\n            ],\r\n\r\n            image: ['', lang.toolbar.image, 'image', 'dialog',\r\n                '<div class=\"icon-image\"></div>'\r\n            ],\r\n\r\n            video: ['', lang.toolbar.video, 'video', 'dialog',\r\n                '<div class=\"icon-video\"></div>'\r\n            ]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Element}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function (oneModule) {\r\n        const oDiv = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement('DIV');\r\n        oDiv.className = 'tool_module' + (oneModule ? '' : ' sun-editor-module-border');\r\n\r\n        const oUl = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement('UL');\r\n        oUl.className = 'editor_tool';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass - className in button\r\n     * @param {string} title - Title in button\r\n     * @param {string} dataCommand - The data-command property of the button\r\n     * @param {string} dataDisplay - The data-display property of the button ('dialog', 'submenu')\r\n     * @param {string} innerHTML - Html in button\r\n     * @returns {Element}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML) {\r\n        const oLi = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement('LI');\r\n        const oButton = __WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* default */].createElement('BUTTON');\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'btn_editor ' + buttonClass);\r\n        oButton.setAttribute('title', title);\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc - document object\r\n     * @param {Array} buttonList - option.buttonList\r\n     * @param {Array} lang - option.lang\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, _plugins, lang) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'sun-editor-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'sun-editor-id-toolbar sun-editor-common';\r\n\r\n        /** create button list */\r\n        const defaultButtonList = this._defaultButtons(lang);\r\n        const plugins = {};\r\n        if (_plugins) {\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(e) { return _plugins[e]; });\r\n            for (let i = 0, len = pluginsValues.length; i < len; i++) {\r\n                plugins[pluginsValues[i].name] = pluginsValues[i];\r\n            }\r\n        }\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const oneModule = buttonList.length === 1;\r\n\r\n        for (let i = 0; i < buttonList.length; i++) {\r\n\r\n            const buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup(oneModule);\r\n\r\n            /** button object */\r\n            if (typeof buttonGroup === 'object') {\r\n                for (let j = 0; j < buttonGroup.length; j++) {\r\n\r\n                    button = buttonGroup[j];\r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.className, button.title, button.dataCommand, button.dataDisplay, button.displayOption, button.innerHTML];\r\n                        }\r\n                    } else {\r\n                        module = defaultButtonList[button];\r\n                        pluginName = button;\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4]);\r\n                    moduleElement.ul.appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        plugins[pluginName].buttonElement = buttonElement.button;\r\n                    }\r\n                }\r\n\r\n                if (vertical) tool_bar.appendChild(separator_vertical.cloneNode(false));\r\n                tool_bar.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'tool_module_enter';\r\n                tool_bar.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'sun-editor-id-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins\r\n        };\r\n    }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (_Constructor);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9saWIvY29uc3RydWN0b3IuanM/NzM0NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWE7O0FBRTFCO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsS0FBSztBQUNoQixXQUFXLEtBQUs7QUFDaEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFJO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0RBQUk7QUFDekI7O0FBRUEsb0JBQW9CLHNEQUFJO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQUk7QUFDeEIsd0JBQXdCLHNEQUFJOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsTUFBTTtBQUNyQixlQUFlLE1BQU07QUFDckIsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyxvQkFBb0IsRUFBRTtBQUM1SCx1REFBdUQsU0FBUztBQUNoRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLHVCQUF1Qjs7QUFFOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLHdCQUF3Qjs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxxRUFBWSIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgdXRpbCBmcm9tICcuL3V0aWwnO1xyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvbiBkb2N1bWVudCBjcmVhdGUgLSBjYWxsIF9jcmVhdGVUb29sQmFyKClcclxuICogQHBhcmFtIHtlbGVtZW50fSBlbGVtZW50IC0gdGV4dGFyZWFcclxuICogQHBhcmFtIHtKU09OfSBvcHRpb25zIC0gdXNlciBvcHRpb25zXHJcbiAqIEBwYXJhbSB7SlNPTn0gbGFuZyAtIHVzZXIgbGFuZ3VhZ2VcclxuICogQHBhcmFtIHtKU09OfSBfcGx1Z2lucyAtIHBsdWdpbnMgb2JqZWN0XHJcbiAqIEByZXR1cm5zIHtKU09OfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgX0NvbnN0cnVjdG9yID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMsIGxhbmcsIF9wbHVnaW5zKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykgb3B0aW9ucyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgLyoqIHVzZXIgb3B0aW9ucyAqL1xyXG4gICAgICAgIG9wdGlvbnMubGFuZyA9IGxhbmc7XHJcbiAgICAgICAgLy8gdG9vbGJhclxyXG4gICAgICAgIG9wdGlvbnMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCAnY2xhc3NpYyc7IC8vIGNsYXNzaWMsIGlubGluZSwgYmFsbG9vblxyXG4gICAgICAgIG9wdGlvbnMudG9vbGJhcldpZHRoID0gb3B0aW9ucy50b29sYmFyV2lkdGggPyAoL15cXGQrJC8udGVzdChvcHRpb25zLnRvb2xiYXJXaWR0aCkgPyBvcHRpb25zLnRvb2xiYXJXaWR0aCArICdweCcgOiBvcHRpb25zLnRvb2xiYXJXaWR0aCkgOiAnbWF4LWNvbnRlbnQnO1xyXG4gICAgICAgIG9wdGlvbnMuc3RpY2t5VG9vbGJhciA9IC9iYWxsb29uL2kudGVzdChvcHRpb25zLm1vZGUpID8gLTEgOiBvcHRpb25zLnN0aWNreVRvb2xiYXIgPT09IHVuZGVmaW5lZCA/IDAgOiAoL1xcZCsvLnRlc3Qob3B0aW9ucy5zdGlja3lUb29sYmFyKSA/IG9wdGlvbnMuc3RpY2t5VG9vbGJhci50b1N0cmluZygpLm1hdGNoKC9cXGQrLylbMF0gKiAxIDogLTEpO1xyXG4gICAgICAgIC8vIGJvdHRvbSByZXNpemluZyBiYXJcclxuICAgICAgICBvcHRpb25zLnJlc2l6aW5nQmFyID0gL2lubGluZXxiYWxsb29uL2kudGVzdChvcHRpb25zLm1vZGUpID8gZmFsc2UgOiBvcHRpb25zLnJlc2l6aW5nQmFyID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy5yZXNpemluZ0JhcjtcclxuICAgICAgICBvcHRpb25zLnNob3dQYXRoTGFiZWwgPSB0eXBlb2Ygb3B0aW9ucy5zaG93UGF0aExhYmVsID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnNob3dQYXRoTGFiZWwgOiB0cnVlO1xyXG4gICAgICAgIC8vIHBvcHVwLCBlZGl0b3IgZGlzcGxheVxyXG4gICAgICAgIG9wdGlvbnMucG9wdXBEaXNwbGF5ID0gb3B0aW9ucy5wb3B1cERpc3BsYXkgfHwgJ2Z1bGwnO1xyXG4gICAgICAgIG9wdGlvbnMuZGlzcGxheSA9IG9wdGlvbnMuZGlzcGxheSB8fCAoZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgfHwgIWVsZW1lbnQuc3R5bGUuZGlzcGxheSA/ICdibG9jaycgOiBlbGVtZW50LnN0eWxlLmRpc3BsYXkpO1xyXG4gICAgICAgIC8vIHNpemVcclxuICAgICAgICBvcHRpb25zLndpZHRoID0gb3B0aW9ucy53aWR0aCA/ICgvXlxcZCskLy50ZXN0KG9wdGlvbnMud2lkdGgpID8gb3B0aW9ucy53aWR0aCArICdweCcgOiBvcHRpb25zLndpZHRoKSA6IChlbGVtZW50LmNsaWVudFdpZHRoID8gZWxlbWVudC5jbGllbnRXaWR0aCArICdweCcgOiAnMTAwJScpO1xyXG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgPyAoL15cXGQrJC8udGVzdChvcHRpb25zLmhlaWdodCkgPyBvcHRpb25zLmhlaWdodCArICdweCcgOiBvcHRpb25zLmhlaWdodCkgOiAoZWxlbWVudC5jbGllbnRIZWlnaHQgPyBlbGVtZW50LmNsaWVudEhlaWdodCArICdweCcgOiAnYXV0bycpO1xyXG4gICAgICAgIG9wdGlvbnMubWluSGVpZ2h0ID0gKC9eXFxkKyQvLnRlc3Qob3B0aW9ucy5taW5IZWlnaHQpID8gb3B0aW9ucy5oZWlnaHQgKyAncHgnIDogb3B0aW9ucy5taW5IZWlnaHQpIHx8ICcnO1xyXG4gICAgICAgIG9wdGlvbnMubWF4SGVpZ2h0ID0gKC9eXFxkKyQvLnRlc3Qob3B0aW9ucy5tYXhIZWlnaHQpID8gb3B0aW9ucy5tYXhIZWlnaHQgKyAncHgnIDogb3B0aW9ucy5tYXhIZWlnaHQpIHx8ICcnO1xyXG4gICAgICAgIC8vIGZvbnQsIHNpemUsIGNvbG9yIGxpc3RcclxuICAgICAgICBvcHRpb25zLmZvbnQgPSBvcHRpb25zLmZvbnQgfHwgbnVsbDtcclxuICAgICAgICBvcHRpb25zLmZvbnRTaXplID0gb3B0aW9ucy5mb250U2l6ZSB8fCBudWxsO1xyXG4gICAgICAgIG9wdGlvbnMuY29sb3JMaXN0ID0gb3B0aW9ucy5jb2xvckxpc3QgfHwgbnVsbDtcclxuICAgICAgICAvLyBpbWFnZXNcclxuICAgICAgICBvcHRpb25zLmltYWdlUmVzaXppbmcgPSBvcHRpb25zLmltYWdlUmVzaXppbmcgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLmltYWdlUmVzaXppbmc7XHJcbiAgICAgICAgb3B0aW9ucy5pbWFnZVdpZHRoID0gb3B0aW9ucy5pbWFnZVdpZHRoIHx8ICdhdXRvJztcclxuICAgICAgICBvcHRpb25zLmltYWdlRmlsZUlucHV0ID0gb3B0aW9ucy5pbWFnZUZpbGVJbnB1dCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMuaW1hZ2VGaWxlSW5wdXQ7XHJcbiAgICAgICAgb3B0aW9ucy5pbWFnZVVybElucHV0ID0gKG9wdGlvbnMuaW1hZ2VVcmxJbnB1dCA9PT0gdW5kZWZpbmVkIHx8ICFvcHRpb25zLmltYWdlRmlsZUlucHV0KSA/IHRydWUgOiBvcHRpb25zLmltYWdlVXJsSW5wdXQ7XHJcbiAgICAgICAgb3B0aW9ucy5pbWFnZVVwbG9hZFVybCA9IG9wdGlvbnMuaW1hZ2VVcGxvYWRVcmwgfHwgbnVsbDtcclxuICAgICAgICAvLyB2aWRlb1xyXG4gICAgICAgIG9wdGlvbnMudmlkZW9SZXNpemluZyA9IG9wdGlvbnMudmlkZW9SZXNpemluZyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMudmlkZW9SZXNpemluZztcclxuICAgICAgICBvcHRpb25zLnZpZGVvV2lkdGggPSBvcHRpb25zLnZpZGVvV2lkdGggfHwgNTYwO1xyXG4gICAgICAgIG9wdGlvbnMudmlkZW9IZWlnaHQgPSBvcHRpb25zLnZpZGVvSGVpZ2h0IHx8IDMxNTtcclxuICAgICAgICAvLyBjYWxsQmFjayBmdW5jdGlvblxyXG4gICAgICAgIC8vIG9wdGlvbnMuY2FsbEJhY2tTYXZlID0gb3B0aW9ucy5jYWxsQmFja1NhdmU7XHJcbiAgICAgICAgLy8gYnV0dG9uc1xyXG4gICAgICAgIG9wdGlvbnMuYnV0dG9uTGlzdCA9IG9wdGlvbnMuYnV0dG9uTGlzdCB8fCBbXHJcbiAgICAgICAgICAgIFsndW5kbycsICdyZWRvJ10sXHJcbiAgICAgICAgICAgIFsnYm9sZCcsICd1bmRlcmxpbmUnLCAnaXRhbGljJywgJ3N0cmlrZScsICdzdWJzY3JpcHQnLCAnc3VwZXJzY3JpcHQnXSxcclxuICAgICAgICAgICAgWydyZW1vdmVGb3JtYXQnXSxcclxuICAgICAgICAgICAgWydpbmRlbnQnLCAnb3V0ZGVudCddLFxyXG4gICAgICAgICAgICBbJ2Z1bGxTY3JlZW4nLCAnc2hvd0Jsb2NrcycsICdjb2RlVmlldyddLFxyXG4gICAgICAgICAgICBbJ3ByZXZpZXcnLCAncHJpbnQnXVxyXG4gICAgICAgIF07XHJcbiAgICBcclxuICAgICAgICBjb25zdCBkb2MgPSBkb2N1bWVudDtcclxuICAgIFxyXG4gICAgICAgIC8qKiBzdW5lZGl0b3IgZGl2ICovXHJcbiAgICAgICAgY29uc3QgdG9wX2RpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICB0b3BfZGl2LmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yJztcclxuICAgICAgICBpZiAoZWxlbWVudC5pZCkgdG9wX2Rpdi5pZCA9ICdzdW5lZGl0b3JfJyArIGVsZW1lbnQuaWQ7XHJcbiAgICAgICAgdG9wX2Rpdi5zdHlsZS53aWR0aCA9IG9wdGlvbnMud2lkdGg7XHJcbiAgICAgICAgdG9wX2Rpdi5zdHlsZS5kaXNwbGF5ID0gb3B0aW9ucy5kaXNwbGF5O1xyXG4gICAgXHJcbiAgICAgICAgLyoqIHJlbGF0aXZlIGRpdiAqL1xyXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgIHJlbGF0aXZlLmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWNvbnRhaW5lcic7XHJcbiAgICBcclxuICAgICAgICAvKiogdG9vbGJhciAqL1xyXG4gICAgICAgIGNvbnN0IHRvb2xfYmFyID0gdGhpcy5fY3JlYXRlVG9vbEJhcihkb2MsIG9wdGlvbnMuYnV0dG9uTGlzdCwgX3BsdWdpbnMsIGxhbmcpO1xyXG5cclxuICAgICAgICBsZXQgYXJyb3cgPSBudWxsO1xyXG4gICAgICAgIGlmICgvaW5saW5lfGJhbGxvb24vaS50ZXN0KG9wdGlvbnMubW9kZSkpIHtcclxuICAgICAgICAgICAgdG9vbF9iYXIuZWxlbWVudC5jbGFzc05hbWUgKz0gJyBzdW4taW5saW5lLXRvb2xiYXInO1xyXG4gICAgICAgICAgICB0b29sX2Jhci5lbGVtZW50LnN0eWxlLndpZHRoID0gb3B0aW9ucy50b29sYmFyV2lkdGg7XHJcbiAgICAgICAgICAgIGlmICgvYmFsbG9vbi9pLnRlc3Qob3B0aW9ucy5tb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgYXJyb3cgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgICAgICAgICBhcnJvdy5jbGFzc05hbWUgPSAnYXJyb3cnO1xyXG4gICAgICAgICAgICAgICAgdG9vbF9iYXIuZWxlbWVudC5hcHBlbmRDaGlsZChhcnJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiBzdGlja3kgdG9vbGJhciBkdW1teSAqL1xyXG4gICAgICAgIGNvbnN0IHN0aWNreV9kdW1teSA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICBzdGlja3lfZHVtbXkuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3Itc3RpY2t5LWR1bW15JztcclxuICAgIFxyXG4gICAgICAgIC8qKiBpbm5lciBlZGl0b3IgZGl2ICovXHJcbiAgICAgICAgY29uc3QgZWRpdG9yX2RpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICBlZGl0b3JfZGl2LmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlkLWVkaXRvckFyZWEnO1xyXG4gICAgXHJcbiAgICAgICAgLyoqIHd5c2l3eWcgZGl2ICovXHJcbiAgICAgICAgY29uc3Qgd3lzaXd5Z19kaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgd3lzaXd5Z19kaXYuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtcclxuICAgICAgICB3eXNpd3lnX2Rpdi5zZXRBdHRyaWJ1dGUoJ3Njcm9sbGluZycsICdhdXRvJyk7XHJcbiAgICAgICAgd3lzaXd5Z19kaXYuY2xhc3NOYW1lID0gJ2lucHV0X2VkaXRvciBzdW4tZWRpdG9yLWlkLXd5c2l3eWcgc3VuLWVkaXRvci1lZGl0YWJsZSc7XHJcbiAgICAgICAgd3lzaXd5Z19kaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgd3lzaXd5Z19kaXYuaW5uZXJIVE1MID0gdXRpbC5jb252ZXJ0Q29udGVudHNGb3JFZGl0b3IoZWxlbWVudC52YWx1ZSk7XHJcbiAgICAgICAgd3lzaXd5Z19kaXYuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgd3lzaXd5Z19kaXYuc3R5bGUubWluSGVpZ2h0ID0gb3B0aW9ucy5taW5IZWlnaHQ7XHJcbiAgICAgICAgd3lzaXd5Z19kaXYuc3R5bGUubWF4SGVpZ2h0ID0gb3B0aW9ucy5tYXhIZWlnaHQ7XHJcbiAgICBcclxuICAgICAgICAvKiogdGV4dGFyZWEgZm9yIGNvZGUgdmlldyAqL1xyXG4gICAgICAgIGNvbnN0IHRleHRhcmVhID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ1RFWFRBUkVBJyk7XHJcbiAgICAgICAgdGV4dGFyZWEuY2xhc3NOYW1lID0gJ2lucHV0X2VkaXRvciBzdW4tZWRpdG9yLWlkLWNvZGUnO1xyXG4gICAgICAgIHRleHRhcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUubWluSGVpZ2h0ID0gb3B0aW9ucy5taW5IZWlnaHQ7XHJcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUubWF4SGVpZ2h0ID0gb3B0aW9ucy5tYXhIZWlnaHQ7XHJcbiAgICBcclxuICAgICAgICAvKiogcmVzaXplIGJhciAqL1xyXG4gICAgICAgIGxldCByZXNpemluZ19iYXIgPSBudWxsO1xyXG4gICAgICAgIGlmIChvcHRpb25zLnJlc2l6aW5nQmFyKSB7XHJcbiAgICAgICAgICAgIHJlc2l6aW5nX2JhciA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICAgICAgcmVzaXppbmdfYmFyLmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlkLXJlc2l6aW5nQmFyIHN1bi1lZGl0b3ItY29tbW9uJztcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAvKiogbmF2aWdhdGlvbiAqL1xyXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb24gPSBkb2MuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xyXG4gICAgICAgIG5hdmlnYXRpb24uY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtbmF2aWdhdGlvbiBzdW4tZWRpdG9yLWNvbW1vbic7XHJcbiAgICBcclxuICAgICAgICAvKiogbG9hZGluZyBib3ggKi9cclxuICAgICAgICBjb25zdCBsb2FkaW5nX2JveCA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICBsb2FkaW5nX2JveC5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC1sb2FkaW5nIHN1bi1lZGl0b3ItY29tbW9uJztcclxuICAgICAgICBsb2FkaW5nX2JveC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImxvYWRpbmctZWZmZWN0XCI+PC9kaXY+JztcclxuICAgIFxyXG4gICAgICAgIC8qKiByZXNpemUgb3BlcmF0aW9uIGJhY2tncm91bmQgKi9cclxuICAgICAgICBjb25zdCByZXNpemVfYmFjayA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICByZXNpemVfYmFjay5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC1yZXNpemUtYmFja2dyb3VuZCc7XHJcbiAgICBcclxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cclxuICAgICAgICBlZGl0b3JfZGl2LmFwcGVuZENoaWxkKHd5c2l3eWdfZGl2KTtcclxuICAgICAgICBlZGl0b3JfZGl2LmFwcGVuZENoaWxkKHRleHRhcmVhKTtcclxuICAgICAgICByZWxhdGl2ZS5hcHBlbmRDaGlsZCh0b29sX2Jhci5lbGVtZW50KTtcclxuICAgICAgICByZWxhdGl2ZS5hcHBlbmRDaGlsZChzdGlja3lfZHVtbXkpO1xyXG4gICAgICAgIHJlbGF0aXZlLmFwcGVuZENoaWxkKGVkaXRvcl9kaXYpO1xyXG4gICAgICAgIHJlbGF0aXZlLmFwcGVuZENoaWxkKHJlc2l6ZV9iYWNrKTtcclxuICAgICAgICByZWxhdGl2ZS5hcHBlbmRDaGlsZChsb2FkaW5nX2JveCk7XHJcblxyXG4gICAgICAgIGlmIChyZXNpemluZ19iYXIpIHtcclxuICAgICAgICAgICAgcmVzaXppbmdfYmFyLmFwcGVuZENoaWxkKG5hdmlnYXRpb24pO1xyXG4gICAgICAgICAgICByZWxhdGl2ZS5hcHBlbmRDaGlsZChyZXNpemluZ19iYXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0b3BfZGl2LmFwcGVuZENoaWxkKHJlbGF0aXZlKTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdGVkOiB7XHJcbiAgICAgICAgICAgICAgICBfdG9wOiB0b3BfZGl2LFxyXG4gICAgICAgICAgICAgICAgX3JlbGF0aXZlOiByZWxhdGl2ZSxcclxuICAgICAgICAgICAgICAgIF90b29sQmFyOiB0b29sX2Jhci5lbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgX2VkaXRvckFyZWE6IGVkaXRvcl9kaXYsXHJcbiAgICAgICAgICAgICAgICBfd3lzaXd5Z0FyZWE6IHd5c2l3eWdfZGl2LFxyXG4gICAgICAgICAgICAgICAgX2NvZGVBcmVhOiB0ZXh0YXJlYSxcclxuICAgICAgICAgICAgICAgIF9yZXNpemluZ0JhcjogcmVzaXppbmdfYmFyLFxyXG4gICAgICAgICAgICAgICAgX25hdmlnYXRpb246IG5hdmlnYXRpb24sXHJcbiAgICAgICAgICAgICAgICBfbG9hZGluZzogbG9hZGluZ19ib3gsXHJcbiAgICAgICAgICAgICAgICBfcmVzaXplQmFjazogcmVzaXplX2JhY2ssXHJcbiAgICAgICAgICAgICAgICBfc3RpY2t5RHVtbXk6IHN0aWNreV9kdW1teSxcclxuICAgICAgICAgICAgICAgIF9hcnJvdzogYXJyb3dcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcclxuICAgICAgICAgICAgcGx1Z2luczogdG9vbF9iYXIucGx1Z2luc1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIFN1bmVkaXRvcidzIERlZmF1bHQgYnV0dG9uIGxpc3RcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIF9kZWZhdWx0QnV0dG9uczogZnVuY3Rpb24gKGxhbmcpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvKiogY29tbWFuZCAqL1xyXG4gICAgICAgICAgICBib2xkOiBbJ3N1bi1lZGl0b3ItaWQtYm9sZCcsIGxhbmcudG9vbGJhci5ib2xkICsgJyhDdHJsK0IpJywgJ2JvbGQnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1ib2xkXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgdW5kZXJsaW5lOiBbJ3N1bi1lZGl0b3ItaWQtdW5kZXJsaW5lJywgbGFuZy50b29sYmFyLnVuZGVybGluZSArICcoQ3RybCtVKScsICd1bmRlcmxpbmUnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi11bmRlcmxpbmVcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBpdGFsaWM6IFsnc3VuLWVkaXRvci1pZC1pdGFsaWMnLCBsYW5nLnRvb2xiYXIuaXRhbGljICsgJyhDdHJsK0kpJywgJ2l0YWxpYycsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWl0YWxpY1wiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHN0cmlrZTogWydzdW4tZWRpdG9yLWlkLXN0cmlrZScsIGxhbmcudG9vbGJhci5zdHJpa2UgKyAnKEN0cmwrU0hJRlQrUyknLCAnc3RyaWtldGhyb3VnaCcsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLXN0cm9rZXRocm91Z2hcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBzdWJzY3JpcHQ6IFsnc3VuLWVkaXRvci1pZC1zdWJzY3JpcHQnLCBsYW5nLnRvb2xiYXIuc3Vic2NyaXB0LCAnc3Vic2NyaXB0JywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tc3Vic2NyaXB0XCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgc3VwZXJzY3JpcHQ6IFsnc3VuLWVkaXRvci1pZC1zdXBlcnNjcmlwdCcsIGxhbmcudG9vbGJhci5zdXBlcnNjcmlwdCwgJ3N1cGVyc2NyaXB0JywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tc3VwZXJzY3JpcHRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICByZW1vdmVGb3JtYXQ6IFsnJywgbGFuZy50b29sYmFyLnJlbW92ZUZvcm1hdCwgJ3JlbW92ZUZvcm1hdCcsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWVyYXNlXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgaW5kZW50OiBbJycsIGxhbmcudG9vbGJhci5pbmRlbnQgKyAnKEN0cmwgKyBdKScsICdpbmRlbnQnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1pbmRlbnQtcmlnaHRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBvdXRkZW50OiBbJycsIGxhbmcudG9vbGJhci5vdXRkZW50ICsgJyhDdHJsICsgWyknLCAnb3V0ZGVudCcsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWluZGVudC1sZWZ0XCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgZnVsbFNjcmVlbjogWydjb2RlLXZpZXctZW5hYmxlZCcsIGxhbmcudG9vbGJhci5mdWxsU2NyZWVuLCAnZnVsbFNjcmVlbicsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWV4cGFuc2lvblwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHNob3dCbG9ja3M6IFsnJywgbGFuZy50b29sYmFyLnNob3dCbG9ja3MsICdzaG93QmxvY2tzJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tc2hvd0Jsb2Nrc1wiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIGNvZGVWaWV3OiBbJ2NvZGUtdmlldy1lbmFibGVkJywgbGFuZy50b29sYmFyLmNvZGVWaWV3LCAnY29kZVZpZXcnLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1jb2RlLXZpZXdcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICB1bmRvOiBbJ2NvZGUtdmlldy1lbmFibGVkJywgbGFuZy50b29sYmFyLnVuZG8gKyAnIChDdHJsK1opJywgJ3VuZG8nLCAnJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi11bmRvXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgcmVkbzogWydjb2RlLXZpZXctZW5hYmxlZCcsIGxhbmcudG9vbGJhci5yZWRvICsgJyAoQ3RybCtZKScsICdyZWRvJywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tcmVkb1wiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHByZXZpZXc6IFsnJywgbGFuZy50b29sYmFyLnByZXZpZXcsICdwcmV2aWV3JywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tcHJldmlld1wiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHByaW50OiBbJycsIGxhbmcudG9vbGJhci5wcmludCwgJ3ByaW50JywgJycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tcHJpbnRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBzYXZlOiBbJycsIGxhbmcudG9vbGJhci5zYXZlLCAnc2F2ZScsICcnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLXNhdmVcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICAvKiogcGx1Z2lucyAtIHN1Ym1lbnUgKi9cclxuICAgICAgICAgICAgZm9udDogWydidG5fZm9udCcsIGxhbmcudG9vbGJhci5mb250LCAnZm9udCcsICdzdWJtZW51JyxcclxuICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInR4dCBzdW4tZWRpdG9yLWZvbnQtZmFtaWx5XCI+JyArIGxhbmcudG9vbGJhci5mb250ICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cImljb24tYXJyb3ctZG93blwiPjwvc3Bhbj4nXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGZvcm1hdEJsb2NrOiBbJ2J0bl9mb3JtYXQnLCBsYW5nLnRvb2xiYXIuZm9ybWF0cywgJ2Zvcm1hdEJsb2NrJywgJ3N1Ym1lbnUnLFxyXG4gICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwidHh0IHN1bi1lZGl0b3ItZm9udC1mb3JtYXRcIj4nICsgbGFuZy50b29sYmFyLmZvcm1hdHMgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwiaWNvbi1hcnJvdy1kb3duXCI+PC9zcGFuPidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBbJ2J0bl9zaXplJywgbGFuZy50b29sYmFyLmZvbnRTaXplLCAnZm9udFNpemUnLCAnc3VibWVudScsXHJcbiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJ0eHQgc3VuLWVkaXRvci1mb250LXNpemVcIj4nICsgbGFuZy50b29sYmFyLmZvbnRTaXplICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cImljb24tYXJyb3ctZG93blwiPjwvc3Bhbj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBmb250Q29sb3I6IFsnJywgbGFuZy50b29sYmFyLmZvbnRDb2xvciwgJ2ZvbnRDb2xvcicsICdzdWJtZW51JyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1mb250Q29sb3JcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBoaWxpdGVDb2xvcjogWycnLCBsYW5nLnRvb2xiYXIuaGlsaXRlQ29sb3IsICdoaWxpdGVDb2xvcicsICdzdWJtZW51JyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1oaWxpdGVDb2xvclwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIGFsaWduOiBbJ2J0bl9hbGlnbicsIGxhbmcudG9vbGJhci5hbGlnbiwgJ2FsaWduJywgJ3N1Ym1lbnUnLFxyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uLWFsaWduLWxlZnRcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICBsaXN0OiBbJycsIGxhbmcudG9vbGJhci5saXN0LCAnbGlzdCcsICdzdWJtZW51JyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1saXN0LW51bWJlclwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIGhvcml6b250YWxSdWxlOiBbJ2J0bl9saW5lJywgbGFuZy50b29sYmFyLmhvcml6b250YWxSdWxlLCAnaG9yaXpvbnRhbFJ1bGUnLCAnc3VibWVudScsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24taHJcIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF0sXHJcblxyXG4gICAgICAgICAgICB0YWJsZTogWycnLCBsYW5nLnRvb2xiYXIudGFibGUsICd0YWJsZScsICdzdWJtZW51JyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1ncmlkXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgLyoqIHBsdWdpbnMgLSBkaWFsb2cgKi9cclxuICAgICAgICAgICAgbGluazogWycnLCBsYW5nLnRvb2xiYXIubGluaywgJ2xpbmsnLCAnZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1saW5rXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICBdLFxyXG5cclxuICAgICAgICAgICAgaW1hZ2U6IFsnJywgbGFuZy50b29sYmFyLmltYWdlLCAnaW1hZ2UnLCAnZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1pbWFnZVwiPjwvZGl2PidcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIHZpZGVvOiBbJycsIGxhbmcudG9vbGJhci52aWRlbywgJ3ZpZGVvJywgJ2RpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tdmlkZW9cIj48L2Rpdj4nXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgYSBncm91cCBkaXYgY29udGFpbmluZyBlYWNoIG1vZHVsZVxyXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBfY3JlYXRlTW9kdWxlR3JvdXA6IGZ1bmN0aW9uIChvbmVNb2R1bGUpIHtcclxuICAgICAgICBjb25zdCBvRGl2ID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICBvRGl2LmNsYXNzTmFtZSA9ICd0b29sX21vZHVsZScgKyAob25lTW9kdWxlID8gJycgOiAnIHN1bi1lZGl0b3ItbW9kdWxlLWJvcmRlcicpO1xyXG5cclxuICAgICAgICBjb25zdCBvVWwgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ1VMJyk7XHJcbiAgICAgICAgb1VsLmNsYXNzTmFtZSA9ICdlZGl0b3JfdG9vbCc7XHJcbiAgICAgICAgb0Rpdi5hcHBlbmRDaGlsZChvVWwpO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnZGl2Jzogb0RpdixcclxuICAgICAgICAgICAgJ3VsJzogb1VsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIGEgYnV0dG9uIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidXR0b25DbGFzcyAtIGNsYXNzTmFtZSBpbiBidXR0b25cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSAtIFRpdGxlIGluIGJ1dHRvblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFDb21tYW5kIC0gVGhlIGRhdGEtY29tbWFuZCBwcm9wZXJ0eSBvZiB0aGUgYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YURpc3BsYXkgLSBUaGUgZGF0YS1kaXNwbGF5IHByb3BlcnR5IG9mIHRoZSBidXR0b24gKCdkaWFsb2cnLCAnc3VibWVudScpXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW5uZXJIVE1MIC0gSHRtbCBpbiBidXR0b25cclxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgX2NyZWF0ZUJ1dHRvbjogZnVuY3Rpb24gKGJ1dHRvbkNsYXNzLCB0aXRsZSwgZGF0YUNvbW1hbmQsIGRhdGFEaXNwbGF5LCBpbm5lckhUTUwpIHtcclxuICAgICAgICBjb25zdCBvTGkgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0xJJyk7XHJcbiAgICAgICAgY29uc3Qgb0J1dHRvbiA9IHV0aWwuY3JlYXRlRWxlbWVudCgnQlVUVE9OJyk7XHJcblxyXG4gICAgICAgIG9CdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xyXG4gICAgICAgIG9CdXR0b24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidG5fZWRpdG9yICcgKyBidXR0b25DbGFzcyk7XHJcbiAgICAgICAgb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGl0bGUpO1xyXG4gICAgICAgIG9CdXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWNvbW1hbmQnLCBkYXRhQ29tbWFuZCk7XHJcbiAgICAgICAgb0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzcGxheScsIGRhdGFEaXNwbGF5KTtcclxuICAgICAgICBvQnV0dG9uLmlubmVySFRNTCA9IGlubmVySFRNTDtcclxuICAgICAgICBvTGkuYXBwZW5kQ2hpbGQob0J1dHRvbik7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdsaSc6IG9MaSxcclxuICAgICAgICAgICAgJ2J1dHRvbic6IG9CdXR0b25cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgZWRpdG9yIEhUTUxcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRvYyAtIGRvY3VtZW50IG9iamVjdFxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gYnV0dG9uTGlzdCAtIG9wdGlvbi5idXR0b25MaXN0XHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsYW5nIC0gb3B0aW9uLmxhbmdcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIF9jcmVhdGVUb29sQmFyOiBmdW5jdGlvbiAoZG9jLCBidXR0b25MaXN0LCBfcGx1Z2lucywgbGFuZykge1xyXG4gICAgICAgIGNvbnN0IHNlcGFyYXRvcl92ZXJ0aWNhbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICBzZXBhcmF0b3JfdmVydGljYWwuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItdG9vbGJhci1zZXBhcmF0b3ItdmVydGljYWwnO1xyXG5cclxuICAgICAgICBjb25zdCB0b29sX2JhciA9IGRvYy5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICB0b29sX2Jhci5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC10b29sYmFyIHN1bi1lZGl0b3ItY29tbW9uJztcclxuXHJcbiAgICAgICAgLyoqIGNyZWF0ZSBidXR0b24gbGlzdCAqL1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRCdXR0b25MaXN0ID0gdGhpcy5fZGVmYXVsdEJ1dHRvbnMobGFuZyk7XHJcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IHt9O1xyXG4gICAgICAgIGlmIChfcGx1Z2lucykge1xyXG4gICAgICAgICAgICBjb25zdCBwbHVnaW5zVmFsdWVzID0gX3BsdWdpbnMubGVuZ3RoID8gX3BsdWdpbnMgOiBPYmplY3Qua2V5cyhfcGx1Z2lucykubWFwKGZ1bmN0aW9uKGUpIHsgcmV0dXJuIF9wbHVnaW5zW2VdOyB9KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBsdWdpbnNWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHBsdWdpbnNbcGx1Z2luc1ZhbHVlc1tpXS5uYW1lXSA9IHBsdWdpbnNWYWx1ZXNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtb2R1bGUgPSBudWxsO1xyXG4gICAgICAgIGxldCBidXR0b24gPSBudWxsO1xyXG4gICAgICAgIGxldCBtb2R1bGVFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICBsZXQgYnV0dG9uRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgbGV0IHBsdWdpbk5hbWUgPSAnJztcclxuICAgICAgICBsZXQgdmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBvbmVNb2R1bGUgPSBidXR0b25MaXN0Lmxlbmd0aCA9PT0gMTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25MaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBidXR0b25Hcm91cCA9IGJ1dHRvbkxpc3RbaV07XHJcbiAgICAgICAgICAgIG1vZHVsZUVsZW1lbnQgPSB0aGlzLl9jcmVhdGVNb2R1bGVHcm91cChvbmVNb2R1bGUpO1xyXG5cclxuICAgICAgICAgICAgLyoqIGJ1dHRvbiBvYmplY3QgKi9cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBidXR0b25Hcm91cCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYnV0dG9uR3JvdXAubGVuZ3RoOyBqKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uID0gYnV0dG9uR3JvdXBbal07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBidXR0b24gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYnV0dG9uLmFkZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luTmFtZSA9IGJ1dHRvbi5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlID0gZGVmYXVsdEJ1dHRvbkxpc3RbcGx1Z2luTmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5zW3BsdWdpbk5hbWVdID0gYnV0dG9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luTmFtZSA9IGJ1dHRvbi5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlID0gW2J1dHRvbi5jbGFzc05hbWUsIGJ1dHRvbi50aXRsZSwgYnV0dG9uLmRhdGFDb21tYW5kLCBidXR0b24uZGF0YURpc3BsYXksIGJ1dHRvbi5kaXNwbGF5T3B0aW9uLCBidXR0b24uaW5uZXJIVE1MXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZSA9IGRlZmF1bHRCdXR0b25MaXN0W2J1dHRvbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbk5hbWUgPSBidXR0b247XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25FbGVtZW50ID0gdGhpcy5fY3JlYXRlQnV0dG9uKG1vZHVsZVswXSwgbW9kdWxlWzFdLCBtb2R1bGVbMl0sIG1vZHVsZVszXSwgbW9kdWxlWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVFbGVtZW50LnVsLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQubGkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luc1twbHVnaW5OYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5zW3BsdWdpbk5hbWVdLmJ1dHRvbkVsZW1lbnQgPSBidXR0b25FbGVtZW50LmJ1dHRvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB0b29sX2Jhci5hcHBlbmRDaGlsZChzZXBhcmF0b3JfdmVydGljYWwuY2xvbmVOb2RlKGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICB0b29sX2Jhci5hcHBlbmRDaGlsZChtb2R1bGVFbGVtZW50LmRpdik7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqIGxpbmUgYnJlYWsgICovXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKC9eXFwvJC8udGVzdChidXR0b25Hcm91cCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyRGl2ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgICAgICAgICAgZW50ZXJEaXYuY2xhc3NOYW1lID0gJ3Rvb2xfbW9kdWxlX2VudGVyJztcclxuICAgICAgICAgICAgICAgIHRvb2xfYmFyLmFwcGVuZENoaWxkKGVudGVyRGl2KTtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRvb2xfY292ZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgdG9vbF9jb3Zlci5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1pZC10b29sYmFyLWNvdmVyJztcclxuICAgICAgICB0b29sX2Jhci5hcHBlbmRDaGlsZCh0b29sX2NvdmVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ2VsZW1lbnQnOiB0b29sX2JhcixcclxuICAgICAgICAgICAgJ3BsdWdpbnMnOiBwbHVnaW5zXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IF9Db25zdHJ1Y3RvcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdW5lZGl0b3Ivc3JjL2xpYi9jb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description Elements and variables you should have\r\n * @param {HTMLElement} element - textarea element\r\n * @param {object} cons - Toolbar element you created\r\n * @param {json} options - Inserted options\r\n * @returns Elements, variables of the editor\r\n * @private\r\n */\r\nconst _Context = function (element, cons, options) {\r\n    return {\r\n        element: {\r\n            originElement: element,\r\n            topArea: cons._top,\r\n            relative: cons._relative,\r\n            toolbar: cons._toolBar,\r\n            resizingBar: cons._resizingBar,\r\n            navigation: cons._navigation,\r\n            editorArea: cons._editorArea,\r\n            wysiwyg: cons._wysiwygArea,\r\n            code: cons._codeArea,\r\n            loading: cons._loading,\r\n            resizeBackground: cons._resizeBack,\r\n            _stickyDummy: cons._stickyDummy,\r\n            _arrow: cons._arrow\r\n        },\r\n        tool: {\r\n            cover: cons._toolBar.getElementsByClassName('sun-editor-id-toolbar-cover')[0],\r\n            bold: cons._toolBar.getElementsByClassName('sun-editor-id-bold')[0],\r\n            underline: cons._toolBar.getElementsByClassName('sun-editor-id-underline')[0],\r\n            italic: cons._toolBar.getElementsByClassName('sun-editor-id-italic')[0],\r\n            strike: cons._toolBar.getElementsByClassName('sun-editor-id-strike')[0],\r\n            subscript: cons._toolBar.getElementsByClassName('sun-editor-id-subscript')[0],\r\n            superscript: cons._toolBar.getElementsByClassName('sun-editor-id-superscript')[0],\r\n            font: cons._toolBar.getElementsByClassName('sun-editor-font-family')[0],\r\n            format: cons._toolBar.getElementsByClassName('sun-editor-font-format')[0],\r\n            fontSize: cons._toolBar.getElementsByClassName('sun-editor-font-size')[0]\r\n        },\r\n        option: {\r\n            mode: options.mode,\r\n            toolbarWidth: options.toolbarWidth,\r\n            stickyToolbar: options.stickyToolbar,\r\n            resizingBar: options.resizingBar,\r\n            showPathLabel: options.showPathLabel,\r\n            popupDisplay: options.popupDisplay,\r\n            display: options.display,\r\n            height: options.height,\r\n            minHeight: options.minHeight,\r\n            maxHeight: options.maxHeight,\r\n            font: options.font,\r\n            fontSize: options.fontSize,\r\n            colorList: options.colorList,\r\n            imageResizing: options.imageResizing,\r\n            imageWidth: options.imageWidth,\r\n            imageFileInput: options.imageFileInput,\r\n            imageUrlInput: options.imageUrlInput,\r\n            imageUploadUrl: options.imageUploadUrl,\r\n            videoResizing: options.videoResizing,\r\n            videoWidth: options.videoWidth,\r\n            videoHeight: options.videoHeight,\r\n            callBackSave: options.callBackSave\r\n        }\r\n    };\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (_Context);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9saWIvY29udGV4dC5qcz8yZmIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWI7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLE9BQU87QUFDbEIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxpRUFBUSIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxyXG4gKlxyXG4gKiBzdW5lZGl0b3IuanNcclxuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cclxuICogTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uIEVsZW1lbnRzIGFuZCB2YXJpYWJsZXMgeW91IHNob3VsZCBoYXZlXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSB0ZXh0YXJlYSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25zIC0gVG9vbGJhciBlbGVtZW50IHlvdSBjcmVhdGVkXHJcbiAqIEBwYXJhbSB7anNvbn0gb3B0aW9ucyAtIEluc2VydGVkIG9wdGlvbnNcclxuICogQHJldHVybnMgRWxlbWVudHMsIHZhcmlhYmxlcyBvZiB0aGUgZWRpdG9yXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBfQ29udGV4dCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25zLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGVsZW1lbnQ6IHtcclxuICAgICAgICAgICAgb3JpZ2luRWxlbWVudDogZWxlbWVudCxcclxuICAgICAgICAgICAgdG9wQXJlYTogY29ucy5fdG9wLFxyXG4gICAgICAgICAgICByZWxhdGl2ZTogY29ucy5fcmVsYXRpdmUsXHJcbiAgICAgICAgICAgIHRvb2xiYXI6IGNvbnMuX3Rvb2xCYXIsXHJcbiAgICAgICAgICAgIHJlc2l6aW5nQmFyOiBjb25zLl9yZXNpemluZ0JhcixcclxuICAgICAgICAgICAgbmF2aWdhdGlvbjogY29ucy5fbmF2aWdhdGlvbixcclxuICAgICAgICAgICAgZWRpdG9yQXJlYTogY29ucy5fZWRpdG9yQXJlYSxcclxuICAgICAgICAgICAgd3lzaXd5ZzogY29ucy5fd3lzaXd5Z0FyZWEsXHJcbiAgICAgICAgICAgIGNvZGU6IGNvbnMuX2NvZGVBcmVhLFxyXG4gICAgICAgICAgICBsb2FkaW5nOiBjb25zLl9sb2FkaW5nLFxyXG4gICAgICAgICAgICByZXNpemVCYWNrZ3JvdW5kOiBjb25zLl9yZXNpemVCYWNrLFxyXG4gICAgICAgICAgICBfc3RpY2t5RHVtbXk6IGNvbnMuX3N0aWNreUR1bW15LFxyXG4gICAgICAgICAgICBfYXJyb3c6IGNvbnMuX2Fycm93XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b29sOiB7XHJcbiAgICAgICAgICAgIGNvdmVyOiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtdG9vbGJhci1jb3ZlcicpWzBdLFxyXG4gICAgICAgICAgICBib2xkOiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtYm9sZCcpWzBdLFxyXG4gICAgICAgICAgICB1bmRlcmxpbmU6IGNvbnMuX3Rvb2xCYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC11bmRlcmxpbmUnKVswXSxcclxuICAgICAgICAgICAgaXRhbGljOiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtaXRhbGljJylbMF0sXHJcbiAgICAgICAgICAgIHN0cmlrZTogY29ucy5fdG9vbEJhci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXN0cmlrZScpWzBdLFxyXG4gICAgICAgICAgICBzdWJzY3JpcHQ6IGNvbnMuX3Rvb2xCYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1zdWJzY3JpcHQnKVswXSxcclxuICAgICAgICAgICAgc3VwZXJzY3JpcHQ6IGNvbnMuX3Rvb2xCYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1zdXBlcnNjcmlwdCcpWzBdLFxyXG4gICAgICAgICAgICBmb250OiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItZm9udC1mYW1pbHknKVswXSxcclxuICAgICAgICAgICAgZm9ybWF0OiBjb25zLl90b29sQmFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItZm9udC1mb3JtYXQnKVswXSxcclxuICAgICAgICAgICAgZm9udFNpemU6IGNvbnMuX3Rvb2xCYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1mb250LXNpemUnKVswXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9uOiB7XHJcbiAgICAgICAgICAgIG1vZGU6IG9wdGlvbnMubW9kZSxcclxuICAgICAgICAgICAgdG9vbGJhcldpZHRoOiBvcHRpb25zLnRvb2xiYXJXaWR0aCxcclxuICAgICAgICAgICAgc3RpY2t5VG9vbGJhcjogb3B0aW9ucy5zdGlja3lUb29sYmFyLFxyXG4gICAgICAgICAgICByZXNpemluZ0Jhcjogb3B0aW9ucy5yZXNpemluZ0JhcixcclxuICAgICAgICAgICAgc2hvd1BhdGhMYWJlbDogb3B0aW9ucy5zaG93UGF0aExhYmVsLFxyXG4gICAgICAgICAgICBwb3B1cERpc3BsYXk6IG9wdGlvbnMucG9wdXBEaXNwbGF5LFxyXG4gICAgICAgICAgICBkaXNwbGF5OiBvcHRpb25zLmRpc3BsYXksXHJcbiAgICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXHJcbiAgICAgICAgICAgIG1pbkhlaWdodDogb3B0aW9ucy5taW5IZWlnaHQsXHJcbiAgICAgICAgICAgIG1heEhlaWdodDogb3B0aW9ucy5tYXhIZWlnaHQsXHJcbiAgICAgICAgICAgIGZvbnQ6IG9wdGlvbnMuZm9udCxcclxuICAgICAgICAgICAgZm9udFNpemU6IG9wdGlvbnMuZm9udFNpemUsXHJcbiAgICAgICAgICAgIGNvbG9yTGlzdDogb3B0aW9ucy5jb2xvckxpc3QsXHJcbiAgICAgICAgICAgIGltYWdlUmVzaXppbmc6IG9wdGlvbnMuaW1hZ2VSZXNpemluZyxcclxuICAgICAgICAgICAgaW1hZ2VXaWR0aDogb3B0aW9ucy5pbWFnZVdpZHRoLFxyXG4gICAgICAgICAgICBpbWFnZUZpbGVJbnB1dDogb3B0aW9ucy5pbWFnZUZpbGVJbnB1dCxcclxuICAgICAgICAgICAgaW1hZ2VVcmxJbnB1dDogb3B0aW9ucy5pbWFnZVVybElucHV0LFxyXG4gICAgICAgICAgICBpbWFnZVVwbG9hZFVybDogb3B0aW9ucy5pbWFnZVVwbG9hZFVybCxcclxuICAgICAgICAgICAgdmlkZW9SZXNpemluZzogb3B0aW9ucy52aWRlb1Jlc2l6aW5nLFxyXG4gICAgICAgICAgICB2aWRlb1dpZHRoOiBvcHRpb25zLnZpZGVvV2lkdGgsXHJcbiAgICAgICAgICAgIHZpZGVvSGVpZ2h0OiBvcHRpb25zLnZpZGVvSGVpZ2h0LFxyXG4gICAgICAgICAgICBjYWxsQmFja1NhdmU6IG9wdGlvbnMuY2FsbEJhY2tTYXZlXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IF9Db250ZXh0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvbGliL2NvbnRleHQuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    toolbar: {\n        save: 'Save',\n        font: 'Font',\n        formats: 'Formats',\n        fontSize: 'Size',\n        bold: 'Bold',\n        underline: 'Underline',\n        italic: 'Italic',\n        strike: 'Strike',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        removeFormat: 'Remove Format',\n        fontColor: 'Font Color',\n        hiliteColor: 'Hilite Color',\n        indent: 'Indent',\n        outdent: 'Outdent',\n        align: 'Align',\n        alignLeft: 'Align left',\n        alignRight: 'Align right',\n        alignCenter: 'Align center',\n        justifyFull: 'Justify full',\n        list: 'list',\n        orderList: 'Ordered list',\n        unorderList: 'Unordered list',\n        horizontalRule: 'horizontal line',\n        hr_solid: 'solid',\n        hr_dotted: 'dotted',\n        hr_dashed: 'dashed',\n        table: 'Table',\n        link: 'Link',\n        image: 'Image',\n        video: 'Video',\n        fullScreen: 'Full screen',\n        showBlocks: 'Show blocks',\n        codeView: 'Code view',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_quote: 'Quote',\n        pre: 'Code'\n    },\n    dialogBox: {\n        linkBox: {\n            title: 'Insert Link',\n            url: 'URL to link',\n            text: 'Text to display',\n            newWindowCheck: 'Open in new window'\n        },\n        imageBox: {\n            title: 'Insert image',\n            file: 'Select from files',\n            url: 'Image URL',\n            altText: 'Alternative text'\n        },\n        videoBox: {\n            title: 'Insert Video',\n            url: 'Media embed URL, YouTube'\n        },\n        caption: 'Insert description',\n        close: 'Close',\n        submitButton: 'Submit',\n        revertButton: 'Revert',\n        proportion: 'constrain proportions',\n        width: 'Width',\n        height: 'Height',\n        basic: 'Basic',\n        left: 'Left',\n        right: 'Right',\n        center: 'Center'\n    },\n    controller: {\n        edit: 'Edit',\n        remove: 'Remove',\n        insertRowAbove: 'Insert row above',\n        insertRowBelow: 'Insert row below',\n        deleteRow: 'Delete row',\n        insertColumnBefore: 'Insert column before',\n        insertColumnAfter: 'Insert column after',\n        deleteColumn: 'Delete column',\n        resize100: 'Resize 100%',\n        resize75: 'Resize 75%',\n        resize50: 'Resize 50%',\n        resize25: 'Resize 25%',\n        mirrorHorizontal: 'Mirror, Horizontal',\n        mirrorVertical: 'Mirror, Vertical',\n        rotateLeft: 'Rotate left',\n        rotateRight: 'Rotate right'\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9sYW5nL2VuLmpzPzNiMTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxuICpcbiAqIHN1bmVkaXRvci5qc1xuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cbiAqIE1JVCBsaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB0b29sYmFyOiB7XG4gICAgICAgIHNhdmU6ICdTYXZlJyxcbiAgICAgICAgZm9udDogJ0ZvbnQnLFxuICAgICAgICBmb3JtYXRzOiAnRm9ybWF0cycsXG4gICAgICAgIGZvbnRTaXplOiAnU2l6ZScsXG4gICAgICAgIGJvbGQ6ICdCb2xkJyxcbiAgICAgICAgdW5kZXJsaW5lOiAnVW5kZXJsaW5lJyxcbiAgICAgICAgaXRhbGljOiAnSXRhbGljJyxcbiAgICAgICAgc3RyaWtlOiAnU3RyaWtlJyxcbiAgICAgICAgc3Vic2NyaXB0OiAnU3Vic2NyaXB0JyxcbiAgICAgICAgc3VwZXJzY3JpcHQ6ICdTdXBlcnNjcmlwdCcsXG4gICAgICAgIHJlbW92ZUZvcm1hdDogJ1JlbW92ZSBGb3JtYXQnLFxuICAgICAgICBmb250Q29sb3I6ICdGb250IENvbG9yJyxcbiAgICAgICAgaGlsaXRlQ29sb3I6ICdIaWxpdGUgQ29sb3InLFxuICAgICAgICBpbmRlbnQ6ICdJbmRlbnQnLFxuICAgICAgICBvdXRkZW50OiAnT3V0ZGVudCcsXG4gICAgICAgIGFsaWduOiAnQWxpZ24nLFxuICAgICAgICBhbGlnbkxlZnQ6ICdBbGlnbiBsZWZ0JyxcbiAgICAgICAgYWxpZ25SaWdodDogJ0FsaWduIHJpZ2h0JyxcbiAgICAgICAgYWxpZ25DZW50ZXI6ICdBbGlnbiBjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5RnVsbDogJ0p1c3RpZnkgZnVsbCcsXG4gICAgICAgIGxpc3Q6ICdsaXN0JyxcbiAgICAgICAgb3JkZXJMaXN0OiAnT3JkZXJlZCBsaXN0JyxcbiAgICAgICAgdW5vcmRlckxpc3Q6ICdVbm9yZGVyZWQgbGlzdCcsXG4gICAgICAgIGhvcml6b250YWxSdWxlOiAnaG9yaXpvbnRhbCBsaW5lJyxcbiAgICAgICAgaHJfc29saWQ6ICdzb2xpZCcsXG4gICAgICAgIGhyX2RvdHRlZDogJ2RvdHRlZCcsXG4gICAgICAgIGhyX2Rhc2hlZDogJ2Rhc2hlZCcsXG4gICAgICAgIHRhYmxlOiAnVGFibGUnLFxuICAgICAgICBsaW5rOiAnTGluaycsXG4gICAgICAgIGltYWdlOiAnSW1hZ2UnLFxuICAgICAgICB2aWRlbzogJ1ZpZGVvJyxcbiAgICAgICAgZnVsbFNjcmVlbjogJ0Z1bGwgc2NyZWVuJyxcbiAgICAgICAgc2hvd0Jsb2NrczogJ1Nob3cgYmxvY2tzJyxcbiAgICAgICAgY29kZVZpZXc6ICdDb2RlIHZpZXcnLFxuICAgICAgICB1bmRvOiAnVW5kbycsXG4gICAgICAgIHJlZG86ICdSZWRvJyxcbiAgICAgICAgcHJldmlldzogJ1ByZXZpZXcnLFxuICAgICAgICBwcmludDogJ3ByaW50JyxcbiAgICAgICAgdGFnX3A6ICdQYXJhZ3JhcGgnLFxuICAgICAgICB0YWdfZGl2OiAnTm9ybWFsIChESVYpJyxcbiAgICAgICAgdGFnX2g6ICdIZWFkZXInLFxuICAgICAgICB0YWdfcXVvdGU6ICdRdW90ZScsXG4gICAgICAgIHByZTogJ0NvZGUnXG4gICAgfSxcbiAgICBkaWFsb2dCb3g6IHtcbiAgICAgICAgbGlua0JveDoge1xuICAgICAgICAgICAgdGl0bGU6ICdJbnNlcnQgTGluaycsXG4gICAgICAgICAgICB1cmw6ICdVUkwgdG8gbGluaycsXG4gICAgICAgICAgICB0ZXh0OiAnVGV4dCB0byBkaXNwbGF5JyxcbiAgICAgICAgICAgIG5ld1dpbmRvd0NoZWNrOiAnT3BlbiBpbiBuZXcgd2luZG93J1xuICAgICAgICB9LFxuICAgICAgICBpbWFnZUJveDoge1xuICAgICAgICAgICAgdGl0bGU6ICdJbnNlcnQgaW1hZ2UnLFxuICAgICAgICAgICAgZmlsZTogJ1NlbGVjdCBmcm9tIGZpbGVzJyxcbiAgICAgICAgICAgIHVybDogJ0ltYWdlIFVSTCcsXG4gICAgICAgICAgICBhbHRUZXh0OiAnQWx0ZXJuYXRpdmUgdGV4dCdcbiAgICAgICAgfSxcbiAgICAgICAgdmlkZW9Cb3g6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnSW5zZXJ0IFZpZGVvJyxcbiAgICAgICAgICAgIHVybDogJ01lZGlhIGVtYmVkIFVSTCwgWW91VHViZSdcbiAgICAgICAgfSxcbiAgICAgICAgY2FwdGlvbjogJ0luc2VydCBkZXNjcmlwdGlvbicsXG4gICAgICAgIGNsb3NlOiAnQ2xvc2UnLFxuICAgICAgICBzdWJtaXRCdXR0b246ICdTdWJtaXQnLFxuICAgICAgICByZXZlcnRCdXR0b246ICdSZXZlcnQnLFxuICAgICAgICBwcm9wb3J0aW9uOiAnY29uc3RyYWluIHByb3BvcnRpb25zJyxcbiAgICAgICAgd2lkdGg6ICdXaWR0aCcsXG4gICAgICAgIGhlaWdodDogJ0hlaWdodCcsXG4gICAgICAgIGJhc2ljOiAnQmFzaWMnLFxuICAgICAgICBsZWZ0OiAnTGVmdCcsXG4gICAgICAgIHJpZ2h0OiAnUmlnaHQnLFxuICAgICAgICBjZW50ZXI6ICdDZW50ZXInXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiB7XG4gICAgICAgIGVkaXQ6ICdFZGl0JyxcbiAgICAgICAgcmVtb3ZlOiAnUmVtb3ZlJyxcbiAgICAgICAgaW5zZXJ0Um93QWJvdmU6ICdJbnNlcnQgcm93IGFib3ZlJyxcbiAgICAgICAgaW5zZXJ0Um93QmVsb3c6ICdJbnNlcnQgcm93IGJlbG93JyxcbiAgICAgICAgZGVsZXRlUm93OiAnRGVsZXRlIHJvdycsXG4gICAgICAgIGluc2VydENvbHVtbkJlZm9yZTogJ0luc2VydCBjb2x1bW4gYmVmb3JlJyxcbiAgICAgICAgaW5zZXJ0Q29sdW1uQWZ0ZXI6ICdJbnNlcnQgY29sdW1uIGFmdGVyJyxcbiAgICAgICAgZGVsZXRlQ29sdW1uOiAnRGVsZXRlIGNvbHVtbicsXG4gICAgICAgIHJlc2l6ZTEwMDogJ1Jlc2l6ZSAxMDAlJyxcbiAgICAgICAgcmVzaXplNzU6ICdSZXNpemUgNzUlJyxcbiAgICAgICAgcmVzaXplNTA6ICdSZXNpemUgNTAlJyxcbiAgICAgICAgcmVzaXplMjU6ICdSZXNpemUgMjUlJyxcbiAgICAgICAgbWlycm9ySG9yaXpvbnRhbDogJ01pcnJvciwgSG9yaXpvbnRhbCcsXG4gICAgICAgIG1pcnJvclZlcnRpY2FsOiAnTWlycm9yLCBWZXJ0aWNhbCcsXG4gICAgICAgIHJvdGF0ZUxlZnQ6ICdSb3RhdGUgbGVmdCcsXG4gICAgICAgIHJvdGF0ZVJpZ2h0OiAnUm90YXRlIHJpZ2h0J1xuICAgIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdW5lZGl0b3Ivc3JjL2xhbmcvZW4uanNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__submenu_align__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__submenu_font__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__submenu_fontSize__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__submenu_fontColor__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__submenu_hiliteColor__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__submenu_horizontalRule__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__submenu_list__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__submenu_table__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__submenu_formatBlock__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__dialog_link__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__dialog_image__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__dialog_video__ = __webpack_require__(37);\n/* unused harmony reexport align */\n/* unused harmony reexport font */\n/* unused harmony reexport fontSize */\n/* unused harmony reexport fontColor */\n/* unused harmony reexport hiliteColor */\n/* unused harmony reexport horizontalRule */\n/* unused harmony reexport list */\n/* unused harmony reexport table */\n/* unused harmony reexport formatBlock */\n/* unused harmony reexport link */\n/* unused harmony reexport image */\n/* unused harmony reexport video */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({ align: __WEBPACK_IMPORTED_MODULE_0__submenu_align__[\"a\" /* default */], font: __WEBPACK_IMPORTED_MODULE_1__submenu_font__[\"a\" /* default */], fontSize: __WEBPACK_IMPORTED_MODULE_2__submenu_fontSize__[\"a\" /* default */], fontColor: __WEBPACK_IMPORTED_MODULE_3__submenu_fontColor__[\"a\" /* default */], hiliteColor: __WEBPACK_IMPORTED_MODULE_4__submenu_hiliteColor__[\"a\" /* default */], horizontalRule: __WEBPACK_IMPORTED_MODULE_5__submenu_horizontalRule__[\"a\" /* default */], list: __WEBPACK_IMPORTED_MODULE_6__submenu_list__[\"a\" /* default */], table: __WEBPACK_IMPORTED_MODULE_7__submenu_table__[\"a\" /* default */], formatBlock: __WEBPACK_IMPORTED_MODULE_8__submenu_formatBlock__[\"a\" /* default */], link: __WEBPACK_IMPORTED_MODULE_9__dialog_link__[\"a\" /* default */], image: __WEBPACK_IMPORTED_MODULE_10__dialog_image__[\"a\" /* default */], video: __WEBPACK_IMPORTED_MODULE_11__dialog_video__[\"a\" /* default */] });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL2luZGV4LmpzPzkzMTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWE7O0FBRXVCO0FBQ0Y7QUFDUTtBQUNFO0FBQ0k7QUFDTTtBQUNwQjtBQUNFO0FBQ1k7O0FBRWY7QUFDRTtBQUNBOztBQUVvRjtBQUN4RywwREFBQyxDQUFDLHNFQUFLLEVBQUUsb0VBQUksRUFBRSw0RUFBUSxFQUFFLDhFQUFTLEVBQUUsa0ZBQVcsRUFBRSx3RkFBYyxFQUFFLG9FQUFJLEVBQUUsc0VBQUssRUFBRSxrRkFBVyxFQUFFLG1FQUFJLEVBQUUsc0VBQUssRUFBRSxzRUFBSyxFQUFFIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgYWxpZ24gZnJvbSAnLi9zdWJtZW51L2FsaWduJztcbmltcG9ydCBmb250IGZyb20gJy4vc3VibWVudS9mb250JztcbmltcG9ydCBmb250U2l6ZSBmcm9tICcuL3N1Ym1lbnUvZm9udFNpemUnO1xuaW1wb3J0IGZvbnRDb2xvciBmcm9tICcuL3N1Ym1lbnUvZm9udENvbG9yJztcbmltcG9ydCBoaWxpdGVDb2xvciBmcm9tICcuL3N1Ym1lbnUvaGlsaXRlQ29sb3InO1xuaW1wb3J0IGhvcml6b250YWxSdWxlIGZyb20gJy4vc3VibWVudS9ob3Jpem9udGFsUnVsZSc7XG5pbXBvcnQgbGlzdCBmcm9tICcuL3N1Ym1lbnUvbGlzdCc7XG5pbXBvcnQgdGFibGUgZnJvbSAnLi9zdWJtZW51L3RhYmxlJztcbmltcG9ydCBmb3JtYXRCbG9jayBmcm9tICcuL3N1Ym1lbnUvZm9ybWF0QmxvY2snO1xuXG5pbXBvcnQgbGluayBmcm9tICcuL2RpYWxvZy9saW5rJztcbmltcG9ydCBpbWFnZSBmcm9tICcuL2RpYWxvZy9pbWFnZSc7XG5pbXBvcnQgdmlkZW8gZnJvbSAnLi9kaWFsb2cvdmlkZW8nO1xuXG5leHBvcnQgeyBhbGlnbiwgZm9udCwgZm9udFNpemUsIGZvbnRDb2xvciwgaGlsaXRlQ29sb3IsIGhvcml6b250YWxSdWxlLCBsaXN0LCB0YWJsZSwgZm9ybWF0QmxvY2ssIGxpbmssIGltYWdlLCB2aWRlbyB9O1xuZXhwb3J0IGRlZmF1bHQgeyBhbGlnbiwgZm9udCwgZm9udFNpemUsIGZvbnRDb2xvciwgaGlsaXRlQ29sb3IsIGhvcml6b250YWxSdWxlLCBsaXN0LCB0YWJsZSwgZm9ybWF0QmxvY2ssIGxpbmssIGltYWdlLCB2aWRlbyB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvcGx1Z2lucy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'align',\n    add: function (core, targetElement) {\n        /** set submenu */\n        let listDiv = eval(this.setSubmenu(core.lang));\n\n        /** add event listeners */\n        listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickup.bind(core));\n\n        /** append html */\n        targetElement.parentNode.appendChild(listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (lang) {\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n\n        listDiv.className = 'layer_editor layer_align';\n        listDiv.style.display = 'none';\n        listDiv.innerHTML = '' +\n            '<div class=\"sun-editor-submenu inner_layer\">' +\n            '   <ul class=\"list_editor\">' +\n            '       <li><button type=\"button\" class=\"btn_edit btn_align\" data-command=\"justifyleft\" title=\"' + lang.toolbar.alignLeft + '\"><span class=\"img_editor icon-align-left\"></span>' + lang.toolbar.alignLeft + '</button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit btn_align\" data-command=\"justifycenter\" title=\"' + lang.toolbar.alignCenter + '\"><span class=\"img_editor icon-align-center\"></span>' + lang.toolbar.alignCenter + '</button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit btn_align\" data-command=\"justifyright\" title=\"' + lang.toolbar.alignRight + '\"><span class=\"img_editor icon-align-right\"></span>' + lang.toolbar.alignRight + '</button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit btn_align\" data-command=\"justifyfull\" title=\"' + lang.toolbar.justifyFull + '\"><span class=\"img_editor icon-align-just\"></span>' + lang.toolbar.justifyFull + '</button></li>' +\n            '   </ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null;\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            target = target.parentNode;\n        }\n\n        this.focus();\n        this.execCommand(command, false, null);\n        this.submenuOff();\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvYWxpZ24uanM/NjdlYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCOztBQUVuQjtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwwREFBSTs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUMiLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXG4gKlxuICogc3VuZWRpdG9yLmpzXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxuICogTUlUIGxpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vbGliL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ2FsaWduJyxcbiAgICBhZGQ6IGZ1bmN0aW9uIChjb3JlLCB0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgIC8qKiBzZXQgc3VibWVudSAqL1xuICAgICAgICBsZXQgbGlzdERpdiA9IGV2YWwodGhpcy5zZXRTdWJtZW51KGNvcmUubGFuZykpO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIGxpc3REaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1VMJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnBpY2t1cC5iaW5kKGNvcmUpKTtcblxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xuXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cbiAgICAgICAgbGlzdERpdiA9IG51bGw7XG4gICAgfSxcblxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuXG4gICAgICAgIGxpc3REaXYuY2xhc3NOYW1lID0gJ2xheWVyX2VkaXRvciBsYXllcl9hbGlnbic7XG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgbGlzdERpdi5pbm5lckhUTUwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInN1bi1lZGl0b3Itc3VibWVudSBpbm5lcl9sYXllclwiPicgK1xuICAgICAgICAgICAgJyAgIDx1bCBjbGFzcz1cImxpc3RfZWRpdG9yXCI+JyArXG4gICAgICAgICAgICAnICAgICAgIDxsaT48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0IGJ0bl9hbGlnblwiIGRhdGEtY29tbWFuZD1cImp1c3RpZnlsZWZ0XCIgdGl0bGU9XCInICsgbGFuZy50b29sYmFyLmFsaWduTGVmdCArICdcIj48c3BhbiBjbGFzcz1cImltZ19lZGl0b3IgaWNvbi1hbGlnbi1sZWZ0XCI+PC9zcGFuPicgKyBsYW5nLnRvb2xiYXIuYWxpZ25MZWZ0ICsgJzwvYnV0dG9uPjwvbGk+JyArXG4gICAgICAgICAgICAnICAgICAgIDxsaT48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0IGJ0bl9hbGlnblwiIGRhdGEtY29tbWFuZD1cImp1c3RpZnljZW50ZXJcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIuYWxpZ25DZW50ZXIgKyAnXCI+PHNwYW4gY2xhc3M9XCJpbWdfZWRpdG9yIGljb24tYWxpZ24tY2VudGVyXCI+PC9zcGFuPicgKyBsYW5nLnRvb2xiYXIuYWxpZ25DZW50ZXIgKyAnPC9idXR0b24+PC9saT4nICtcbiAgICAgICAgICAgICcgICAgICAgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXQgYnRuX2FsaWduXCIgZGF0YS1jb21tYW5kPVwianVzdGlmeXJpZ2h0XCIgdGl0bGU9XCInICsgbGFuZy50b29sYmFyLmFsaWduUmlnaHQgKyAnXCI+PHNwYW4gY2xhc3M9XCJpbWdfZWRpdG9yIGljb24tYWxpZ24tcmlnaHRcIj48L3NwYW4+JyArIGxhbmcudG9vbGJhci5hbGlnblJpZ2h0ICsgJzwvYnV0dG9uPjwvbGk+JyArXG4gICAgICAgICAgICAnICAgICAgIDxsaT48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0IGJ0bl9hbGlnblwiIGRhdGEtY29tbWFuZD1cImp1c3RpZnlmdWxsXCIgdGl0bGU9XCInICsgbGFuZy50b29sYmFyLmp1c3RpZnlGdWxsICsgJ1wiPjxzcGFuIGNsYXNzPVwiaW1nX2VkaXRvciBpY29uLWFsaWduLWp1c3RcIj48L3NwYW4+JyArIGxhbmcudG9vbGJhci5qdXN0aWZ5RnVsbCArICc8L2J1dHRvbj48L2xpPicgK1xuICAgICAgICAgICAgJyAgIDwvdWw+JyArXG4gICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgICByZXR1cm4gbGlzdERpdjtcbiAgICB9LFxuXG4gICAgcGlja3VwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBsZXQgY29tbWFuZCA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAoIWNvbW1hbmQgJiYgIS9VTC9pLnRlc3QodGFyZ2V0LnRhZ05hbWUpKSB7XG4gICAgICAgICAgICBjb21tYW5kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJyk7XG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgdGhpcy5leGVjQ29tbWFuZChjb21tYW5kLCBmYWxzZSwgbnVsbCk7XG4gICAgICAgIHRoaXMuc3VibWVudU9mZigpO1xuICAgIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdW5lZGl0b3Ivc3JjL3BsdWdpbnMvc3VibWVudS9hbGlnbi5qc1xuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'font',\n    add: function (core, targetElement) {\n        /** set submenu */\n        let listDiv = eval(this.setSubmenu(core.context.option));\n\n        /** add event listeners */\n        listDiv.getElementsByClassName('list_family')[0].addEventListener('click', this.pickup.bind(core));\n\n        /** append html */\n        targetElement.parentNode.appendChild(listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (option) {\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        listDiv.className = 'layer_editor';\n        listDiv.style.display = 'none';\n\n        let font, text, i, len;\n        let fontList = !option.font ?\n            [\n                'Arial',\n                'Comic Sans MS',\n                'Courier New,Courier',\n                'Impact,Charcoal,sans-serif',\n                'Georgia',\n                'tahoma',\n                'Trebuchet MS,Helvetica',\n                'Verdana'\n            ] : option.font;\n\n        let list = '<div class=\"sun-editor-submenu inner_layer list_family\">' +\n            '   <ul class=\"list_editor sun-editor-list-font-family\">';\n        for (i = 0, len = fontList.length; i < len; i++) {\n            font = fontList[i];\n            text = font.split(',')[0];\n            list += '<li><button type=\"button\" class=\"btn_edit\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n        }\n        list += '   </ul>';\n        list += '</div>';\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) {\n            return false;\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const target = e.target;\n\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].changeTxt(this.context.tool.font, target.getAttribute('data-txt'));\n        const newNode = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('SPAN');\n        newNode.style.fontFamily = target.getAttribute('data-value');\n        this.nodeChange(newNode, ['font-family']);\n        \n        this.submenuOff();\n        this.focus();\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvZm9udC5qcz82NjExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFcUI7O0FBRW5CO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0Esd0JBQXdCLDBEQUFJO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0EsdUtBQXVLO0FBQ3ZLO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLFFBQVEsMERBQUk7QUFDWix3QkFBd0IsMERBQUk7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUMiLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXG4gKlxuICogc3VuZWRpdG9yLmpzXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxuICogTUlUIGxpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vbGliL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ2ZvbnQnLFxuICAgIGFkZDogZnVuY3Rpb24gKGNvcmUsIHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgLyoqIHNldCBzdWJtZW51ICovXG4gICAgICAgIGxldCBsaXN0RGl2ID0gZXZhbCh0aGlzLnNldFN1Ym1lbnUoY29yZS5jb250ZXh0Lm9wdGlvbikpO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIGxpc3REaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGlzdF9mYW1pbHknKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGlja3VwLmJpbmQoY29yZSkpO1xuXG4gICAgICAgIC8qKiBhcHBlbmQgaHRtbCAqL1xuICAgICAgICB0YXJnZXRFbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobGlzdERpdik7XG5cbiAgICAgICAgLyoqIGVtcHR5IG1lbW9yeSAqL1xuICAgICAgICBsaXN0RGl2ID0gbnVsbDtcbiAgICB9LFxuXG4gICAgc2V0U3VibWVudTogZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICBjb25zdCBsaXN0RGl2ID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgICAgICAgbGlzdERpdi5jbGFzc05hbWUgPSAnbGF5ZXJfZWRpdG9yJztcbiAgICAgICAgbGlzdERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIGxldCBmb250LCB0ZXh0LCBpLCBsZW47XG4gICAgICAgIGxldCBmb250TGlzdCA9ICFvcHRpb24uZm9udCA/XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ0FyaWFsJyxcbiAgICAgICAgICAgICAgICAnQ29taWMgU2FucyBNUycsXG4gICAgICAgICAgICAgICAgJ0NvdXJpZXIgTmV3LENvdXJpZXInLFxuICAgICAgICAgICAgICAgICdJbXBhY3QsQ2hhcmNvYWwsc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgJ0dlb3JnaWEnLFxuICAgICAgICAgICAgICAgICd0YWhvbWEnLFxuICAgICAgICAgICAgICAgICdUcmVidWNoZXQgTVMsSGVsdmV0aWNhJyxcbiAgICAgICAgICAgICAgICAnVmVyZGFuYSdcbiAgICAgICAgICAgIF0gOiBvcHRpb24uZm9udDtcblxuICAgICAgICBsZXQgbGlzdCA9ICc8ZGl2IGNsYXNzPVwic3VuLWVkaXRvci1zdWJtZW51IGlubmVyX2xheWVyIGxpc3RfZmFtaWx5XCI+JyArXG4gICAgICAgICAgICAnICAgPHVsIGNsYXNzPVwibGlzdF9lZGl0b3Igc3VuLWVkaXRvci1saXN0LWZvbnQtZmFtaWx5XCI+JztcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gZm9udExpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGZvbnQgPSBmb250TGlzdFtpXTtcbiAgICAgICAgICAgIHRleHQgPSBmb250LnNwbGl0KCcsJylbMF07XG4gICAgICAgICAgICBsaXN0ICs9ICc8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtdmFsdWU9XCInICsgZm9udCArICdcIiBkYXRhLXR4dD1cIicgKyB0ZXh0ICsgJ1wiIHRpdGxlPVwiJyArIHRleHQgKyAnXCIgc3R5bGU9XCJmb250LWZhbWlseTonICsgZm9udCArICc7XCI+JyArIHRleHQgKyAnPC9idXR0b24+PC9saT4nO1xuICAgICAgICB9XG4gICAgICAgIGxpc3QgKz0gJyAgIDwvdWw+JztcbiAgICAgICAgbGlzdCArPSAnPC9kaXY+JztcbiAgICAgICAgbGlzdERpdi5pbm5lckhUTUwgPSBsaXN0O1xuXG4gICAgICAgIHJldHVybiBsaXN0RGl2O1xuICAgIH0sXG5cbiAgICBwaWNrdXA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghL15CVVRUT04kL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuXG4gICAgICAgIHV0aWwuY2hhbmdlVHh0KHRoaXMuY29udGV4dC50b29sLmZvbnQsIHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHh0JykpO1xuICAgICAgICBjb25zdCBuZXdOb2RlID0gdXRpbC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XG4gICAgICAgIG5ld05vZGUuc3R5bGUuZm9udEZhbWlseSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcbiAgICAgICAgdGhpcy5ub2RlQ2hhbmdlKG5ld05vZGUsIFsnZm9udC1mYW1pbHknXSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnN1Ym1lbnVPZmYoKTtcbiAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdW5lZGl0b3Ivc3JjL3BsdWdpbnMvc3VibWVudS9mb250LmpzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n");

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'fontSize',\n    add: function (core, targetElement) {\n        /** set submenu */\n        let listDiv = eval(this.setSubmenu(core.context.option));\n\n        /** add event listeners */\n        listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickup.bind(core));\n\n        /** append html */\n        targetElement.parentNode.appendChild(listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (option) {\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        listDiv.className = 'sun-editor-submenu layer_editor layer_size';\n        listDiv.style.display = 'none';\n\n        const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n\n        let list = '<div class=\"inner_layer\">' +\n            '   <ul class=\"list_editor font_size_list\">';\n        for (let i = 0, len = sizeList.length; i < len; i++) {\n            const size = sizeList[i];\n            list += '<li><button type=\"button\" class=\"btn_edit\" data-value=\"' + size + '\" title=\"' + size + '\" style=\"font-size:' + size + 'px;\">' + size + '</button></li>';\n        }\n        list += '   </ul>' +\n            '</div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!/^BUTTON$/i.test(e.target.tagName)) {\n            return false;\n        }\n\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].changeTxt(this.context.tool.fontSize, e.target.getAttribute('data-value'));\n        const newNode = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('SPAN');\n        newNode.style.fontSize = e.target.getAttribute('data-value') + 'px';\n        this.nodeChange(newNode, ['font-size']);\n\n        this.submenuOff();\n        this.focus();\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvZm9udFNpemUuanM/MzZjZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCOztBQUVuQjtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwwREFBSTtBQUM1QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw4Q0FBOEMsU0FBUztBQUN2RDtBQUNBLCtJQUErSTtBQUMvSTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSwwREFBSTtBQUNaLHdCQUF3QiwwREFBSTtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQyIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiB3eXNpd3lnIHdlYiBlZGl0b3JcbiAqXG4gKiBzdW5lZGl0b3IuanNcbiAqIENvcHlyaWdodCAyMDE3IEppSG9uZyBMZWUuXG4gKiBNSVQgbGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbCBmcm9tICcuLi8uLi9saWIvdXRpbCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBuYW1lOiAnZm9udFNpemUnLFxuICAgIGFkZDogZnVuY3Rpb24gKGNvcmUsIHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgLyoqIHNldCBzdWJtZW51ICovXG4gICAgICAgIGxldCBsaXN0RGl2ID0gZXZhbCh0aGlzLnNldFN1Ym1lbnUoY29yZS5jb250ZXh0Lm9wdGlvbikpO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIGxpc3REaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1VMJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnBpY2t1cC5iaW5kKGNvcmUpKTtcblxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xuXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cbiAgICAgICAgbGlzdERpdiA9IG51bGw7XG4gICAgfSxcblxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgY29uc3QgbGlzdERpdiA9IHV0aWwuY3JlYXRlRWxlbWVudCgnRElWJyk7XG4gICAgICAgIGxpc3REaXYuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3Itc3VibWVudSBsYXllcl9lZGl0b3IgbGF5ZXJfc2l6ZSc7XG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBjb25zdCBzaXplTGlzdCA9ICFvcHRpb24uZm9udFNpemUgPyBbOCwgOSwgMTAsIDExLCAxMiwgMTQsIDE2LCAxOCwgMjAsIDIyLCAyNCwgMjYsIDI4LCAzNiwgNDgsIDcyXSA6IG9wdGlvbi5mb250U2l6ZTtcblxuICAgICAgICBsZXQgbGlzdCA9ICc8ZGl2IGNsYXNzPVwiaW5uZXJfbGF5ZXJcIj4nICtcbiAgICAgICAgICAgICcgICA8dWwgY2xhc3M9XCJsaXN0X2VkaXRvciBmb250X3NpemVfbGlzdFwiPic7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzaXplTGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHNpemVMaXN0W2ldO1xuICAgICAgICAgICAgbGlzdCArPSAnPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLXZhbHVlPVwiJyArIHNpemUgKyAnXCIgdGl0bGU9XCInICsgc2l6ZSArICdcIiBzdHlsZT1cImZvbnQtc2l6ZTonICsgc2l6ZSArICdweDtcIj4nICsgc2l6ZSArICc8L2J1dHRvbj48L2xpPic7XG4gICAgICAgIH1cbiAgICAgICAgbGlzdCArPSAnICAgPC91bD4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICAgIGxpc3REaXYuaW5uZXJIVE1MID0gbGlzdDtcblxuICAgICAgICByZXR1cm4gbGlzdERpdjtcbiAgICB9LFxuXG4gICAgcGlja3VwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgaWYgKCEvXkJVVFRPTiQvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB1dGlsLmNoYW5nZVR4dCh0aGlzLmNvbnRleHQudG9vbC5mb250U2l6ZSwgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJykpO1xuICAgICAgICBjb25zdCBuZXdOb2RlID0gdXRpbC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XG4gICAgICAgIG5ld05vZGUuc3R5bGUuZm9udFNpemUgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSArICdweCc7XG4gICAgICAgIHRoaXMubm9kZUNoYW5nZShuZXdOb2RlLCBbJ2ZvbnQtc2l6ZSddKTtcblxuICAgICAgICB0aGlzLnN1Ym1lbnVPZmYoKTtcbiAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdW5lZGl0b3Ivc3JjL3BsdWdpbnMvc3VibWVudS9mb250U2l6ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n");

/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modules_colorPicker__ = __webpack_require__(4);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    name: 'fontColor',\r\n    add: function (core, targetElement) {\r\n        core.addModule([__WEBPACK_IMPORTED_MODULE_1__modules_colorPicker__[\"a\" /* default */]]);\r\n\r\n        const context = core.context;\r\n        context.fontColor = {\r\n            previewEl: null,\r\n            colorInput: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = eval(this.setSubmenu(context.colorPicker.colorListHTML));\r\n        context.fontColor.colorInput = listDiv.getElementsByClassName('sun-editor-id-submenu-color-input')[0];\r\n\r\n        /** add event listeners */\r\n        context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.getElementsByClassName('sun-editor-id-submenu-color-submit')[0].addEventListener('click', this.submit.bind(core));\r\n        listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickup.bind(core));\r\n\r\n        /** append html */\r\n        targetElement.parentNode.appendChild(listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (colorArea) {\r\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\r\n\r\n        listDiv.className = 'sun-editor-submenu layer_editor';\r\n        listDiv.style.display = 'none';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n\r\n        contextPicker._colorInput = this.context.fontColor.colorInput;\r\n        contextPicker._defaultColor = '#000000';\r\n        contextPicker._styleProperty = 'color';\r\n\r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, '#' + e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) {\r\n            return false;\r\n        }\r\n\r\n        this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        const newNode = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('SPAN');\r\n        newNode.style.color = color;\r\n\r\n        this.nodeChange(newNode, ['color']);\r\n\r\n        this.submenuOff();\r\n        this.focus();\r\n    }\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvZm9udENvbG9yLmpzPzRmY2EiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCO0FBQ2U7O0FBRWxDO0FBQ2Y7QUFDQTtBQUNBLHdCQUF3QixxRUFBVzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwwREFBSTs7QUFFNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSx3QkFBd0IsMERBQUk7QUFDNUI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXHJcbiAqXHJcbiAqIHN1bmVkaXRvci5qc1xyXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxyXG4gKiBNSVQgbGljZW5zZS5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCB1dGlsIGZyb20gJy4uLy4uL2xpYi91dGlsJztcclxuaW1wb3J0IGNvbG9yUGlja2VyIGZyb20gJy4uL21vZHVsZXMvY29sb3JQaWNrZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgbmFtZTogJ2ZvbnRDb2xvcicsXHJcbiAgICBhZGQ6IGZ1bmN0aW9uIChjb3JlLCB0YXJnZXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29yZS5hZGRNb2R1bGUoW2NvbG9yUGlja2VyXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjb3JlLmNvbnRleHQ7XHJcbiAgICAgICAgY29udGV4dC5mb250Q29sb3IgPSB7XHJcbiAgICAgICAgICAgIHByZXZpZXdFbDogbnVsbCxcclxuICAgICAgICAgICAgY29sb3JJbnB1dDogbnVsbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKiBzZXQgc3VibWVudSAqL1xyXG4gICAgICAgIGxldCBsaXN0RGl2ID0gZXZhbCh0aGlzLnNldFN1Ym1lbnUoY29udGV4dC5jb2xvclBpY2tlci5jb2xvckxpc3RIVE1MKSk7XHJcbiAgICAgICAgY29udGV4dC5mb250Q29sb3IuY29sb3JJbnB1dCA9IGxpc3REaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1zdWJtZW51LWNvbG9yLWlucHV0JylbMF07XHJcblxyXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXHJcbiAgICAgICAgY29udGV4dC5mb250Q29sb3IuY29sb3JJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25DaGFuZ2VJbnB1dC5iaW5kKGNvcmUpKTtcclxuICAgICAgICBsaXN0RGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtc3VibWVudS1jb2xvci1zdWJtaXQnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3VibWl0LmJpbmQoY29yZSkpO1xyXG4gICAgICAgIGxpc3REaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1VMJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnBpY2t1cC5iaW5kKGNvcmUpKTtcclxuXHJcbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xyXG5cclxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXHJcbiAgICAgICAgbGlzdERpdiA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uIChjb2xvckFyZWEpIHtcclxuICAgICAgICBjb25zdCBsaXN0RGl2ID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuXHJcbiAgICAgICAgbGlzdERpdi5jbGFzc05hbWUgPSAnc3VuLWVkaXRvci1zdWJtZW51IGxheWVyX2VkaXRvcic7XHJcbiAgICAgICAgbGlzdERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIGxpc3REaXYuaW5uZXJIVE1MID0gY29sb3JBcmVhO1xyXG5cclxuICAgICAgICByZXR1cm4gbGlzdERpdjtcclxuICAgIH0sXHJcblxyXG4gICAgb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0UGlja2VyID0gdGhpcy5jb250ZXh0LmNvbG9yUGlja2VyO1xyXG5cclxuICAgICAgICBjb250ZXh0UGlja2VyLl9jb2xvcklucHV0ID0gdGhpcy5jb250ZXh0LmZvbnRDb2xvci5jb2xvcklucHV0O1xyXG4gICAgICAgIGNvbnRleHRQaWNrZXIuX2RlZmF1bHRDb2xvciA9ICcjMDAwMDAwJztcclxuICAgICAgICBjb250ZXh0UGlja2VyLl9zdHlsZVByb3BlcnR5ID0gJ2NvbG9yJztcclxuXHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmNvbG9yUGlja2VyLmluaXQuY2FsbCh0aGlzLCB0aGlzLmdldFNlbGVjdGlvbk5vZGUoKSwgbnVsbCk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uQ2hhbmdlSW5wdXQ6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmNvbG9yUGlja2VyLnNldEN1cnJlbnRDb2xvci5jYWxsKHRoaXMsICcjJyArIGUudGFyZ2V0LnZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmZvbnRDb2xvci5hcHBseUNvbG9yLmNhbGwodGhpcywgdGhpcy5jb250ZXh0LmNvbG9yUGlja2VyLl9jdXJyZW50Q29sb3IpO1xyXG4gICAgfSxcclxuXHJcbiAgICBwaWNrdXA6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICghL15CVVRUT04kL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBsdWdpbnMuZm9udENvbG9yLmFwcGx5Q29sb3IuY2FsbCh0aGlzLCBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGFwcGx5Q29sb3I6IGZ1bmN0aW9uIChjb2xvcikge1xyXG4gICAgICAgIGNvbnN0IG5ld05vZGUgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcclxuICAgICAgICBuZXdOb2RlLnN0eWxlLmNvbG9yID0gY29sb3I7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZUNoYW5nZShuZXdOb2RlLCBbJ2NvbG9yJ10pO1xyXG5cclxuICAgICAgICB0aGlzLnN1Ym1lbnVPZmYoKTtcclxuICAgICAgICB0aGlzLmZvY3VzKCk7XHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvcGx1Z2lucy9zdWJtZW51L2ZvbnRDb2xvci5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///29\n");

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modules_colorPicker__ = __webpack_require__(4);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    name: 'hiliteColor',\r\n    add: function (core, targetElement) {\r\n        core.addModule([__WEBPACK_IMPORTED_MODULE_1__modules_colorPicker__[\"a\" /* default */]]);\r\n\r\n        const context = core.context;\r\n        context.hiliteColor = {\r\n            previewEl: null,\r\n            colorInput: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = eval(this.setSubmenu(context.colorPicker.colorListHTML));\r\n        context.hiliteColor.colorInput = listDiv.getElementsByClassName('sun-editor-id-submenu-color-input')[0];\r\n\r\n        /** add event listeners */\r\n        context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.getElementsByClassName('sun-editor-id-submenu-color-submit')[0].addEventListener('click', this.submit.bind(core));\r\n        listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickup.bind(core));\r\n\r\n        /** append html */\r\n        targetElement.parentNode.appendChild(listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (colorArea) {\r\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\r\n\r\n        listDiv.className = 'sun-editor-submenu layer_editor';\r\n        listDiv.style.display = 'none';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n\r\n        contextPicker._colorInput = this.context.hiliteColor.colorInput;\r\n        contextPicker._defaultColor = '#FFFFFF';\r\n        contextPicker._styleProperty = 'backgroundColor';\r\n\r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, '#' + e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) {\r\n            return false;\r\n        }\r\n\r\n        this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        const newNode = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('SPAN');\r\n        newNode.style.backgroundColor = color;\r\n\r\n        this.nodeChange(newNode, ['background-color']);\r\n        \r\n        this.submenuOff();\r\n        this.focus();\r\n    }\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvaGlsaXRlQ29sb3IuanM/ZmI4MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFcUI7QUFDZTs7QUFFbEM7QUFDZjtBQUNBO0FBQ0Esd0JBQXdCLHFFQUFXOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0Esd0JBQXdCLDBEQUFJOztBQUU1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwwREFBSTtBQUM1Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUMiLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiB3eXNpd3lnIHdlYiBlZGl0b3JcclxuICpcclxuICogc3VuZWRpdG9yLmpzXHJcbiAqIENvcHlyaWdodCAyMDE3IEppSG9uZyBMZWUuXHJcbiAqIE1JVCBsaWNlbnNlLlxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vbGliL3V0aWwnO1xyXG5pbXBvcnQgY29sb3JQaWNrZXIgZnJvbSAnLi4vbW9kdWxlcy9jb2xvclBpY2tlcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBuYW1lOiAnaGlsaXRlQ29sb3InLFxyXG4gICAgYWRkOiBmdW5jdGlvbiAoY29yZSwgdGFyZ2V0RWxlbWVudCkge1xyXG4gICAgICAgIGNvcmUuYWRkTW9kdWxlKFtjb2xvclBpY2tlcl0pO1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY29yZS5jb250ZXh0O1xyXG4gICAgICAgIGNvbnRleHQuaGlsaXRlQ29sb3IgPSB7XHJcbiAgICAgICAgICAgIHByZXZpZXdFbDogbnVsbCxcclxuICAgICAgICAgICAgY29sb3JJbnB1dDogbnVsbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKiBzZXQgc3VibWVudSAqL1xyXG4gICAgICAgIGxldCBsaXN0RGl2ID0gZXZhbCh0aGlzLnNldFN1Ym1lbnUoY29udGV4dC5jb2xvclBpY2tlci5jb2xvckxpc3RIVE1MKSk7XHJcbiAgICAgICAgY29udGV4dC5oaWxpdGVDb2xvci5jb2xvcklucHV0ID0gbGlzdERpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXN1Ym1lbnUtY29sb3ItaW5wdXQnKVswXTtcclxuXHJcbiAgICAgICAgLyoqIGFkZCBldmVudCBsaXN0ZW5lcnMgKi9cclxuICAgICAgICBjb250ZXh0LmhpbGl0ZUNvbG9yLmNvbG9ySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uQ2hhbmdlSW5wdXQuYmluZChjb3JlKSk7XHJcbiAgICAgICAgbGlzdERpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXN1Ym1lbnUtY29sb3Itc3VibWl0JylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN1Ym1pdC5iaW5kKGNvcmUpKTtcclxuICAgICAgICBsaXN0RGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdVTCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5waWNrdXAuYmluZChjb3JlKSk7XHJcblxyXG4gICAgICAgIC8qKiBhcHBlbmQgaHRtbCAqL1xyXG4gICAgICAgIHRhcmdldEVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChsaXN0RGl2KTtcclxuXHJcbiAgICAgICAgLyoqIGVtcHR5IG1lbW9yeSAqL1xyXG4gICAgICAgIGxpc3REaXYgPSBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXRTdWJtZW51OiBmdW5jdGlvbiAoY29sb3JBcmVhKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdERpdiA9IHV0aWwuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcblxyXG4gICAgICAgIGxpc3REaXYuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3Itc3VibWVudSBsYXllcl9lZGl0b3InO1xyXG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBsaXN0RGl2LmlubmVySFRNTCA9IGNvbG9yQXJlYTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxpc3REaXY7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dFBpY2tlciA9IHRoaXMuY29udGV4dC5jb2xvclBpY2tlcjtcclxuXHJcbiAgICAgICAgY29udGV4dFBpY2tlci5fY29sb3JJbnB1dCA9IHRoaXMuY29udGV4dC5oaWxpdGVDb2xvci5jb2xvcklucHV0O1xyXG4gICAgICAgIGNvbnRleHRQaWNrZXIuX2RlZmF1bHRDb2xvciA9ICcjRkZGRkZGJztcclxuICAgICAgICBjb250ZXh0UGlja2VyLl9zdHlsZVByb3BlcnR5ID0gJ2JhY2tncm91bmRDb2xvcic7XHJcblxyXG4gICAgICAgIHRoaXMucGx1Z2lucy5jb2xvclBpY2tlci5pbml0LmNhbGwodGhpcywgdGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCksIG51bGwpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkNoYW5nZUlucHV0OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5jb2xvclBpY2tlci5zZXRDdXJyZW50Q29sb3IuY2FsbCh0aGlzLCAnIycgKyBlLnRhcmdldC52YWx1ZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHN1Ym1pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5oaWxpdGVDb2xvci5hcHBseUNvbG9yLmNhbGwodGhpcywgdGhpcy5jb250ZXh0LmNvbG9yUGlja2VyLl9jdXJyZW50Q29sb3IpO1xyXG4gICAgfSxcclxuXHJcbiAgICBwaWNrdXA6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICghL15CVVRUT04kL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBsdWdpbnMuaGlsaXRlQ29sb3IuYXBwbHlDb2xvci5jYWxsKHRoaXMsIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpKTtcclxuICAgIH0sXHJcblxyXG4gICAgYXBwbHlDb2xvcjogZnVuY3Rpb24gKGNvbG9yKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IHV0aWwuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xyXG4gICAgICAgIG5ld05vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZUNoYW5nZShuZXdOb2RlLCBbJ2JhY2tncm91bmQtY29sb3InXSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zdWJtZW51T2ZmKCk7XHJcbiAgICAgICAgdGhpcy5mb2N1cygpO1xyXG4gICAgfVxyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zdW5lZGl0b3Ivc3JjL3BsdWdpbnMvc3VibWVudS9oaWxpdGVDb2xvci5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n");

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'horizontalRule',\n    add: function (core, targetElement) {\n        /** set submenu */\n        let listDiv = eval(this.setSubmenu(core.lang));\n\n        /** add event listeners */\n        listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.horizontalRulePick.bind(core));\n\n        /** append html */\n        targetElement.parentNode.appendChild(listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (lang) {\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n\n        listDiv.className = 'sun-editor-submenu layer_editor layer_line';\n        listDiv.style.display = 'none';\n        listDiv.innerHTML = '' +\n            '<div class=\"inner_layer\">' +\n            '   <ul class=\"list_editor\">' +\n            '       <li>' +\n            '           <button type=\"button\" class=\"btn_edit btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' +\n            '               <hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' +\n            '           </button>' +\n            '       </li>' +\n            '       <li>' +\n            '           <button type=\"button\" class=\"btn_edit btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' +\n            '               <hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' +\n            '           </button>' +\n            '       </li>' +\n            '       <li>' +\n            '           <button type=\"button\" class=\"btn_edit btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' +\n            '               <hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' +\n            '           </button>' +\n            '       </li>' +\n            '   </ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    appendHr: function (className) {\n        const oHr = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('HR');\n        oHr.className = className;\n\n        this.focus();\n        this.insertNode(oHr, __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getFormatElement(this.getSelectionNode()));\n\n        const oNode = this.appendFormatTag(oHr);\n        this.setRange(oNode, 0, oNode, 0);\n    },\n\n    horizontalRulePick: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        this.plugins.horizontalRule.appendHr.call(this,value);\n\n        this.submenuOff();\n        this.focus();\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvaG9yaXpvbnRhbFJ1bGUuanM/MWQzNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCOztBQUVuQjtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwwREFBSTs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsK0JBQStCLHFCQUFxQix1QkFBdUIsYUFBYTtBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxnQ0FBZ0MscUJBQXFCLHVCQUF1QixhQUFhO0FBQ3RKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGdDQUFnQyxxQkFBcUIsdUJBQXVCLGFBQWE7QUFDdEo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0Esb0JBQW9CLDBEQUFJO0FBQ3hCOztBQUVBO0FBQ0EsNkJBQTZCLDBEQUFJOztBQUVqQztBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUMiLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXG4gKlxuICogc3VuZWRpdG9yLmpzXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxuICogTUlUIGxpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vbGliL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ2hvcml6b250YWxSdWxlJyxcbiAgICBhZGQ6IGZ1bmN0aW9uIChjb3JlLCB0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgIC8qKiBzZXQgc3VibWVudSAqL1xuICAgICAgICBsZXQgbGlzdERpdiA9IGV2YWwodGhpcy5zZXRTdWJtZW51KGNvcmUubGFuZykpO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIGxpc3REaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1VMJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhvcml6b250YWxSdWxlUGljay5iaW5kKGNvcmUpKTtcblxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xuXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cbiAgICAgICAgbGlzdERpdiA9IG51bGw7XG4gICAgfSxcblxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuXG4gICAgICAgIGxpc3REaXYuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3Itc3VibWVudSBsYXllcl9lZGl0b3IgbGF5ZXJfbGluZSc7XG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgbGlzdERpdi5pbm5lckhUTUwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImlubmVyX2xheWVyXCI+JyArXG4gICAgICAgICAgICAnICAgPHVsIGNsYXNzPVwibGlzdF9lZGl0b3JcIj4nICtcbiAgICAgICAgICAgICcgICAgICAgPGxpPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdCBidG5fbGluZVwiIGRhdGEtY29tbWFuZD1cImhvcml6b250YWxSdWxlXCIgZGF0YS12YWx1ZT1cInNvbGlkXCIgdGl0bGU9XCInICsgbGFuZy50b29sYmFyLmhyX3NvbGlkICsgJ1wiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxociBzdHlsZT1cImJvcmRlci13aWR0aDogMXB4IDAgMDsgYm9yZGVyLXN0eWxlOiBzb2xpZCBub25lIG5vbmU7IGJvcmRlci1jb2xvcjogYmxhY2s7IGJvcmRlci1pbWFnZTogaW5pdGlhbDsgaGVpZ2h0OiAxcHg7XCIgLz4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgICAgICA8L2xpPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+JyArXG4gICAgICAgICAgICAnICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0IGJ0bl9saW5lXCIgZGF0YS1jb21tYW5kPVwiaG9yaXpvbnRhbFJ1bGVcIiBkYXRhLXZhbHVlPVwiZG90dGVkXCIgdGl0bGU9XCInICsgbGFuZy50b29sYmFyLmhyX2RvdHRlZCArICdcIj4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgICAgICA8aHIgc3R5bGU9XCJib3JkZXItd2lkdGg6IDFweCAwIDA7IGJvcmRlci1zdHlsZTogZG90dGVkIG5vbmUgbm9uZTsgYm9yZGVyLWNvbG9yOiBibGFjazsgYm9yZGVyLWltYWdlOiBpbml0aWFsOyBoZWlnaHQ6IDFweDtcIiAvPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPC9idXR0b24+JyArXG4gICAgICAgICAgICAnICAgICAgIDwvbGk+JyArXG4gICAgICAgICAgICAnICAgICAgIDxsaT4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXQgYnRuX2xpbmVcIiBkYXRhLWNvbW1hbmQ9XCJob3Jpem9udGFsUnVsZVwiIGRhdGEtdmFsdWU9XCJkYXNoZWRcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIuaHJfZGFzaGVkICsgJ1wiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxociBzdHlsZT1cImJvcmRlci13aWR0aDogMXB4IDAgMDsgYm9yZGVyLXN0eWxlOiBkYXNoZWQgbm9uZSBub25lOyBib3JkZXItY29sb3I6IGJsYWNrOyBib3JkZXItaW1hZ2U6IGluaXRpYWw7IGhlaWdodDogMXB4O1wiIC8+JyArXG4gICAgICAgICAgICAnICAgICAgICAgICA8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICAgICAgPC9saT4nICtcbiAgICAgICAgICAgICcgICA8L3VsPicgK1xuICAgICAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIGxpc3REaXY7XG4gICAgfSxcblxuICAgIGFwcGVuZEhyOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IG9IciA9IHV0aWwuY3JlYXRlRWxlbWVudCgnSFInKTtcbiAgICAgICAgb0hyLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcblxuICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgIHRoaXMuaW5zZXJ0Tm9kZShvSHIsIHV0aWwuZ2V0Rm9ybWF0RWxlbWVudCh0aGlzLmdldFNlbGVjdGlvbk5vZGUoKSkpO1xuXG4gICAgICAgIGNvbnN0IG9Ob2RlID0gdGhpcy5hcHBlbmRGb3JtYXRUYWcob0hyKTtcbiAgICAgICAgdGhpcy5zZXRSYW5nZShvTm9kZSwgMCwgb05vZGUsIDApO1xuICAgIH0sXG5cbiAgICBob3Jpem9udGFsUnVsZVBpY2s6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAoIXZhbHVlICYmICEvVUwvaS50ZXN0KHRhcmdldC50YWdOYW1lKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucy5ob3Jpem9udGFsUnVsZS5hcHBlbmRIci5jYWxsKHRoaXMsdmFsdWUpO1xuXG4gICAgICAgIHRoaXMuc3VibWVudU9mZigpO1xuICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvcGx1Z2lucy9zdWJtZW51L2hvcml6b250YWxSdWxlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31\n");

/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'list',\n    add: function (core, targetElement) {\n        /** set submenu */\n        let listDiv = eval(this.setSubmenu(core.lang));\n\n        /** add event listeners */\n        listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickup.bind(core));\n\n        /** append html */\n        targetElement.parentNode.appendChild(listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (lang) {\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n\n        listDiv.className = 'sun-editor-submenu layer_editor layer_list';\n        listDiv.style.display = 'none';\n        listDiv.innerHTML = '' +\n            '<div class=\"inner_layer\">' +\n            '   <ul class=\"list_editor\">' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"insertOrderedList\" data-value=\"OL\" title=\"' + lang.toolbar.orderList + '\"><div class=\"icon-list-number\"></div></button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"insertUnorderedList\" data-value=\"UL\" title=\"' + lang.toolbar.unorderList + '\"><div class=\"icon-list-bullets\"></div></button></li>' +\n            '   </ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = '';\n        let value = '';\n\n        while (!command && !/^UL$/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        const formatElement = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getFormatElement(this.getSelectionNode());\n\n        if (/^LI$/i.test(formatElement.tagName)) {\n            const cancel = formatElement.parentNode.tagName === value;\n            this.execCommand(command, false, null);\n            if (cancel) this.execCommand('formatBlock', false, 'DIV');\n        } else {\n            let rightNode = formatElement.nextSibling;\n            let pNode = formatElement.parentNode;\n\n            const list = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement(value);\n            const formatElementList = this.getSelectedFormatElements();\n            \n            for (let i = 0, len = formatElementList.length, fTag = null; i < len; i++) {\n                fTag = formatElementList[i];\n\n                if (i === len - 1) {\n                    rightNode = fTag.nextSibling;\n                    pNode = fTag.parentNode;\n                }\n\n                list.innerHTML += '<li>' + fTag.innerHTML + '</li>';\n                __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeItem(fTag);\n            }\n\n            pNode.insertBefore(list, rightNode);\n        }\n\n        this.submenuOff();\n        this.focus();\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvbGlzdC5qcz9kOWVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFcUI7O0FBRW5CO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0Esd0JBQXdCLDBEQUFJOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEIsMERBQUk7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUEseUJBQXlCLDBEQUFJO0FBQzdCOztBQUVBLHdFQUF3RSxTQUFTO0FBQ2pGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLDBEQUFJO0FBQ3BCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxuICpcbiAqIHN1bmVkaXRvci5qc1xuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cbiAqIE1JVCBsaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlsIGZyb20gJy4uLy4uL2xpYi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6ICdsaXN0JyxcbiAgICBhZGQ6IGZ1bmN0aW9uIChjb3JlLCB0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgIC8qKiBzZXQgc3VibWVudSAqL1xuICAgICAgICBsZXQgbGlzdERpdiA9IGV2YWwodGhpcy5zZXRTdWJtZW51KGNvcmUubGFuZykpO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIGxpc3REaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1VMJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnBpY2t1cC5iaW5kKGNvcmUpKTtcblxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGxpc3REaXYpO1xuXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cbiAgICAgICAgbGlzdERpdiA9IG51bGw7XG4gICAgfSxcblxuICAgIHNldFN1Ym1lbnU6IGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuXG4gICAgICAgIGxpc3REaXYuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3Itc3VibWVudSBsYXllcl9lZGl0b3IgbGF5ZXJfbGlzdCc7XG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgbGlzdERpdi5pbm5lckhUTUwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImlubmVyX2xheWVyXCI+JyArXG4gICAgICAgICAgICAnICAgPHVsIGNsYXNzPVwibGlzdF9lZGl0b3JcIj4nICtcbiAgICAgICAgICAgICcgICAgICAgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLWNvbW1hbmQ9XCJpbnNlcnRPcmRlcmVkTGlzdFwiIGRhdGEtdmFsdWU9XCJPTFwiIHRpdGxlPVwiJyArIGxhbmcudG9vbGJhci5vcmRlckxpc3QgKyAnXCI+PGRpdiBjbGFzcz1cImljb24tbGlzdC1udW1iZXJcIj48L2Rpdj48L2J1dHRvbj48L2xpPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtY29tbWFuZD1cImluc2VydFVub3JkZXJlZExpc3RcIiBkYXRhLXZhbHVlPVwiVUxcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudW5vcmRlckxpc3QgKyAnXCI+PGRpdiBjbGFzcz1cImljb24tbGlzdC1idWxsZXRzXCI+PC9kaXY+PC9idXR0b24+PC9saT4nICtcbiAgICAgICAgICAgICcgICA8L3VsPicgK1xuICAgICAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIGxpc3REaXY7XG4gICAgfSxcblxuICAgIHBpY2t1cDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgbGV0IGNvbW1hbmQgPSAnJztcbiAgICAgICAgbGV0IHZhbHVlID0gJyc7XG5cbiAgICAgICAgd2hpbGUgKCFjb21tYW5kICYmICEvXlVMJC9pLnRlc3QodGFyZ2V0LnRhZ05hbWUpKSB7XG4gICAgICAgICAgICBjb21tYW5kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJyk7XG4gICAgICAgICAgICB2YWx1ZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9ybWF0RWxlbWVudCA9IHV0aWwuZ2V0Rm9ybWF0RWxlbWVudCh0aGlzLmdldFNlbGVjdGlvbk5vZGUoKSk7XG5cbiAgICAgICAgaWYgKC9eTEkkL2kudGVzdChmb3JtYXRFbGVtZW50LnRhZ05hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWwgPSBmb3JtYXRFbGVtZW50LnBhcmVudE5vZGUudGFnTmFtZSA9PT0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlLCBudWxsKTtcbiAgICAgICAgICAgIGlmIChjYW5jZWwpIHRoaXMuZXhlY0NvbW1hbmQoJ2Zvcm1hdEJsb2NrJywgZmFsc2UsICdESVYnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCByaWdodE5vZGUgPSBmb3JtYXRFbGVtZW50Lm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgbGV0IHBOb2RlID0gZm9ybWF0RWxlbWVudC5wYXJlbnROb2RlO1xuXG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gdXRpbC5jcmVhdGVFbGVtZW50KHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdEVsZW1lbnRMaXN0ID0gdGhpcy5nZXRTZWxlY3RlZEZvcm1hdEVsZW1lbnRzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBmb3JtYXRFbGVtZW50TGlzdC5sZW5ndGgsIGZUYWcgPSBudWxsOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmVGFnID0gZm9ybWF0RWxlbWVudExpc3RbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbGVuIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICByaWdodE5vZGUgPSBmVGFnLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBwTm9kZSA9IGZUYWcucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsaXN0LmlubmVySFRNTCArPSAnPGxpPicgKyBmVGFnLmlubmVySFRNTCArICc8L2xpPic7XG4gICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVJdGVtKGZUYWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwTm9kZS5pbnNlcnRCZWZvcmUobGlzdCwgcmlnaHROb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3VibWVudU9mZigpO1xuICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvcGx1Z2lucy9zdWJtZW51L2xpc3QuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32\n");

/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'table',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.table = {\n            _element: null,\n            _tdElement: null,\n            _trElement: null,\n            _trElements: null,\n            _tdIndex: 0,\n            _trIndex: 0,\n            _tdCnt: 0,\n            _trCnt: 0,\n            _tableXY: []\n        };\n\n        /** set submenu */\n        let listDiv = eval(this.setSubmenu());\n        let tablePicker = listDiv.getElementsByClassName('sun-editor-id-table-picker')[0];\n\n        context.table.tableHighlight = listDiv.getElementsByClassName('sun-editor-id-table-highlighted')[0];\n        context.table.tableUnHighlight = listDiv.getElementsByClassName('sun-editor-id-table-unhighlighted')[0];\n        context.table.tableDisplay = listDiv.getElementsByClassName('sun-editor-table-display')[0];\n\n        /** set resizing */\n        let resizeDiv = eval(this.setController_tableEditor(core.lang));\n        context.table.resizeDiv = resizeDiv;\n        resizeDiv.addEventListener('mousedown', function (e) { e.stopPropagation(); }, false);\n        \n        /** add event listeners */\n        tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core));\n        tablePicker.addEventListener('click', this.appendTable.bind(core));\n        resizeDiv.addEventListener('click', this.onClick_resizeDiv.bind(core));\n\n        /** append html */\n        targetElement.parentNode.appendChild(listDiv);\n        context.element.relative.appendChild(resizeDiv);\n\n        /** empty memory */\n        listDiv = null, tablePicker = null, resizeDiv = null;\n    },\n\n    setSubmenu: function () {\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        listDiv.className = 'sun-editor-submenu table-content';\n        listDiv.style.display = 'none';\n\n        listDiv.innerHTML = '' +\n            '<div class=\"table-data-form\">' +\n            '   <div class=\"table-picker sun-editor-id-table-picker\"></div>' +\n            '   <div class=\"table-highlighted sun-editor-id-table-highlighted\"></div>' +\n            '   <div class=\"table-unhighlighted sun-editor-id-table-unhighlighted\"></div>' +\n            '</div>' +\n            '<div class=\"table-display sun-editor-table-display\">1 x 1</div>';\n\n        return listDiv;\n    },\n\n    setController_tableEditor: function (lang) {\n        const tableResize = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n\n        tableResize.className = 'sun-editor-id-table-edit';\n        tableResize.style.display = 'none';\n        tableResize.innerHTML = '' +\n            '<div class=\"arrow arrow-up\"></div>' +\n            '<div>' +\n            '   <div class=\"btn-group\">' +\n            '     <button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" title=\"' + lang.controller.insertRowAbove + '\"><div class=\"icon-insert-row-above\"></div></button>' +\n            '     <button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" title=\"' + lang.controller.insertRowBelow + '\"><div class=\"icon-insert-row-below\"></div></button>' +\n            '     <button type=\"button\" data-command=\"delete\" data-value=\"row\" title=\"' + lang.controller.deleteRow + '\"><div class=\"icon-delete-row\"></div></button>' +\n            '   </div>' +\n            '</div>' +\n            '<div>' +\n            '   <div class=\"btn-group\">' +\n            '     <button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" title=\"' + lang.controller.insertColumnBefore + '\"><div class=\"icon-insert-column-left\"></div></button>' +\n            '     <button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" title=\"' + lang.controller.insertColumnAfter + '\"><div class=\"icon-insert-column-right\"></div></button>' +\n            '     <button type=\"button\" data-command=\"delete\" data-value=\"cell\" title=\"' + lang.controller.deleteColumn + '\"><div class=\"icon-delete-column\"></div></button>' +\n            '     <button type=\"button\" data-command=\"remove\" title=\"' + lang.controller.remove + '\"><div class=\"icon-delete\"></div></button>' +\n            '   </div>' +\n            '</div>';\n\n        return tableResize;\n    },\n\n    appendTable: function () {\n        const oTable = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('TABLE');\n\n        let x = this.context.table._tableXY[0];\n        let y = this.context.table._tableXY[1];\n        let tableHTML = '<tbody>';\n\n        while (y > 0) {\n            tableHTML += '<tr>';\n            let tdCnt = x;\n            while (tdCnt > 0) {\n                tableHTML += '<td><div>' + __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].zeroWidthSpace + '</div></td>';\n                --tdCnt;\n            }\n            tableHTML += '</tr>';\n            --y;\n        }\n        tableHTML += '</tbody>';\n\n        oTable.innerHTML = tableHTML;\n\n        const formatEl = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getFormatElement(this.getSelectionNode());\n\n        this.insertNode(oTable, /^LI$/i.test(formatEl.nodeName) ? __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getRangeFormatElement(formatEl) : formatEl);\n        this.appendFormatTag(oTable);\n        this.focus();\n\n        this.plugins.table.reset_table_picker.call(this);\n    },\n\n    onMouseMove_tablePicker: function (e) {\n        e.stopPropagation();\n\n        let x = Math.ceil(e.offsetX / 18);\n        let y = Math.ceil(e.offsetY / 18);\n        x = x < 1 ? 1 : x;\n        y = y < 1 ? 1 : y;\n        this.context.table.tableHighlight.style.width = x + 'em';\n        this.context.table.tableHighlight.style.height = y + 'em';\n\n        let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\n        let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\n        this.context.table.tableUnHighlight.style.width = x_u + 'em';\n        this.context.table.tableUnHighlight.style.height = y_u + 'em';\n\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].changeTxt(this.context.table.tableDisplay, x + ' x ' + y);\n        this.context.table._tableXY = [x, y];\n    },\n\n    reset_table_picker: function () {\n        if (!this.context.table.tableHighlight) return;\n\n        const highlight = this.context.table.tableHighlight.style;\n        const unHighlight = this.context.table.tableUnHighlight.style;\n\n        highlight.width = '1em';\n        highlight.height = '1em';\n        unHighlight.width = '5em';\n        unHighlight.height = '5em';\n\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].changeTxt(this.context.table.tableDisplay, '1 x 1');\n        this.submenuOff();\n    },\n\n    init: function () {\n        const contextTable = this.context.table;\n        \n        if (contextTable._tdElement) __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(contextTable._tdElement, 'sun-editor-selected-cell');\n\n        contextTable._element = null;\n        contextTable._tdElement = null;\n        contextTable._trElement = null;\n        contextTable._trElements = 0;\n        contextTable._tdIndex = 0;\n        contextTable._trIndex = 0;\n        contextTable._trCnt = 0;\n        contextTable._tdCnt = 0;\n        contextTable._tableXY = [];\n    },\n\n    /** table edit controller */\n    call_controller_tableEdit: function (tdElement) {\n        this.plugins.table.init.call(this);\n        const contextTable = this.context.table;\n        const resizeDiv = contextTable.resizeDiv;\n        \n        this.plugins.table.setPositionControllerDiv.call(this, tdElement, false);\n        resizeDiv.style.display = 'block';\n\n        this.controllersOn(resizeDiv);\n    },\n\n    setPositionControllerDiv: function (tdElement, reset) {\n        const contextTable = this.context.table;\n        const resizeDiv = contextTable.resizeDiv;\n        let table = contextTable._element;\n\n        if (!table) {\n            table = tdElement;\n            while (!/^TABLE$/i.test(table.nodeName)) {\n                table = table.parentNode;\n            }\n            contextTable._element = table;\n        }\n\n        if (contextTable._tdElement !== tdElement) {\n            if (contextTable._tdElement) __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(contextTable._tdElement, 'sun-editor-selected-cell');\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(tdElement, 'sun-editor-selected-cell');\n            contextTable._tdElement = tdElement;\n            contextTable._trElement = tdElement.parentNode;\n        }\n\n        if (reset || contextTable._trCnt === 0) {\n            contextTable._trElements = table.rows;\n            contextTable._tdIndex = tdElement.cellIndex;\n            contextTable._trIndex = contextTable._trElement.rowIndex;\n            contextTable._trCnt = table.rows.length;\n            contextTable._tdCnt = contextTable._trElement.cells.length;\n        }\n\n        const offset = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getOffset(tdElement);\n        resizeDiv.style.left = (offset.left - this.context.element.wysiwyg.scrollLeft) + 'px';\n        resizeDiv.style.top = (offset.top + tdElement.offsetHeight + 12) + 'px';\n    },\n\n    insertRowCell: function (type, option) {\n        const contextTable = this.context.table;\n\n        if (type === 'row') {\n            const rowIndex = option === 'up' ? contextTable._trIndex : contextTable._trIndex + 1;\n            let cells = '';\n\n            for (let i = 0, len = contextTable._tdCnt; i < len; i++) {\n                cells += '<td><div>' + __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].zeroWidthSpace + '</div></td>';\n            }\n\n            const newRow = contextTable._element.insertRow(rowIndex);\n            newRow.innerHTML = cells;\n        }\n        // cell\n        else {\n            const trArray = contextTable._trElements;\n            const cellIndex = option === 'left' ? contextTable._tdIndex : contextTable._tdIndex + 1;\n            let cell = null;\n            \n            for (let i = 0, len = contextTable._trCnt; i < len; i++) {\n                cell = trArray[i].insertCell(cellIndex);\n                cell.innerHTML = '<div>' + __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].zeroWidthSpace + '</div>';\n            }\n        }\n\n        this.plugins.table.setPositionControllerDiv.call(this, contextTable._tdElement, true);\n    },\n\n    deleteRowCell: function (type) {\n        const contextTable = this.context.table;\n\n        if (type === 'row') {\n            contextTable._element.deleteRow(contextTable._trIndex);\n        }\n        // cell\n        else {\n            const trArray = contextTable._trElements;\n            const cellIndex = contextTable._tdIndex;\n            \n            for (let i = 0, len = contextTable._trCnt; i < len; i++) {\n                trArray[i].deleteCell(cellIndex);\n            }\n        }\n\n        this.controllersOff();\n    },\n\n    onClick_resizeDiv: function (e) {\n        e.stopPropagation();\n        const target = e.target;\n\n        const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n        const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n        const option = target.getAttribute('data-option') || target.parentNode.getAttribute('data-option');\n        \n        if (!command) return;\n\n        e.preventDefault();\n        const contextTable = this.context.table;\n\n        switch (command) {\n            case 'insert':\n                this.plugins.table.insertRowCell.call(this, value, option);\n                break;\n            case 'delete':\n                this.plugins.table.deleteRowCell.call(this, value);\n                break;\n            case 'remove':\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeItem(contextTable._element);\n            this.controllersOff();\n            this.focus();\n        }\n\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvdGFibGUuanM/N2QxOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCOztBQUVuQjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQscUJBQXFCLEVBQUU7O0FBRXJGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwwREFBSTtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLDRCQUE0QiwwREFBSTs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0EsdUJBQXVCLDBEQUFJOztBQUUzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMERBQUk7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHlCQUF5QiwwREFBSTs7QUFFN0Isa0VBQWtFLDBEQUFJO0FBQ3RFO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsMERBQUk7QUFDWjtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsMERBQUk7QUFDWjtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQSxxQ0FBcUMsMERBQUk7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QywwREFBSTtBQUM3QyxZQUFZLDBEQUFJO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsMERBQUk7QUFDM0I7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0RBQXNELFNBQVM7QUFDL0QsdUNBQXVDLDBEQUFJO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0RBQXNELFNBQVM7QUFDL0Q7QUFDQSwyQ0FBMkMsMERBQUk7QUFDL0M7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzREFBc0QsU0FBUztBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBSTtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDLEVBQUMiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogd3lzaXd5ZyB3ZWIgZWRpdG9yXG4gKlxuICogc3VuZWRpdG9yLmpzXG4gKiBDb3B5cmlnaHQgMjAxNyBKaUhvbmcgTGVlLlxuICogTUlUIGxpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vbGliL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ3RhYmxlJyxcbiAgICBhZGQ6IGZ1bmN0aW9uIChjb3JlLCB0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjb3JlLmNvbnRleHQ7XG4gICAgICAgIGNvbnRleHQudGFibGUgPSB7XG4gICAgICAgICAgICBfZWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIF90ZEVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBfdHJFbGVtZW50OiBudWxsLFxuICAgICAgICAgICAgX3RyRWxlbWVudHM6IG51bGwsXG4gICAgICAgICAgICBfdGRJbmRleDogMCxcbiAgICAgICAgICAgIF90ckluZGV4OiAwLFxuICAgICAgICAgICAgX3RkQ250OiAwLFxuICAgICAgICAgICAgX3RyQ250OiAwLFxuICAgICAgICAgICAgX3RhYmxlWFk6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqIHNldCBzdWJtZW51ICovXG4gICAgICAgIGxldCBsaXN0RGl2ID0gZXZhbCh0aGlzLnNldFN1Ym1lbnUoKSk7XG4gICAgICAgIGxldCB0YWJsZVBpY2tlciA9IGxpc3REaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC10YWJsZS1waWNrZXInKVswXTtcblxuICAgICAgICBjb250ZXh0LnRhYmxlLnRhYmxlSGlnaGxpZ2h0ID0gbGlzdERpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXRhYmxlLWhpZ2hsaWdodGVkJylbMF07XG4gICAgICAgIGNvbnRleHQudGFibGUudGFibGVVbkhpZ2hsaWdodCA9IGxpc3REaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC10YWJsZS11bmhpZ2hsaWdodGVkJylbMF07XG4gICAgICAgIGNvbnRleHQudGFibGUudGFibGVEaXNwbGF5ID0gbGlzdERpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLXRhYmxlLWRpc3BsYXknKVswXTtcblxuICAgICAgICAvKiogc2V0IHJlc2l6aW5nICovXG4gICAgICAgIGxldCByZXNpemVEaXYgPSBldmFsKHRoaXMuc2V0Q29udHJvbGxlcl90YWJsZUVkaXRvcihjb3JlLmxhbmcpKTtcbiAgICAgICAgY29udGV4dC50YWJsZS5yZXNpemVEaXYgPSByZXNpemVEaXY7XG4gICAgICAgIHJlc2l6ZURpdi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9LCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAvKiogYWRkIGV2ZW50IGxpc3RlbmVycyAqL1xuICAgICAgICB0YWJsZVBpY2tlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlX3RhYmxlUGlja2VyLmJpbmQoY29yZSkpO1xuICAgICAgICB0YWJsZVBpY2tlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYXBwZW5kVGFibGUuYmluZChjb3JlKSk7XG4gICAgICAgIHJlc2l6ZURpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja19yZXNpemVEaXYuYmluZChjb3JlKSk7XG5cbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXG4gICAgICAgIHRhcmdldEVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChsaXN0RGl2KTtcbiAgICAgICAgY29udGV4dC5lbGVtZW50LnJlbGF0aXZlLmFwcGVuZENoaWxkKHJlc2l6ZURpdik7XG5cbiAgICAgICAgLyoqIGVtcHR5IG1lbW9yeSAqL1xuICAgICAgICBsaXN0RGl2ID0gbnVsbCwgdGFibGVQaWNrZXIgPSBudWxsLCByZXNpemVEaXYgPSBudWxsO1xuICAgIH0sXG5cbiAgICBzZXRTdWJtZW51OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICAgICAgICBsaXN0RGl2LmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLXN1Ym1lbnUgdGFibGUtY29udGVudCc7XG4gICAgICAgIGxpc3REaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBsaXN0RGl2LmlubmVySFRNTCA9ICcnICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGFibGUtZGF0YS1mb3JtXCI+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInRhYmxlLXBpY2tlciBzdW4tZWRpdG9yLWlkLXRhYmxlLXBpY2tlclwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1oaWdobGlnaHRlZCBzdW4tZWRpdG9yLWlkLXRhYmxlLWhpZ2hsaWdodGVkXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cInRhYmxlLXVuaGlnaGxpZ2h0ZWQgc3VuLWVkaXRvci1pZC10YWJsZS11bmhpZ2hsaWdodGVkXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRhYmxlLWRpc3BsYXkgc3VuLWVkaXRvci10YWJsZS1kaXNwbGF5XCI+MSB4IDE8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiBsaXN0RGl2O1xuICAgIH0sXG5cbiAgICBzZXRDb250cm9sbGVyX3RhYmxlRWRpdG9yOiBmdW5jdGlvbiAobGFuZykge1xuICAgICAgICBjb25zdCB0YWJsZVJlc2l6ZSA9IHV0aWwuY3JlYXRlRWxlbWVudCgnRElWJyk7XG5cbiAgICAgICAgdGFibGVSZXNpemUuY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtdGFibGUtZWRpdCc7XG4gICAgICAgIHRhYmxlUmVzaXplLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRhYmxlUmVzaXplLmlubmVySFRNTCA9ICcnICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYXJyb3cgYXJyb3ctdXBcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2PicgK1xuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj4nICtcbiAgICAgICAgICAgICcgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cImluc2VydFwiIGRhdGEtdmFsdWU9XCJyb3dcIiBkYXRhLW9wdGlvbj1cInVwXCIgdGl0bGU9XCInICsgbGFuZy5jb250cm9sbGVyLmluc2VydFJvd0Fib3ZlICsgJ1wiPjxkaXYgY2xhc3M9XCJpY29uLWluc2VydC1yb3ctYWJvdmVcIj48L2Rpdj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cImluc2VydFwiIGRhdGEtdmFsdWU9XCJyb3dcIiBkYXRhLW9wdGlvbj1cImRvd25cIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIuaW5zZXJ0Um93QmVsb3cgKyAnXCI+PGRpdiBjbGFzcz1cImljb24taW5zZXJ0LXJvdy1iZWxvd1wiPjwvZGl2PjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1jb21tYW5kPVwiZGVsZXRlXCIgZGF0YS12YWx1ZT1cInJvd1wiIHRpdGxlPVwiJyArIGxhbmcuY29udHJvbGxlci5kZWxldGVSb3cgKyAnXCI+PGRpdiBjbGFzcz1cImljb24tZGVsZXRlLXJvd1wiPjwvZGl2PjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzxkaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiPicgK1xuICAgICAgICAgICAgJyAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1jb21tYW5kPVwiaW5zZXJ0XCIgZGF0YS12YWx1ZT1cImNlbGxcIiBkYXRhLW9wdGlvbj1cImxlZnRcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIuaW5zZXJ0Q29sdW1uQmVmb3JlICsgJ1wiPjxkaXYgY2xhc3M9XCJpY29uLWluc2VydC1jb2x1bW4tbGVmdFwiPjwvZGl2PjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1jb21tYW5kPVwiaW5zZXJ0XCIgZGF0YS12YWx1ZT1cImNlbGxcIiBkYXRhLW9wdGlvbj1cInJpZ2h0XCIgdGl0bGU9XCInICsgbGFuZy5jb250cm9sbGVyLmluc2VydENvbHVtbkFmdGVyICsgJ1wiPjxkaXYgY2xhc3M9XCJpY29uLWluc2VydC1jb2x1bW4tcmlnaHRcIj48L2Rpdj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cImRlbGV0ZVwiIGRhdGEtdmFsdWU9XCJjZWxsXCIgdGl0bGU9XCInICsgbGFuZy5jb250cm9sbGVyLmRlbGV0ZUNvbHVtbiArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1kZWxldGUtY29sdW1uXCI+PC9kaXY+PC9idXR0b24+JyArXG4gICAgICAgICAgICAnICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJyZW1vdmVcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIucmVtb3ZlICsgJ1wiPjxkaXYgY2xhc3M9XCJpY29uLWRlbGV0ZVwiPjwvZGl2PjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIHRhYmxlUmVzaXplO1xuICAgIH0sXG5cbiAgICBhcHBlbmRUYWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBvVGFibGUgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ1RBQkxFJyk7XG5cbiAgICAgICAgbGV0IHggPSB0aGlzLmNvbnRleHQudGFibGUuX3RhYmxlWFlbMF07XG4gICAgICAgIGxldCB5ID0gdGhpcy5jb250ZXh0LnRhYmxlLl90YWJsZVhZWzFdO1xuICAgICAgICBsZXQgdGFibGVIVE1MID0gJzx0Ym9keT4nO1xuXG4gICAgICAgIHdoaWxlICh5ID4gMCkge1xuICAgICAgICAgICAgdGFibGVIVE1MICs9ICc8dHI+JztcbiAgICAgICAgICAgIGxldCB0ZENudCA9IHg7XG4gICAgICAgICAgICB3aGlsZSAodGRDbnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGFibGVIVE1MICs9ICc8dGQ+PGRpdj4nICsgdXRpbC56ZXJvV2lkdGhTcGFjZSArICc8L2Rpdj48L3RkPic7XG4gICAgICAgICAgICAgICAgLS10ZENudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhYmxlSFRNTCArPSAnPC90cj4nO1xuICAgICAgICAgICAgLS15O1xuICAgICAgICB9XG4gICAgICAgIHRhYmxlSFRNTCArPSAnPC90Ym9keT4nO1xuXG4gICAgICAgIG9UYWJsZS5pbm5lckhUTUwgPSB0YWJsZUhUTUw7XG5cbiAgICAgICAgY29uc3QgZm9ybWF0RWwgPSB1dGlsLmdldEZvcm1hdEVsZW1lbnQodGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCkpO1xuXG4gICAgICAgIHRoaXMuaW5zZXJ0Tm9kZShvVGFibGUsIC9eTEkkL2kudGVzdChmb3JtYXRFbC5ub2RlTmFtZSkgPyB1dGlsLmdldFJhbmdlRm9ybWF0RWxlbWVudChmb3JtYXRFbCkgOiBmb3JtYXRFbCk7XG4gICAgICAgIHRoaXMuYXBwZW5kRm9ybWF0VGFnKG9UYWJsZSk7XG4gICAgICAgIHRoaXMuZm9jdXMoKTtcblxuICAgICAgICB0aGlzLnBsdWdpbnMudGFibGUucmVzZXRfdGFibGVfcGlja2VyLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIG9uTW91c2VNb3ZlX3RhYmxlUGlja2VyOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGxldCB4ID0gTWF0aC5jZWlsKGUub2Zmc2V0WCAvIDE4KTtcbiAgICAgICAgbGV0IHkgPSBNYXRoLmNlaWwoZS5vZmZzZXRZIC8gMTgpO1xuICAgICAgICB4ID0geCA8IDEgPyAxIDogeDtcbiAgICAgICAgeSA9IHkgPCAxID8gMSA6IHk7XG4gICAgICAgIHRoaXMuY29udGV4dC50YWJsZS50YWJsZUhpZ2hsaWdodC5zdHlsZS53aWR0aCA9IHggKyAnZW0nO1xuICAgICAgICB0aGlzLmNvbnRleHQudGFibGUudGFibGVIaWdobGlnaHQuc3R5bGUuaGVpZ2h0ID0geSArICdlbSc7XG5cbiAgICAgICAgbGV0IHhfdSA9IHggPCA1ID8gNSA6ICh4ID4gOSA/IDEwIDogeCArIDEpO1xuICAgICAgICBsZXQgeV91ID0geSA8IDUgPyA1IDogKHkgPiA5ID8gMTAgOiB5ICsgMSk7XG4gICAgICAgIHRoaXMuY29udGV4dC50YWJsZS50YWJsZVVuSGlnaGxpZ2h0LnN0eWxlLndpZHRoID0geF91ICsgJ2VtJztcbiAgICAgICAgdGhpcy5jb250ZXh0LnRhYmxlLnRhYmxlVW5IaWdobGlnaHQuc3R5bGUuaGVpZ2h0ID0geV91ICsgJ2VtJztcblxuICAgICAgICB1dGlsLmNoYW5nZVR4dCh0aGlzLmNvbnRleHQudGFibGUudGFibGVEaXNwbGF5LCB4ICsgJyB4ICcgKyB5KTtcbiAgICAgICAgdGhpcy5jb250ZXh0LnRhYmxlLl90YWJsZVhZID0gW3gsIHldO1xuICAgIH0sXG5cbiAgICByZXNldF90YWJsZV9waWNrZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRleHQudGFibGUudGFibGVIaWdobGlnaHQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLmNvbnRleHQudGFibGUudGFibGVIaWdobGlnaHQuc3R5bGU7XG4gICAgICAgIGNvbnN0IHVuSGlnaGxpZ2h0ID0gdGhpcy5jb250ZXh0LnRhYmxlLnRhYmxlVW5IaWdobGlnaHQuc3R5bGU7XG5cbiAgICAgICAgaGlnaGxpZ2h0LndpZHRoID0gJzFlbSc7XG4gICAgICAgIGhpZ2hsaWdodC5oZWlnaHQgPSAnMWVtJztcbiAgICAgICAgdW5IaWdobGlnaHQud2lkdGggPSAnNWVtJztcbiAgICAgICAgdW5IaWdobGlnaHQuaGVpZ2h0ID0gJzVlbSc7XG5cbiAgICAgICAgdXRpbC5jaGFuZ2VUeHQodGhpcy5jb250ZXh0LnRhYmxlLnRhYmxlRGlzcGxheSwgJzEgeCAxJyk7XG4gICAgICAgIHRoaXMuc3VibWVudU9mZigpO1xuICAgIH0sXG5cbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHRUYWJsZSA9IHRoaXMuY29udGV4dC50YWJsZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb250ZXh0VGFibGUuX3RkRWxlbWVudCkgdXRpbC5yZW1vdmVDbGFzcyhjb250ZXh0VGFibGUuX3RkRWxlbWVudCwgJ3N1bi1lZGl0b3Itc2VsZWN0ZWQtY2VsbCcpO1xuXG4gICAgICAgIGNvbnRleHRUYWJsZS5fZWxlbWVudCA9IG51bGw7XG4gICAgICAgIGNvbnRleHRUYWJsZS5fdGRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgY29udGV4dFRhYmxlLl90ckVsZW1lbnQgPSBudWxsO1xuICAgICAgICBjb250ZXh0VGFibGUuX3RyRWxlbWVudHMgPSAwO1xuICAgICAgICBjb250ZXh0VGFibGUuX3RkSW5kZXggPSAwO1xuICAgICAgICBjb250ZXh0VGFibGUuX3RySW5kZXggPSAwO1xuICAgICAgICBjb250ZXh0VGFibGUuX3RyQ250ID0gMDtcbiAgICAgICAgY29udGV4dFRhYmxlLl90ZENudCA9IDA7XG4gICAgICAgIGNvbnRleHRUYWJsZS5fdGFibGVYWSA9IFtdO1xuICAgIH0sXG5cbiAgICAvKiogdGFibGUgZWRpdCBjb250cm9sbGVyICovXG4gICAgY2FsbF9jb250cm9sbGVyX3RhYmxlRWRpdDogZnVuY3Rpb24gKHRkRWxlbWVudCkge1xuICAgICAgICB0aGlzLnBsdWdpbnMudGFibGUuaW5pdC5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCBjb250ZXh0VGFibGUgPSB0aGlzLmNvbnRleHQudGFibGU7XG4gICAgICAgIGNvbnN0IHJlc2l6ZURpdiA9IGNvbnRleHRUYWJsZS5yZXNpemVEaXY7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnBsdWdpbnMudGFibGUuc2V0UG9zaXRpb25Db250cm9sbGVyRGl2LmNhbGwodGhpcywgdGRFbGVtZW50LCBmYWxzZSk7XG4gICAgICAgIHJlc2l6ZURpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzT24ocmVzaXplRGl2KTtcbiAgICB9LFxuXG4gICAgc2V0UG9zaXRpb25Db250cm9sbGVyRGl2OiBmdW5jdGlvbiAodGRFbGVtZW50LCByZXNldCkge1xuICAgICAgICBjb25zdCBjb250ZXh0VGFibGUgPSB0aGlzLmNvbnRleHQudGFibGU7XG4gICAgICAgIGNvbnN0IHJlc2l6ZURpdiA9IGNvbnRleHRUYWJsZS5yZXNpemVEaXY7XG4gICAgICAgIGxldCB0YWJsZSA9IGNvbnRleHRUYWJsZS5fZWxlbWVudDtcblxuICAgICAgICBpZiAoIXRhYmxlKSB7XG4gICAgICAgICAgICB0YWJsZSA9IHRkRWxlbWVudDtcbiAgICAgICAgICAgIHdoaWxlICghL15UQUJMRSQvaS50ZXN0KHRhYmxlLm5vZGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRhYmxlID0gdGFibGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHRUYWJsZS5fZWxlbWVudCA9IHRhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHRUYWJsZS5fdGRFbGVtZW50ICE9PSB0ZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0VGFibGUuX3RkRWxlbWVudCkgdXRpbC5yZW1vdmVDbGFzcyhjb250ZXh0VGFibGUuX3RkRWxlbWVudCwgJ3N1bi1lZGl0b3Itc2VsZWN0ZWQtY2VsbCcpO1xuICAgICAgICAgICAgdXRpbC5hZGRDbGFzcyh0ZEVsZW1lbnQsICdzdW4tZWRpdG9yLXNlbGVjdGVkLWNlbGwnKTtcbiAgICAgICAgICAgIGNvbnRleHRUYWJsZS5fdGRFbGVtZW50ID0gdGRFbGVtZW50O1xuICAgICAgICAgICAgY29udGV4dFRhYmxlLl90ckVsZW1lbnQgPSB0ZEVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNldCB8fCBjb250ZXh0VGFibGUuX3RyQ250ID09PSAwKSB7XG4gICAgICAgICAgICBjb250ZXh0VGFibGUuX3RyRWxlbWVudHMgPSB0YWJsZS5yb3dzO1xuICAgICAgICAgICAgY29udGV4dFRhYmxlLl90ZEluZGV4ID0gdGRFbGVtZW50LmNlbGxJbmRleDtcbiAgICAgICAgICAgIGNvbnRleHRUYWJsZS5fdHJJbmRleCA9IGNvbnRleHRUYWJsZS5fdHJFbGVtZW50LnJvd0luZGV4O1xuICAgICAgICAgICAgY29udGV4dFRhYmxlLl90ckNudCA9IHRhYmxlLnJvd3MubGVuZ3RoO1xuICAgICAgICAgICAgY29udGV4dFRhYmxlLl90ZENudCA9IGNvbnRleHRUYWJsZS5fdHJFbGVtZW50LmNlbGxzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHV0aWwuZ2V0T2Zmc2V0KHRkRWxlbWVudCk7XG4gICAgICAgIHJlc2l6ZURpdi5zdHlsZS5sZWZ0ID0gKG9mZnNldC5sZWZ0IC0gdGhpcy5jb250ZXh0LmVsZW1lbnQud3lzaXd5Zy5zY3JvbGxMZWZ0KSArICdweCc7XG4gICAgICAgIHJlc2l6ZURpdi5zdHlsZS50b3AgPSAob2Zmc2V0LnRvcCArIHRkRWxlbWVudC5vZmZzZXRIZWlnaHQgKyAxMikgKyAncHgnO1xuICAgIH0sXG5cbiAgICBpbnNlcnRSb3dDZWxsOiBmdW5jdGlvbiAodHlwZSwgb3B0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHRUYWJsZSA9IHRoaXMuY29udGV4dC50YWJsZTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ3JvdycpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvd0luZGV4ID0gb3B0aW9uID09PSAndXAnID8gY29udGV4dFRhYmxlLl90ckluZGV4IDogY29udGV4dFRhYmxlLl90ckluZGV4ICsgMTtcbiAgICAgICAgICAgIGxldCBjZWxscyA9ICcnO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29udGV4dFRhYmxlLl90ZENudDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2VsbHMgKz0gJzx0ZD48ZGl2PicgKyB1dGlsLnplcm9XaWR0aFNwYWNlICsgJzwvZGl2PjwvdGQ+JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3Um93ID0gY29udGV4dFRhYmxlLl9lbGVtZW50Lmluc2VydFJvdyhyb3dJbmRleCk7XG4gICAgICAgICAgICBuZXdSb3cuaW5uZXJIVE1MID0gY2VsbHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2VsbFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRyQXJyYXkgPSBjb250ZXh0VGFibGUuX3RyRWxlbWVudHM7XG4gICAgICAgICAgICBjb25zdCBjZWxsSW5kZXggPSBvcHRpb24gPT09ICdsZWZ0JyA/IGNvbnRleHRUYWJsZS5fdGRJbmRleCA6IGNvbnRleHRUYWJsZS5fdGRJbmRleCArIDE7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IG51bGw7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjb250ZXh0VGFibGUuX3RyQ250OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjZWxsID0gdHJBcnJheVtpXS5pbnNlcnRDZWxsKGNlbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSAnPGRpdj4nICsgdXRpbC56ZXJvV2lkdGhTcGFjZSArICc8L2Rpdj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbHVnaW5zLnRhYmxlLnNldFBvc2l0aW9uQ29udHJvbGxlckRpdi5jYWxsKHRoaXMsIGNvbnRleHRUYWJsZS5fdGRFbGVtZW50LCB0cnVlKTtcbiAgICB9LFxuXG4gICAgZGVsZXRlUm93Q2VsbDogZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dFRhYmxlID0gdGhpcy5jb250ZXh0LnRhYmxlO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAncm93Jykge1xuICAgICAgICAgICAgY29udGV4dFRhYmxlLl9lbGVtZW50LmRlbGV0ZVJvdyhjb250ZXh0VGFibGUuX3RySW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNlbGxcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0ckFycmF5ID0gY29udGV4dFRhYmxlLl90ckVsZW1lbnRzO1xuICAgICAgICAgICAgY29uc3QgY2VsbEluZGV4ID0gY29udGV4dFRhYmxlLl90ZEluZGV4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29udGV4dFRhYmxlLl90ckNudDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdHJBcnJheVtpXS5kZWxldGVDZWxsKGNlbGxJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzT2ZmKCk7XG4gICAgfSxcblxuICAgIG9uQ2xpY2tfcmVzaXplRGl2OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcblxuICAgICAgICBjb25zdCBjb21tYW5kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJykgfHwgdGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbW1hbmQnKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJykgfHwgdGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9uJykgfHwgdGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbicpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFjb21tYW5kKSByZXR1cm47XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBjb250ZXh0VGFibGUgPSB0aGlzLmNvbnRleHQudGFibGU7XG5cbiAgICAgICAgc3dpdGNoIChjb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy50YWJsZS5pbnNlcnRSb3dDZWxsLmNhbGwodGhpcywgdmFsdWUsIG9wdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy50YWJsZS5kZWxldGVSb3dDZWxsLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVtb3ZlJzpcbiAgICAgICAgICAgIHV0aWwucmVtb3ZlSXRlbShjb250ZXh0VGFibGUuX2VsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyc09mZigpO1xuICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvdGFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///33\n");

/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'formatBlock',\n    add: function (core, targetElement) {\n        /** set submenu */\n        let listDiv = eval(this.setSubmenu(core.lang));\n\n        /** add event listeners */\n        listDiv.getElementsByTagName('UL')[0].addEventListener('click', this.pickUp.bind(core));\n\n        /** append html */\n        targetElement.parentNode.appendChild(listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (lang) {\n        const listDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n\n        listDiv.className = 'sun-editor-submenu layer_editor layer_block';\n        listDiv.style.display = 'none';\n        listDiv.innerHTML = '' +\n            '<div class=\"inner_layer\">' +\n            '   <ul class=\"list_editor format_list\">' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"replace\" data-value=\"P\" title=\"' + lang.toolbar.tag_p + '\"><p style=\"font-size:13px; height:22px; line-height:1.5;\">' + lang.toolbar.tag_p + '</p></button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"replace\" data-value=\"DIV\" title=\"' + lang.toolbar.tag_div + '\"><div style=\"font-size:13px; height:22px; line-height:1.5;\">' + lang.toolbar.tag_div + '</div></button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"range\" data-value=\"BLOCKQUOTE\" title=\"' + lang.toolbar.tag_quote + '\">' +\n            '               <blockquote style=\"font-size:13px; height:22px; line-height:1.5; border-style:solid; border-color:#8baab7; padding-left:20px; border-left-width:5px;\">' + lang.toolbar.tag_quote + '</blockquote>' +\n            '           </button>' +\n            '       </li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"range\" data-value=\"PRE\" title=\"' + lang.toolbar.pre + '\">' +\n            '               <pre style=\"font-size:13px; padding:8px; background-color:#f6f8fa; border:1px solid #dce5e5; border-radius:3px;\">' + lang.toolbar.pre + '</pre>' +\n            '           </button>' +\n            '       </li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"replace\" data-value=\"H1\" title=\"' + lang.toolbar.tag_h + ' 1\" style=\"height:40px;\"><h1>' + lang.toolbar.tag_h + ' 1</h1></button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"replace\" data-value=\"H2\" title=\"' + lang.toolbar.tag_h + ' 2\" style=\"height:34px;\"><h2>' + lang.toolbar.tag_h + ' 2</h2></button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"replace\" data-value=\"H3\" title=\"' + lang.toolbar.tag_h + ' 3\" style=\"height:26px;\"><h3>' + lang.toolbar.tag_h + ' 3</h3></button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"replace\" data-value=\"H4\" title=\"' + lang.toolbar.tag_h + ' 4\" style=\"height:23px;\"><h4>' + lang.toolbar.tag_h + ' 4</h4></button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"replace\" data-value=\"H5\" title=\"' + lang.toolbar.tag_h + ' 5\" style=\"height:19px;\"><h5>' + lang.toolbar.tag_h + ' 5</h5></button></li>' +\n            '       <li><button type=\"button\" class=\"btn_edit\" data-command=\"replace\" data-value=\"H6\" title=\"' + lang.toolbar.tag_h + ' 6\" style=\"height:15px;\"><h6>' + lang.toolbar.tag_h + ' 6</h6></button></li>' +\n            '   </ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    pickUp: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, value = null;\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        // blockquote, pre\n        if (command === 'range') {\n            const rangeElement = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement(value);\n            this.wrapToTags(rangeElement);\n            this.setRange(rangeElement.firstChild, 0, rangeElement.firstChild, 0);\n            this.appendFormatTag(rangeElement, __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].isCell(this.getSelectionNode()) ? 'DIV' : '');\n        }\n        // others\n        else {\n            this.execCommand('formatBlock', false, value);\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].changeTxt(this.commandMap.FORMAT, value);\n        }\n\n        this.submenuOff();\n        this.focus();\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvZm9ybWF0QmxvY2suanM/ZDFlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCOztBQUVuQjtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHdCQUF3QiwwREFBSTs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlLQUFpSyxhQUFhLGlCQUFpQjtBQUMvTCx1S0FBdUssYUFBYSxpQkFBaUI7QUFDck07QUFDQSw4REFBOEQsYUFBYSxpQkFBaUIsb0JBQW9CLHNCQUFzQixtQkFBbUIsdUJBQXVCO0FBQ2hMO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxhQUFhLDBCQUEwQiwwQkFBMEIsbUJBQW1CO0FBQzNJO0FBQ0E7QUFDQSw4SkFBOEo7QUFDOUosOEpBQThKO0FBQzlKLDhKQUE4SjtBQUM5Siw4SkFBOEo7QUFDOUosOEpBQThKO0FBQzlKLDhKQUE4SjtBQUM5SjtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQ0FBaUMsMERBQUk7QUFDckM7QUFDQTtBQUNBLCtDQUErQywwREFBSTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQUk7QUFDaEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwiZmlsZSI6IjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxuICpcbiAqIHN1bmVkaXRvci5qc1xuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cbiAqIE1JVCBsaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlsIGZyb20gJy4uLy4uL2xpYi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6ICdmb3JtYXRCbG9jaycsXG4gICAgYWRkOiBmdW5jdGlvbiAoY29yZSwgdGFyZ2V0RWxlbWVudCkge1xuICAgICAgICAvKiogc2V0IHN1Ym1lbnUgKi9cbiAgICAgICAgbGV0IGxpc3REaXYgPSBldmFsKHRoaXMuc2V0U3VibWVudShjb3JlLmxhbmcpKTtcblxuICAgICAgICAvKiogYWRkIGV2ZW50IGxpc3RlbmVycyAqL1xuICAgICAgICBsaXN0RGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdVTCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5waWNrVXAuYmluZChjb3JlKSk7XG5cbiAgICAgICAgLyoqIGFwcGVuZCBodG1sICovXG4gICAgICAgIHRhcmdldEVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChsaXN0RGl2KTtcblxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXG4gICAgICAgIGxpc3REaXYgPSBudWxsO1xuICAgIH0sXG5cbiAgICBzZXRTdWJtZW51OiBmdW5jdGlvbiAobGFuZykge1xuICAgICAgICBjb25zdCBsaXN0RGl2ID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcblxuICAgICAgICBsaXN0RGl2LmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLXN1Ym1lbnUgbGF5ZXJfZWRpdG9yIGxheWVyX2Jsb2NrJztcbiAgICAgICAgbGlzdERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBsaXN0RGl2LmlubmVySFRNTCA9ICcnICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaW5uZXJfbGF5ZXJcIj4nICtcbiAgICAgICAgICAgICcgICA8dWwgY2xhc3M9XCJsaXN0X2VkaXRvciBmb3JtYXRfbGlzdFwiPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtY29tbWFuZD1cInJlcGxhY2VcIiBkYXRhLXZhbHVlPVwiUFwiIHRpdGxlPVwiJyArIGxhbmcudG9vbGJhci50YWdfcCArICdcIj48cCBzdHlsZT1cImZvbnQtc2l6ZToxM3B4OyBoZWlnaHQ6MjJweDsgbGluZS1oZWlnaHQ6MS41O1wiPicgKyBsYW5nLnRvb2xiYXIudGFnX3AgKyAnPC9wPjwvYnV0dG9uPjwvbGk+JyArXG4gICAgICAgICAgICAnICAgICAgIDxsaT48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0XCIgZGF0YS1jb21tYW5kPVwicmVwbGFjZVwiIGRhdGEtdmFsdWU9XCJESVZcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudGFnX2RpdiArICdcIj48ZGl2IHN0eWxlPVwiZm9udC1zaXplOjEzcHg7IGhlaWdodDoyMnB4OyBsaW5lLWhlaWdodDoxLjU7XCI+JyArIGxhbmcudG9vbGJhci50YWdfZGl2ICsgJzwvZGl2PjwvYnV0dG9uPjwvbGk+JyArXG4gICAgICAgICAgICAnICAgICAgIDxsaT48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bl9lZGl0XCIgZGF0YS1jb21tYW5kPVwicmFuZ2VcIiBkYXRhLXZhbHVlPVwiQkxPQ0tRVU9URVwiIHRpdGxlPVwiJyArIGxhbmcudG9vbGJhci50YWdfcXVvdGUgKyAnXCI+JyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgICAgPGJsb2NrcXVvdGUgc3R5bGU9XCJmb250LXNpemU6MTNweDsgaGVpZ2h0OjIycHg7IGxpbmUtaGVpZ2h0OjEuNTsgYm9yZGVyLXN0eWxlOnNvbGlkOyBib3JkZXItY29sb3I6IzhiYWFiNzsgcGFkZGluZy1sZWZ0OjIwcHg7IGJvcmRlci1sZWZ0LXdpZHRoOjVweDtcIj4nICsgbGFuZy50b29sYmFyLnRhZ19xdW90ZSArICc8L2Jsb2NrcXVvdGU+JyArXG4gICAgICAgICAgICAnICAgICAgICAgICA8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICAgICAgPC9saT4nICtcbiAgICAgICAgICAgICcgICAgICAgPGxpPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuX2VkaXRcIiBkYXRhLWNvbW1hbmQ9XCJyYW5nZVwiIGRhdGEtdmFsdWU9XCJQUkVcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIucHJlICsgJ1wiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxwcmUgc3R5bGU9XCJmb250LXNpemU6MTNweDsgcGFkZGluZzo4cHg7IGJhY2tncm91bmQtY29sb3I6I2Y2ZjhmYTsgYm9yZGVyOjFweCBzb2xpZCAjZGNlNWU1OyBib3JkZXItcmFkaXVzOjNweDtcIj4nICsgbGFuZy50b29sYmFyLnByZSArICc8L3ByZT4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgICAgICA8L2xpPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtY29tbWFuZD1cInJlcGxhY2VcIiBkYXRhLXZhbHVlPVwiSDFcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudGFnX2ggKyAnIDFcIiBzdHlsZT1cImhlaWdodDo0MHB4O1wiPjxoMT4nICsgbGFuZy50b29sYmFyLnRhZ19oICsgJyAxPC9oMT48L2J1dHRvbj48L2xpPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtY29tbWFuZD1cInJlcGxhY2VcIiBkYXRhLXZhbHVlPVwiSDJcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudGFnX2ggKyAnIDJcIiBzdHlsZT1cImhlaWdodDozNHB4O1wiPjxoMj4nICsgbGFuZy50b29sYmFyLnRhZ19oICsgJyAyPC9oMj48L2J1dHRvbj48L2xpPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtY29tbWFuZD1cInJlcGxhY2VcIiBkYXRhLXZhbHVlPVwiSDNcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudGFnX2ggKyAnIDNcIiBzdHlsZT1cImhlaWdodDoyNnB4O1wiPjxoMz4nICsgbGFuZy50b29sYmFyLnRhZ19oICsgJyAzPC9oMz48L2J1dHRvbj48L2xpPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtY29tbWFuZD1cInJlcGxhY2VcIiBkYXRhLXZhbHVlPVwiSDRcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudGFnX2ggKyAnIDRcIiBzdHlsZT1cImhlaWdodDoyM3B4O1wiPjxoND4nICsgbGFuZy50b29sYmFyLnRhZ19oICsgJyA0PC9oND48L2J1dHRvbj48L2xpPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtY29tbWFuZD1cInJlcGxhY2VcIiBkYXRhLXZhbHVlPVwiSDVcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudGFnX2ggKyAnIDVcIiBzdHlsZT1cImhlaWdodDoxOXB4O1wiPjxoNT4nICsgbGFuZy50b29sYmFyLnRhZ19oICsgJyA1PC9oNT48L2J1dHRvbj48L2xpPicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGk+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG5fZWRpdFwiIGRhdGEtY29tbWFuZD1cInJlcGxhY2VcIiBkYXRhLXZhbHVlPVwiSDZcIiB0aXRsZT1cIicgKyBsYW5nLnRvb2xiYXIudGFnX2ggKyAnIDZcIiBzdHlsZT1cImhlaWdodDoxNXB4O1wiPjxoNj4nICsgbGFuZy50b29sYmFyLnRhZ19oICsgJyA2PC9oNj48L2J1dHRvbj48L2xpPicgK1xuICAgICAgICAgICAgJyAgIDwvdWw+JyArXG4gICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgICByZXR1cm4gbGlzdERpdjtcbiAgICB9LFxuXG4gICAgcGlja1VwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBsZXQgY29tbWFuZCA9IG51bGwsIHZhbHVlID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlICghY29tbWFuZCAmJiAhL1VML2kudGVzdCh0YXJnZXQudGFnTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmQgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbW1hbmQnKTtcbiAgICAgICAgICAgIHZhbHVlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpO1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBibG9ja3F1b3RlLCBwcmVcbiAgICAgICAgaWYgKGNvbW1hbmQgPT09ICdyYW5nZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlRWxlbWVudCA9IHV0aWwuY3JlYXRlRWxlbWVudCh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLndyYXBUb1RhZ3MocmFuZ2VFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2UocmFuZ2VFbGVtZW50LmZpcnN0Q2hpbGQsIDAsIHJhbmdlRWxlbWVudC5maXJzdENoaWxkLCAwKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kRm9ybWF0VGFnKHJhbmdlRWxlbWVudCwgdXRpbC5pc0NlbGwodGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCkpID8gJ0RJVicgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3RoZXJzXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgnZm9ybWF0QmxvY2snLCBmYWxzZSwgdmFsdWUpO1xuICAgICAgICAgICAgdXRpbC5jaGFuZ2VUeHQodGhpcy5jb21tYW5kTWFwLkZPUk1BVCwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdWJtZW51T2ZmKCk7XG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL3N1Ym1lbnUvZm9ybWF0QmxvY2suanNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///34\n");

/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modules_dialog__ = __webpack_require__(1);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'link',\n    add: function (core) {\n        core.addModule([__WEBPACK_IMPORTED_MODULE_1__modules_dialog__[\"a\" /* default */]]);\n\n        const context = core.context;\n        context.link = {};\n\n        /** link dialog */\n        let link_dialog = eval(this.setDialog(core.lang));\n        context.link.modal = link_dialog;\n        context.link.focusElement = link_dialog.getElementsByClassName('sun-editor-id-link-url')[0];\n        context.link.linkAnchorText = link_dialog.getElementsByClassName('sun-editor-id-link-text')[0];\n        context.link.linkNewWindowCheck = link_dialog.getElementsByClassName('sun-editor-id-link-check')[0];\n\n        /** link button */\n        let link_button = eval(this.setController_LinkButton(core.lang));\n        context.link.linkBtn = link_button;\n        context.link._linkAnchor = null;\n        link_button.addEventListener('mousedown', function (e) { e.stopPropagation(); }, false);\n\n        /** add event listeners */\n        link_dialog.getElementsByClassName('btn-primary')[0].addEventListener('click', this.submit.bind(core));\n        link_button.addEventListener('click', this.onClick_linkBtn.bind(core));\n\n        /** append html */\n        context.dialog.modal.appendChild(link_dialog);\n        context.element.relative.appendChild(link_button);\n\n        /** empty memory */\n        link_dialog = null, link_button = null;\n    },\n\n    /** dialog */\n    setDialog: function (lang) {\n        const dialog = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n\n        dialog.className = 'modal-content sun-editor-id-dialog-link';\n        dialog.style.display = 'none';\n        dialog.innerHTML = '' +\n            '<form class=\"editor_link\">' +\n            '   <div class=\"modal-header\">' +\n            '       <button type=\"button\" data-command=\"close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n            '           <div aria-hidden=\"true\" data-command=\"close\" class=\"icon-cancel\"></div>' +\n            '       </button>' +\n            '       <h5 class=\"modal-title\">' + lang.dialogBox.linkBox.title + '</h5>' +\n            '   </div>' +\n            '   <div class=\"modal-body\">' +\n            '       <div class=\"form-group\">' +\n            '           <label>' + lang.dialogBox.linkBox.url + '</label>' +\n            '           <input class=\"form-control sun-editor-id-link-url\" type=\"text\" />' +\n            '       </div>' +\n            '       <div class=\"form-group\">' +\n            '           <label>' + lang.dialogBox.linkBox.text + '</label><input class=\"form-control sun-editor-id-link-text\" type=\"text\" />' +\n            '       </div>' +\n            '       <label><input type=\"checkbox\" class=\"sun-editor-id-link-check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\n            '   </div>' +\n            '   <div class=\"modal-footer\">' +\n            '       <button type=\"submit\" class=\"btn btn-primary sun-editor-id-submit-link\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n            '   </div>' +\n            '</form>';\n\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function (lang) {\n        const link_btn = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n\n        link_btn.className = 'sun-editor-id-link-btn';\n        link_btn.style.display = 'none';\n        link_btn.innerHTML = '' +\n            '<div class=\"arrow arrow-up\"></div>' +\n            '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' +\n            '   <div class=\"btn-group\">' +\n            '     <button type=\"button\" data-command=\"update\" tabindex=\"-1\" title=\"' + lang.controller.edit + '\"><div class=\"icon-link\"></div></button>' +\n            '     <button type=\"button\" data-command=\"delete\" tabindex=\"-1\" title=\"' + lang.controller.remove + '\"><div class=\"icon-delete\"></div></button>' +\n            '   </div>' +\n            '</div>';\n\n        return link_btn;\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const submitAction = function () {\n            if (this.context.link.focusElement.value.trim().length === 0) return false;\n\n            const url = this.context.link.focusElement.value;\n            const anchor = this.context.link.linkAnchorText;\n            const anchorText = anchor.value.length === 0 ? url : anchor.value;\n\n            if (!this.context.dialog.updateModal) {\n                const oA = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('A');\n                oA.href = url;\n                oA.textContent = anchorText;\n                oA.target = (this.context.link.linkNewWindowCheck.checked ? '_blank' : '');\n\n                this.insertNode(oA);\n                this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n            } else {\n                this.context.link._linkAnchor.href = url;\n                this.context.link._linkAnchor.textContent = anchorText;\n                this.context.link._linkAnchor.target = (this.context.link.linkNewWindowCheck.checked ? '_blank' : '');\n                this.setRange(this.context.link._linkAnchor.childNodes[0], 0, this.context.link._linkAnchor.childNodes[0], this.context.link._linkAnchor.textContent.length);\n            }\n\n            this.context.link.focusElement.value = '';\n            this.context.link.linkAnchorText.value = '';\n        }.bind(this);\n\n        try {\n            submitAction();\n        } finally {\n            this.plugins.dialog.close.call(this);\n            this.closeLoading();\n            this.focus();\n        }\n\n        return false;\n    },\n\n    call_controller_linkButton: function (selectionATag) {\n        this.editLink = this.context.link._linkAnchor = selectionATag;\n        const linkBtn = this.context.link.linkBtn;\n\n        linkBtn.getElementsByTagName('A')[0].href = selectionATag.href;\n        linkBtn.getElementsByTagName('A')[0].textContent = selectionATag.textContent;\n\n        const offset = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getOffset(selectionATag);\n        linkBtn.style.left = (offset.left - this.context.element.wysiwyg.scrollLeft) + 'px';\n        linkBtn.style.top = (offset.top + selectionATag.offsetHeight + 10) + 'px';\n        \n        linkBtn.style.display = 'block';\n\n        this.controllersOn(linkBtn);\n    },\n\n    onClick_linkBtn: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.context.link.focusElement.value = this.context.link._linkAnchor.href;\n            this.context.link.linkAnchorText.value = this.context.link._linkAnchor.textContent;\n            this.context.link.linkNewWindowCheck.checked = (/_blank/i.test(this.context.link._linkAnchor.target) ? true : false);\n            this.plugins.dialog.open.call(this, 'link', true);\n        }\n        else {\n            /** delete */\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeItem(this.context.link._linkAnchor);\n            this.context.link._linkAnchor = null;\n            this.focus();\n        }\n\n        this.controllersOff();\n    },\n\n    init: function () {\n        const contextLink = this.context.link;\n        contextLink.linkBtn.style.display = 'none';\n        contextLink._linkAnchor = null;\n        contextLink.focusElement.value = '';\n        contextLink.linkAnchorText.value = '';\n        contextLink.linkNewWindowCheck.checked = false;\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL2RpYWxvZy9saW5rLmpzPzY5YjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCO0FBQ0s7O0FBRXhCO0FBQ2Y7QUFDQTtBQUNBLHdCQUF3QixnRUFBTTs7QUFFOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UscUJBQXFCLEVBQUU7O0FBRXZGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLHVCQUF1QiwwREFBSTs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSx5QkFBeUIsMERBQUk7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQiwwREFBSTtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHVCQUF1QiwwREFBSTtBQUMzQjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQUk7QUFDaEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxuICpcbiAqIHN1bmVkaXRvci5qc1xuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cbiAqIE1JVCBsaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlsIGZyb20gJy4uLy4uL2xpYi91dGlsJztcbmltcG9ydCBkaWFsb2cgZnJvbSAnLi4vbW9kdWxlcy9kaWFsb2cnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ2xpbmsnLFxuICAgIGFkZDogZnVuY3Rpb24gKGNvcmUpIHtcbiAgICAgICAgY29yZS5hZGRNb2R1bGUoW2RpYWxvZ10pO1xuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjb3JlLmNvbnRleHQ7XG4gICAgICAgIGNvbnRleHQubGluayA9IHt9O1xuXG4gICAgICAgIC8qKiBsaW5rIGRpYWxvZyAqL1xuICAgICAgICBsZXQgbGlua19kaWFsb2cgPSBldmFsKHRoaXMuc2V0RGlhbG9nKGNvcmUubGFuZykpO1xuICAgICAgICBjb250ZXh0LmxpbmsubW9kYWwgPSBsaW5rX2RpYWxvZztcbiAgICAgICAgY29udGV4dC5saW5rLmZvY3VzRWxlbWVudCA9IGxpbmtfZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtbGluay11cmwnKVswXTtcbiAgICAgICAgY29udGV4dC5saW5rLmxpbmtBbmNob3JUZXh0ID0gbGlua19kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1saW5rLXRleHQnKVswXTtcbiAgICAgICAgY29udGV4dC5saW5rLmxpbmtOZXdXaW5kb3dDaGVjayA9IGxpbmtfZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtbGluay1jaGVjaycpWzBdO1xuXG4gICAgICAgIC8qKiBsaW5rIGJ1dHRvbiAqL1xuICAgICAgICBsZXQgbGlua19idXR0b24gPSBldmFsKHRoaXMuc2V0Q29udHJvbGxlcl9MaW5rQnV0dG9uKGNvcmUubGFuZykpO1xuICAgICAgICBjb250ZXh0LmxpbmsubGlua0J0biA9IGxpbmtfYnV0dG9uO1xuICAgICAgICBjb250ZXh0LmxpbmsuX2xpbmtBbmNob3IgPSBudWxsO1xuICAgICAgICBsaW5rX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9LCBmYWxzZSk7XG5cbiAgICAgICAgLyoqIGFkZCBldmVudCBsaXN0ZW5lcnMgKi9cbiAgICAgICAgbGlua19kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnRuLXByaW1hcnknKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3VibWl0LmJpbmQoY29yZSkpO1xuICAgICAgICBsaW5rX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja19saW5rQnRuLmJpbmQoY29yZSkpO1xuXG4gICAgICAgIC8qKiBhcHBlbmQgaHRtbCAqL1xuICAgICAgICBjb250ZXh0LmRpYWxvZy5tb2RhbC5hcHBlbmRDaGlsZChsaW5rX2RpYWxvZyk7XG4gICAgICAgIGNvbnRleHQuZWxlbWVudC5yZWxhdGl2ZS5hcHBlbmRDaGlsZChsaW5rX2J1dHRvbik7XG5cbiAgICAgICAgLyoqIGVtcHR5IG1lbW9yeSAqL1xuICAgICAgICBsaW5rX2RpYWxvZyA9IG51bGwsIGxpbmtfYnV0dG9uID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqIGRpYWxvZyAqL1xuICAgIHNldERpYWxvZzogZnVuY3Rpb24gKGxhbmcpIHtcbiAgICAgICAgY29uc3QgZGlhbG9nID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcblxuICAgICAgICBkaWFsb2cuY2xhc3NOYW1lID0gJ21vZGFsLWNvbnRlbnQgc3VuLWVkaXRvci1pZC1kaWFsb2ctbGluayc7XG4gICAgICAgIGRpYWxvZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkaWFsb2cuaW5uZXJIVE1MID0gJycgK1xuICAgICAgICAgICAgJzxmb3JtIGNsYXNzPVwiZWRpdG9yX2xpbmtcIj4nICtcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+JyArXG4gICAgICAgICAgICAnICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cImNsb3NlXCIgY2xhc3M9XCJjbG9zZVwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LmNsb3NlICsgJ1wiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGRpdiBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLWNvbW1hbmQ9XCJjbG9zZVwiIGNsYXNzPVwiaWNvbi1jYW5jZWxcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICcgICAgICAgPC9idXR0b24+JyArXG4gICAgICAgICAgICAnICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+JyArIGxhbmcuZGlhbG9nQm94LmxpbmtCb3gudGl0bGUgKyAnPC9oNT4nICtcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPicgK1xuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGxhYmVsPicgKyBsYW5nLmRpYWxvZ0JveC5saW5rQm94LnVybCArICc8L2xhYmVsPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIHN1bi1lZGl0b3ItaWQtbGluay11cmxcIiB0eXBlPVwidGV4dFwiIC8+JyArXG4gICAgICAgICAgICAnICAgICAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGxhYmVsPicgKyBsYW5nLmRpYWxvZ0JveC5saW5rQm94LnRleHQgKyAnPC9sYWJlbD48aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgc3VuLWVkaXRvci1pZC1saW5rLXRleHRcIiB0eXBlPVwidGV4dFwiIC8+JyArXG4gICAgICAgICAgICAnICAgICAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwic3VuLWVkaXRvci1pZC1saW5rLWNoZWNrXCIgLz4mbmJzcDsnICsgbGFuZy5kaWFsb2dCb3gubGlua0JveC5uZXdXaW5kb3dDaGVjayArICc8L2xhYmVsPicgK1xuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj4nICtcbiAgICAgICAgICAgICcgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgc3VuLWVkaXRvci1pZC1zdWJtaXQtbGlua1wiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnN1Ym1pdEJ1dHRvbiArICdcIj48c3Bhbj4nICsgbGFuZy5kaWFsb2dCb3guc3VibWl0QnV0dG9uICsgJzwvc3Bhbj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Zvcm0+JztcblxuICAgICAgICByZXR1cm4gZGlhbG9nO1xuICAgIH0sXG5cbiAgICAvKiogbW9kaWZ5IGNvbnRyb2xsZXIgYnV0dG9uICovXG4gICAgc2V0Q29udHJvbGxlcl9MaW5rQnV0dG9uOiBmdW5jdGlvbiAobGFuZykge1xuICAgICAgICBjb25zdCBsaW5rX2J0biA9IHV0aWwuY3JlYXRlRWxlbWVudCgnRElWJyk7XG5cbiAgICAgICAgbGlua19idG4uY2xhc3NOYW1lID0gJ3N1bi1lZGl0b3ItaWQtbGluay1idG4nO1xuICAgICAgICBsaW5rX2J0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBsaW5rX2J0bi5pbm5lckhUTUwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImFycm93IGFycm93LXVwXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxpbmstY29udGVudFwiPjxzcGFuPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJcIj48L2E+Jm5ic3A7PC9zcGFuPicgK1xuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj4nICtcbiAgICAgICAgICAgICcgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cInVwZGF0ZVwiIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cIicgKyBsYW5nLmNvbnRyb2xsZXIuZWRpdCArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1saW5rXCI+PC9kaXY+PC9idXR0b24+JyArXG4gICAgICAgICAgICAnICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWNvbW1hbmQ9XCJkZWxldGVcIiB0YWJpbmRleD1cIi0xXCIgdGl0bGU9XCInICsgbGFuZy5jb250cm9sbGVyLnJlbW92ZSArICdcIj48ZGl2IGNsYXNzPVwiaWNvbi1kZWxldGVcIj48L2Rpdj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiBsaW5rX2J0bjtcbiAgICB9LFxuXG4gICAgc3VibWl0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLnNob3dMb2FkaW5nKCk7XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IHN1Ym1pdEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQubGluay5mb2N1c0VsZW1lbnQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmNvbnRleHQubGluay5mb2N1c0VsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLmNvbnRleHQubGluay5saW5rQW5jaG9yVGV4dDtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvclRleHQgPSBhbmNob3IudmFsdWUubGVuZ3RoID09PSAwID8gdXJsIDogYW5jaG9yLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udGV4dC5kaWFsb2cudXBkYXRlTW9kYWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvQSA9IHV0aWwuY3JlYXRlRWxlbWVudCgnQScpO1xuICAgICAgICAgICAgICAgIG9BLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgb0EudGV4dENvbnRlbnQgPSBhbmNob3JUZXh0O1xuICAgICAgICAgICAgICAgIG9BLnRhcmdldCA9ICh0aGlzLmNvbnRleHQubGluay5saW5rTmV3V2luZG93Q2hlY2suY2hlY2tlZCA/ICdfYmxhbmsnIDogJycpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnROb2RlKG9BKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJhbmdlKG9BLmNoaWxkTm9kZXNbMF0sIDAsIG9BLmNoaWxkTm9kZXNbMF0sIG9BLnRleHRDb250ZW50Lmxlbmd0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IudGV4dENvbnRlbnQgPSBhbmNob3JUZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yLnRhcmdldCA9ICh0aGlzLmNvbnRleHQubGluay5saW5rTmV3V2luZG93Q2hlY2suY2hlY2tlZCA/ICdfYmxhbmsnIDogJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2UodGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IuY2hpbGROb2Rlc1swXSwgMCwgdGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IuY2hpbGROb2Rlc1swXSwgdGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IudGV4dENvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmsuZm9jdXNFbGVtZW50LnZhbHVlID0gJyc7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQubGluay5saW5rQW5jaG9yVGV4dC52YWx1ZSA9ICcnO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1Ym1pdEFjdGlvbigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmRpYWxvZy5jbG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZUxvYWRpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgY2FsbF9jb250cm9sbGVyX2xpbmtCdXR0b246IGZ1bmN0aW9uIChzZWxlY3Rpb25BVGFnKSB7XG4gICAgICAgIHRoaXMuZWRpdExpbmsgPSB0aGlzLmNvbnRleHQubGluay5fbGlua0FuY2hvciA9IHNlbGVjdGlvbkFUYWc7XG4gICAgICAgIGNvbnN0IGxpbmtCdG4gPSB0aGlzLmNvbnRleHQubGluay5saW5rQnRuO1xuXG4gICAgICAgIGxpbmtCdG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0EnKVswXS5ocmVmID0gc2VsZWN0aW9uQVRhZy5ocmVmO1xuICAgICAgICBsaW5rQnRuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdBJylbMF0udGV4dENvbnRlbnQgPSBzZWxlY3Rpb25BVGFnLnRleHRDb250ZW50O1xuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHV0aWwuZ2V0T2Zmc2V0KHNlbGVjdGlvbkFUYWcpO1xuICAgICAgICBsaW5rQnRuLnN0eWxlLmxlZnQgPSAob2Zmc2V0LmxlZnQgLSB0aGlzLmNvbnRleHQuZWxlbWVudC53eXNpd3lnLnNjcm9sbExlZnQpICsgJ3B4JztcbiAgICAgICAgbGlua0J0bi5zdHlsZS50b3AgPSAob2Zmc2V0LnRvcCArIHNlbGVjdGlvbkFUYWcub2Zmc2V0SGVpZ2h0ICsgMTApICsgJ3B4JztcbiAgICAgICAgXG4gICAgICAgIGxpbmtCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgdGhpcy5jb250cm9sbGVyc09uKGxpbmtCdG4pO1xuICAgIH0sXG5cbiAgICBvbkNsaWNrX2xpbmtCdG46IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgY29tbWFuZCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21tYW5kJykgfHwgZS50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWFuZCcpO1xuICAgICAgICBpZiAoIWNvbW1hbmQpIHJldHVybjtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKC91cGRhdGUvLnRlc3QoY29tbWFuZCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLmZvY3VzRWxlbWVudC52YWx1ZSA9IHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yLmhyZWY7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQubGluay5saW5rQW5jaG9yVGV4dC52YWx1ZSA9IHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yLnRleHRDb250ZW50O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmsubGlua05ld1dpbmRvd0NoZWNrLmNoZWNrZWQgPSAoL19ibGFuay9pLnRlc3QodGhpcy5jb250ZXh0LmxpbmsuX2xpbmtBbmNob3IudGFyZ2V0KSA/IHRydWUgOiBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMuZGlhbG9nLm9wZW4uY2FsbCh0aGlzLCAnbGluaycsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyoqIGRlbGV0ZSAqL1xuICAgICAgICAgICAgdXRpbC5yZW1vdmVJdGVtKHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5rLl9saW5rQW5jaG9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udHJvbGxlcnNPZmYoKTtcbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0TGluayA9IHRoaXMuY29udGV4dC5saW5rO1xuICAgICAgICBjb250ZXh0TGluay5saW5rQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGNvbnRleHRMaW5rLl9saW5rQW5jaG9yID0gbnVsbDtcbiAgICAgICAgY29udGV4dExpbmsuZm9jdXNFbGVtZW50LnZhbHVlID0gJyc7XG4gICAgICAgIGNvbnRleHRMaW5rLmxpbmtBbmNob3JUZXh0LnZhbHVlID0gJyc7XG4gICAgICAgIGNvbnRleHRMaW5rLmxpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkID0gZmFsc2U7XG4gICAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvcGx1Z2lucy9kaWFsb2cvbGluay5qc1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///35\n");

/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modules_dialog__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modules_resizing__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__modules_notice__ = __webpack_require__(3);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'image',\n    add: function (core) {\n        core.addModule([__WEBPACK_IMPORTED_MODULE_1__modules_dialog__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_2__modules_resizing__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_3__modules_notice__[\"a\" /* default */]]);\n        \n        const context = core.context;\n        context.image = {\n            _linkElement: null,\n            _container: null,\n            _cover: null,\n            _element: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n            _origin_h: '',\n            _altText: '',\n            _caption: null,\n            captionCheckEl: null,\n            _linkValue: '',\n            _align: 'none',\n            _captionChecked: false,\n            _proportionChecked: true,\n            _floatClassRegExp: 'float\\\\-[a-z]+',\n            _xmlHttp: null,\n            _resizing: context.option.imageResizing,\n            _defaultAuto: context.option.imageWidth === 'auto' ? true : false\n        };\n\n        /** image dialog */\n        let image_dialog = eval(this.setDialog(core.context.option, core.lang));\n        context.image.modal = image_dialog;\n        context.image.imgUrlFile = image_dialog.getElementsByClassName('sun-editor-id-image-url')[0];\n        context.image.imgInputFile = context.image.focusElement = image_dialog.getElementsByClassName('sun-editor-id-image-file')[0];\n        context.image.altText = image_dialog.getElementsByClassName('sun-editor-id-image-alt')[0];\n        context.image.imgLink = image_dialog.getElementsByClassName('sun-editor-id-image-link')[0];\n        context.image.imgLinkNewWindowCheck = image_dialog.getElementsByClassName('sun-editor-id-linkCheck')[0];\n        context.image.captionCheckEl = image_dialog.getElementsByClassName('suneditor-id-image-check-caption')[0];\n\n        /** add event listeners */\n        context.image.modal.getElementsByClassName('sun-editor-tab-button')[0].addEventListener('click', this.openTab.bind(core));\n        context.image.modal.getElementsByClassName('btn-primary')[0].addEventListener('click', this.submit.bind(core));\n        \n        context.image.imageX = {};\n        context.image.imageY = {};\n        if (context.option.imageResizing) {\n            context.image.proportion = image_dialog.getElementsByClassName('suneditor-id-image-check-proportion')[0];\n            context.image.imageX = image_dialog.getElementsByClassName('sun-editor-id-image-x')[0];\n            context.image.imageY = image_dialog.getElementsByClassName('sun-editor-id-image-y')[0];\n            context.image.imageX.value = context.option.imageWidth;\n            \n            context.image.imageX.addEventListener('change', this.setInputSize.bind(core, 'x'));\n            context.image.imageY.addEventListener('change', this.setInputSize.bind(core, 'y'));\n            image_dialog.getElementsByClassName('sun-editor-id-image-revert-button')[0].addEventListener('click', this.sizeRevert.bind(core));\n        }\n\n        /** append html */\n        context.dialog.modal.appendChild(image_dialog);\n\n        /** empty memory */\n        image_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function (option, lang) {\n        const dialog = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n        dialog.className = 'modal-content sun-editor-id-dialog-image';\n        dialog.style.display = 'none';\n\n        let html = '' +\n            '<div class=\"modal-header\">' +\n            '   <button type=\"button\" data-command=\"close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n            '       <div aria-hidden=\"true\" data-command=\"close\" class=\"icon-cancel\"></div>' +\n            '   </button>' +\n            '   <h5 class=\"modal-title\">' + lang.dialogBox.imageBox.title + '</h5>' +\n            '</div>' +\n            '<div class=\"sun-editor-tab-button\">' +\n            '   <button type=\"button\" class=\"sun-editor-id-tab-link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' +\n            '   <button type=\"button\" class=\"sun-editor-id-tab-link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' +\n            '</div>' +\n            '<form class=\"editor_image\" method=\"post\" enctype=\"multipart/form-data\">' +\n            '   <div class=\"sun-editor-id-tab-content sun-editor-id-tab-content-image\">' +\n            '       <div class=\"modal-body\">';\n\n            if (option.imageFileInput) {\n                html += '' +\n                    '   <div class=\"form-group\">' +\n                    '       <label>' + lang.dialogBox.imageBox.file + '</label>' +\n                    '       <input class=\"form-control sun-editor-id-image-file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" />' +\n                    '   </div>' ;\n            }\n\n            if (option.imageUrlInput) {\n                html += '' +\n                    '   <div class=\"form-group\">' +\n                    '       <label>' + lang.dialogBox.imageBox.url + '</label>' +\n                    '       <input class=\"form-control sun-editor-id-image-url\" type=\"text\" />' +\n                    '   </div>';\n            }\n\n            html += '' +\n            '           <div class=\"form-group\">' +\n            '               <label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"form-control sun-editor-id-image-alt\" type=\"text\" />' +\n            '           </div>';\n\n            if (option.imageResizing) {\n                html += '' +\n                '       <div class=\"form-group\">' +\n                '           <div class=\"size-text\"><label class=\"size-w\">' + lang.dialogBox.width + '</label><label class=\"size-x\">&nbsp;</label><label class=\"size-h\">' + lang.dialogBox.height + '</label></div>' +\n                '           <input class=\"form-size-control sun-editor-id-image-x\" type=\"number\" min=\"1\" ' + (option.imageWidth === 'auto' ? 'disabled' : '') + ' /><label class=\"size-x\">x</label><input class=\"form-size-control sun-editor-id-image-y\" type=\"number\" min=\"1\" disabled />' +\n                '           <label><input type=\"checkbox\" class=\"suneditor-id-image-check-proportion\" style=\"margin-left: 20px;\" checked disabled/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\n                '           <button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"btn_editor sun-editor-id-image-revert-button\" style=\"float: right;\"><div class=\"icon-revert\"></div></button>' +\n                '       </div>' ;\n            }\n\n            html += '' +\n            '           <div class=\"form-group-footer\">' +\n            '               <label><input type=\"checkbox\" class=\"suneditor-id-image-check-caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' +\n            '           </div>' +\n            '       </div>' +\n            '   </div>' +\n            '   <div class=\"sun-editor-id-tab-content sun-editor-id-tab-content-url\" style=\"display: none\">' +\n            '       <div class=\"modal-body\">' +\n            '           <div class=\"form-group\">' +\n            '               <label>' + lang.dialogBox.linkBox.url + '</label><input class=\"form-control sun-editor-id-image-link\" type=\"text\" />' +\n            '           </div>' +\n            '           <label><input type=\"checkbox\" class=\"sun-editor-id-linkCheck\"/>&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\n            '       </div>' +\n            '   </div>' +\n            '   <div class=\"modal-footer\">' +\n            '       <div style=\"float: left;\">' +\n            '           <label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"modal-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\n            '           <label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"modal-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\n            '           <label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"modal-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\n            '           <label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"modal-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\n            '       </div>' +\n            '       <button type=\"submit\" class=\"btn btn-primary sun-editor-id-submit-image\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n            '   </div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    openTab: function (e) {\n        const modal = this.context.image.modal;\n        const targetElement = (e === 'init' ? modal.getElementsByClassName('sun-editor-id-tab-link')[0] : e.target);\n\n        if (!/^BUTTON$/i.test(targetElement.tagName)) {\n            return false;\n        }\n\n        // Declare all variables\n        const tabName = targetElement.getAttribute('data-tab-link');\n        const contentClassName = 'sun-editor-id-tab-content';\n        let i, tabContent, tabLinks;\n\n        // Get all elements with class=\"tabcontent\" and hide them\n        tabContent = modal.getElementsByClassName(contentClassName);\n        for (i = 0; i < tabContent.length; i++) {\n            tabContent[i].style.display = 'none';\n        }\n\n        // Get all elements with class=\"tablinks\" and remove the class \"active\"\n        tabLinks = modal.getElementsByClassName('sun-editor-id-tab-link');\n        for (i = 0; i < tabLinks.length; i++) {\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(tabLinks[i], 'active');\n        }\n\n        // Show the current tab, and add an \"active\" class to the button that opened the tab\n        modal.getElementsByClassName(contentClassName + '-' + tabName)[0].style.display = 'block';\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(targetElement, 'active');\n\n        // focus\n        if (tabName === 'image') {\n            this.context.image.imgInputFile.focus();\n        } else if (tabName === 'url') {\n            this.context.image.imgLink.focus();\n        }\n\n        return false;\n    },\n\n    onRender_imgInput: function () {\n        const submitAction = function (files) {\n            if (files.length > 0) {\n                const imageUploadUrl = this.context.option.imageUploadUrl;\n                const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n                if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\n                    const formData = new FormData();\n\n                    for (let i = 0; i < filesLen; i++) {\n                        formData.append('file-' + i, files[i]);\n                    }\n\n                    this.context.image._xmlHttp = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getXMLHttpRequest();\n                    this.context.image._xmlHttp.onreadystatechange = this.plugins.image.callBack_imgUpload.bind(this, this.context.image._linkValue, this.context.image.imgLinkNewWindowCheck.checked, this.context.image.imageX.value + 'px', this.context.image._align, this.context.dialog.updateModal, this.context.image._element);\n                    this.context.image._xmlHttp.open('post', imageUploadUrl, true);\n                    this.context.image._xmlHttp.send(formData);\n                }\n                else {\n                    for (let i = 0; i < filesLen; i++) {\n                        this.plugins.image.setup_reader.call(this, files[i], this.context.image._linkValue, this.context.image.imgLinkNewWindowCheck.checked, this.context.image.imageX.value + 'px', this.context.image._align, i, filesLen - 1);\n                    }\n                }\n            }\n        }.bind(this);\n\n        try {\n            submitAction(this.context.image.imgInputFile.files);\n        } catch (e) {\n            this.closeLoading();\n            __WEBPACK_IMPORTED_MODULE_3__modules_notice__[\"a\" /* default */].open.call(this, '[SUNEDITOR.imageUpload.fail] cause : \"' + e.message + '\"');\n            throw Error('[SUNEDITOR.imageUpload.fail] cause : \"' + e.message + '\"');\n        }\n    },\n\n    setup_reader: function (file, imgLinkValue, newWindowCheck, width, align, index, filesLen) {\n        const reader = new FileReader();\n        \n        if (this.context.dialog.updateModal) {\n            this.context.image._element.setAttribute('data-file-name', file.name);\n            this.context.image._element.setAttribute('data-file-size', file.size);\n        }\n\n        reader.onload = function (update, updateElement, file) {\n            try {\n                this.plugins.image.create_image.call(this, reader.result, imgLinkValue, newWindowCheck, width, align, update, updateElement, file);\n                if (index === filesLen) this.closeLoading();\n            } catch (e) {\n                this.closeLoading();\n                __WEBPACK_IMPORTED_MODULE_3__modules_notice__[\"a\" /* default */].open.call(this, '[SUNEDITOR.imageFileRendering.fail] cause : \"' + e.message + '\"');\n                throw Error('[SUNEDITOR.imageFileRendering.fail] cause : \"' + e.message + '\"');\n            }\n        }.bind(this, this.context.dialog.updateModal, this.context.image._element, file);\n\n        reader.readAsDataURL(file);\n    },\n\n    callBack_imgUpload: function (linkValue, linkNewWindow, width, align, update, updateElement) {\n        if (this.context.image._xmlHttp.readyState === 4) {\n            if (this.context.image._xmlHttp.status === 200) {\n                const response = JSON.parse(this.context.image._xmlHttp.responseText);\n\n                if (response.errorMessage) {\n                    this.closeLoading();\n                    if (this._imageUploadError(response.errorMessage, response.result)) {\n                        __WEBPACK_IMPORTED_MODULE_3__modules_notice__[\"a\" /* default */].open.call(this, response.errorMessage);\n                    }\n                } else {\n                    const fileList = response.result;\n                    for (let i = 0, len = (update && fileList.length > 0 ? 1 : fileList.length); i < len; i++) {\n                        this.plugins.image.create_image.call(this, fileList[i].url, linkValue, linkNewWindow, width, align, update, updateElement, {name: fileList[i].name, size: fileList[i].size});\n                    }\n                }\n\n                this.closeLoading();\n            }\n            // error\n            else {\n                __WEBPACK_IMPORTED_MODULE_3__modules_notice__[\"a\" /* default */].open.call(this, '[SUNEDITOR.imageUpload.fail] status: ' + this.context.image._xmlHttp.status + ', responseURL: ' + this.context.image._xmlHttp.responseURL);\n                this.closeLoading();\n                throw Error('[SUNEDITOR.imageUpload.fail] status: ' + this.context.image._xmlHttp.status + ', responseURL: ' + this.context.image._xmlHttp.responseURL);\n            }\n        }\n    },\n\n    onRender_imgUrl: function () {\n        if (this.context.image.imgUrlFile.value.trim().length === 0) return false;\n\n        try {\n            this.plugins.image.create_image.call(this, this.context.image.imgUrlFile.value, this.context.image._linkValue, this.context.image.imgLinkNewWindowCheck.checked, this.context.image.imageX.value + 'px', this.context.image._align, this.context.dialog.updateModal, this.context.image._element);\n        } catch (e) {\n            __WEBPACK_IMPORTED_MODULE_3__modules_notice__[\"a\" /* default */].open.call(this, '[SUNEDITOR.imageURLRendering.fail] cause : \"' + e.message + '\"');\n            throw Error('[SUNEDITOR.imageURLRendering.fail] cause : \"' + e.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    onRender_link: function (imgTag, imgLinkValue, newWindowCheck) {\n        if (imgLinkValue.trim().length > 0) {\n            const link = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('A');\n            link.href = /^https?:\\/\\//.test(imgLinkValue) ? imgLinkValue : 'http://' + imgLinkValue;\n            link.target = (newWindowCheck ? '_blank' : '');\n            link.setAttribute('data-image-link', 'image');\n            imgTag.setAttribute('data-image-link', imgLinkValue);\n\n            link.appendChild(imgTag);\n            return link;\n        }\n\n        return imgTag;\n    },\n\n    setInputSize: function (xy) {\n        if (!this.context.dialog.updateModal) return;\n\n        if (this.context.image.proportion.checked) {\n            if (xy === 'x') {\n                this.context.image.imageY.value = Math.round((this.context.image._element_h / this.context.image._element_w) * this.context.image.imageX.value);\n            } else {\n                this.context.image.imageX.value = Math.round((this.context.image._element_w / this.context.image._element_h) * this.context.image.imageY.value);\n            }\n        }\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.context.image._linkValue = this.context.image.imgLink.value;\n        this.context.image._altText = this.context.image.altText.value;\n        this.context.image._align = this.context.image.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n        this.context.image._captionChecked = this.context.image.captionCheckEl.checked;\n        if (this.context.image._resizing) this.context.image._proportionChecked = this.context.image.proportion.checked;\n\n        try {\n            if (this.context.dialog.updateModal) {\n                this.plugins.image.update_image.call(this);\n            }\n            \n            if (this.context.image.imgInputFile && this.context.image.imgInputFile.files.length > 0) {\n                this.plugins.image.onRender_imgInput.call(this);\n            } else if (this.context.image.imgUrlFile && this.context.image.imgUrlFile.value.trim().length > 0) {\n                this.plugins.image.onRender_imgUrl.call(this);\n            } else {\n                this.closeLoading();\n            }\n        } catch (error) {\n            this.closeLoading();\n            __WEBPACK_IMPORTED_MODULE_3__modules_notice__[\"a\" /* default */].open.call(this, '[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n            throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.plugins.dialog.close.call(this);\n        }\n\n        return false;\n    },\n\n    _onload_image: function (oImg, file) {\n        oImg.setAttribute('origin-size', oImg.naturalWidth + ',' + oImg.naturalHeight);\n        oImg.setAttribute('data-origin', oImg.offsetWidth + ',' + oImg.offsetHeight);\n\n        if (!file) return;\n\n        let dataIndex = oImg.getAttribute('data-index');\n        if (!dataIndex) {\n            dataIndex = this._variable._imageIndex;\n            oImg.setAttribute('data-index', dataIndex);\n\n            this._variable._imagesInfo[dataIndex] = {\n                src: oImg.src,\n                index: dataIndex,\n                name: file.name,\n                size: file.size,\n                select: function () {\n                    const size = this.plugins.resizing.call_controller_resize.call(this, oImg, 'image');\n                    this.plugins.image.onModifyMode.call(this, oImg, size);\n                    oImg.scrollIntoView();\n                }.bind(this),\n                delete: this.plugins.image.destroy.bind(this, oImg)\n            };\n\n            this._variable._imageIndex++;\n\n            oImg.setAttribute('data-file-name', file.name);\n            oImg.setAttribute('data-file-size', file.size);\n        }\n        else {\n            this._variable._imagesInfo[dataIndex].oImg.getAttribute(\"data-file-name\");\n            this._variable._imagesInfo[dataIndex].oImg.getAttribute(\"data-file-size\") * 1;\n        }\n\n        this._imageUpload(oImg, dataIndex, false, this._variable._imagesInfo[dataIndex]);\n    },\n\n    create_image: function (src, linkValue, linkNewWindow, width, align, update, updateElement, file) {\n        if (update) {\n            updateElement.src = src;\n            return;\n        }\n\n        const contextImage = this.context.image;\n\n        let oImg = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('IMG');\n        oImg.addEventListener('load', this.plugins.image._onload_image.bind(this, oImg, file));\n\n        oImg.src = src;\n        oImg.setAttribute('data-align', align);\n        oImg.alt = contextImage._altText;\n        oImg = this.plugins.image.onRender_link(oImg, linkValue, linkNewWindow);\n        oImg.setAttribute('data-rotate', '0');\n\n        if (contextImage._resizing) {\n            if (/\\d+/.test(width)) oImg.style.width = width;\n            oImg.setAttribute('data-proportion', contextImage._proportionChecked);\n        }\n\n        const cover = this.plugins.resizing.set_cover.call(this, oImg);\n        const container = this.plugins.resizing.set_container.call(this, cover, 'sun-editor-id-image-container');\n\n        // caption\n        if (contextImage._captionChecked) {\n            contextImage._caption = this.plugins.resizing.create_caption.call(this);\n            contextImage._caption.setAttribute('contenteditable', false);\n            cover.appendChild(contextImage._caption);\n        }\n\n        // align\n        if ('none' !== align) {\n            cover.style.margin = 'auto';\n        } else {\n            cover.style.margin = '0';\n        }\n        \n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(container, contextImage._floatClassRegExp);\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(container, 'float-' + align);\n\n        if (!contextImage._resizing || !/\\d+/.test(width)) {\n            this.context.resizing._resize_plugin = 'image';\n            contextImage._element = oImg;\n            contextImage._cover = cover;\n            contextImage._container = container;\n            this.plugins.image.setAutoSize.call(this);\n        }\n\n        this.insertNode(container, __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getFormatElement(this.getSelectionNode()));\n        this.appendFormatTag(container);\n    },\n\n    update_image: function () {\n        const contextImage = this.context.image;\n        const linkValue = contextImage._linkValue;\n        let imageEl = contextImage._element;\n        let cover = contextImage._cover;\n        let container = contextImage._container;\n        let isNewContainer = false;\n        const changeSize = contextImage.imageX.value * 1 !== imageEl.offsetWidth || contextImage.imageY.value * 1 !== imageEl.offsetHeight;\n\n        if (cover === null) {\n            isNewContainer = true;\n            imageEl = contextImage._element.cloneNode(true);\n            cover = this.plugins.resizing.set_cover.call(this, imageEl);\n        }\n\n        if (container === null) {\n            cover = cover.cloneNode(true);\n            isNewContainer = true;\n            container = this.plugins.resizing.set_container.call(this, cover, 'sun-editor-id-image-container');\n        }\n        \n        if (isNewContainer) {\n            container.innerHTML = '';\n            container.appendChild(cover);\n        }\n\n        // size\n        imageEl.alt = contextImage._altText;\n\n        if (contextImage._resizing) {\n            imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\n            if (changeSize) this.plugins.image.setSize.call(this, contextImage.imageX.value, contextImage.imageY.value);\n        }\n\n        // caption\n        if (contextImage._captionChecked) {\n            if (!contextImage._caption) {\n                contextImage._caption = this.plugins.resizing.create_caption.call(this);\n                cover.appendChild(contextImage._caption);\n            }\n        } else {\n            if (contextImage._caption) {\n                __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeItem(contextImage._caption);\n                contextImage._caption = null;\n            }\n        }\n\n        // align\n        if (contextImage._align && 'none' !== contextImage._align) {\n            cover.style.margin = 'auto';\n        } else {\n            cover.style.margin = '0';\n        }\n\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(container, this.context.image._floatClassRegExp);\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(container, 'float-' + contextImage._align);\n        imageEl.setAttribute('data-align', contextImage._align);\n\n        // link\n        if (linkValue.trim().length > 0) {\n            if (contextImage._linkElement !== null) {\n                contextImage._linkElement.href = linkValue;\n                contextImage._linkElement.target = (contextImage.imgLinkNewWindowCheck.checked ? '_blank' : '');\n                imageEl.setAttribute('data-image-link', linkValue);\n            } else {\n                let newEl = this.plugins.image.onRender_link(imageEl, linkValue, this.context.image.imgLinkNewWindowCheck.checked);\n                cover.insertBefore(newEl, contextImage._caption);\n            }\n        }\n        else if (contextImage._linkElement !== null) {\n            const imageElement = imageEl;\n\n            imageElement.setAttribute('data-image-link', '');\n            let newEl = imageElement.cloneNode(true);\n            cover.removeChild(contextImage._linkElement);\n            cover.insertBefore(newEl, contextImage._caption);\n            imageEl = newEl;\n        }\n\n        if (isNewContainer) {\n            const existElement = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getFormatElement(contextImage._element);\n            existElement.parentNode.insertBefore(container, existElement);\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeItem(existElement);\n        }\n\n        // transform\n        if ((contextImage._resizing && changeSize) || (this.context.resizing._rotateVertical && contextImage._captionChecked)) {\n            this.plugins.resizing.setTransformSize.call(this, imageEl);\n        }\n    },\n\n    sizeRevert: function () {\n        const contextImage = this.context.image;\n        if (contextImage._origin_w) {\n            contextImage.imageX.value = contextImage._element_w = contextImage._origin_w;\n            contextImage.imageY.value = contextImage._element_h = contextImage._origin_h;\n        }\n    },\n\n    onModifyMode: function (element, size) {\n        const contextImage = this.context.image;\n        contextImage._linkElement = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n        contextImage._element = element;\n        contextImage._cover = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getParentElement(element, '.sun-editor-figure-cover');\n        contextImage._container = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getParentElement(element, '.sun-editor-id-image-container');\n        contextImage._caption = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getChildElement(contextImage._cover, 'FIGCAPTION');\n        contextImage._align = element.getAttribute('data-align') || 'none';\n\n        contextImage._element_w = size.w;\n        contextImage._element_h = size.h;\n        contextImage._element_t = size.t;\n        contextImage._element_l = size.l;\n\n        let userSize = contextImage._element.getAttribute('data-origin');\n        if (userSize) {\n            userSize = userSize.split(',');\n            contextImage._origin_w = userSize[0] * 1;\n            contextImage._origin_h = userSize[1] * 1;\n        } else {\n            contextImage._origin_w = size.w;\n            contextImage._origin_h = size.h;\n            contextImage._element.setAttribute('data-origin', size.w + ',' + size.h);\n        }\n    },\n\n    openModify: function (notOpen) {\n        const contextImage = this.context.image;\n        contextImage.imgUrlFile.value = contextImage._element.src;\n        contextImage.altText.value = contextImage._element.alt;\n        contextImage.imgLink.value = contextImage._linkElement === null ? '' : contextImage._linkElement.href;\n        contextImage.imgLinkNewWindowCheck.checked = contextImage._linkElement && contextImage._linkElement.target === '_blank';\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n        contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n\n        if (contextImage._resizing) {\n            contextImage.proportion.checked = contextImage._proportionChecked = contextImage._element.getAttribute('data-proportion') === 'true';\n            contextImage.imageX.value = contextImage._element.offsetWidth;\n            contextImage.imageY.value = contextImage._element.offsetHeight;\n            contextImage.imageX.disabled = false;\n            contextImage.imageY.disabled = false;\n            contextImage.proportion.disabled = false;\n        }\n\n        if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\n    },\n\n    setSize: function (w, h) {\n        const contextImage = this.context.image;\n        contextImage._element.style.width = w + 'px';\n        contextImage._element.style.height = h + 'px';\n    },\n    \n    setAutoSize: function () {\n        const contextImage = this.context.image;\n\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        contextImage._element.style.maxWidth = '100%';\n        contextImage._element.style.width = '100%';\n        contextImage._element.style.height = '';\n        contextImage._cover.style.width = '';\n        contextImage._cover.style.height = '';\n    },\n\n    setPercentSize: function (w) {\n        const contextImage = this.context.image;\n\n        contextImage._container.style.width = w;\n        contextImage._container.style.height = '';\n        contextImage._cover.style.width = '100%';\n        contextImage._cover.style.height = '';\n        contextImage._element.style.width = '100%';\n        contextImage._element.style.height = '';\n\n        if (/100/.test(w)) {\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(contextImage._container, this.context.image._floatClassRegExp);\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(contextImage._container, 'float-center');\n        }\n    },\n\n    cancelPercentAttr: function () {\n        const contextImage = this.context.image;\n        \n        contextImage._element.style.maxWidth = 'none';\n        contextImage._cover.style.width = '';\n        contextImage._cover.style.height = '';\n        contextImage._container.style.width = '';\n        contextImage._container.style.height = '';\n\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(contextImage._container, this.context.image._floatClassRegExp);\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(contextImage._container, 'float-' + contextImage._align);\n    },\n\n    resetAlign: function () {\n        const contextImage = this.context.image;\n\n        contextImage._element.setAttribute('data-align', '');\n        contextImage._align = 'none';\n        contextImage._cover.style.margin = '0';\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(contextImage._container, contextImage._floatClassRegExp);\n    },\n\n    destroy: function (element) {\n        const imageEl = element || this.context.image._element;\n        const imageContainer = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getParentElement(imageEl, '.sun-editor-id-image-container') || imageEl;\n\n        const dataIndex = imageEl.getAttribute('data-index');\n        \n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeItem(imageContainer);\n        this.plugins.image.init.call(this);\n\n        this.controllersOff();\n\n        if (dataIndex) {\n            delete this._variable._imagesInfo[dataIndex];\n            this._imageUpload(imageEl, dataIndex, true);\n        }\n    },\n\n    init: function () {\n        const contextImage = this.context.image;\n        if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\n        if (contextImage.imgUrlFile) contextImage.imgUrlFile.value = '';\n        contextImage.altText.value = '';\n        contextImage.imgLink.value = '';\n        contextImage.imgLinkNewWindowCheck.checked = false;\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\n        contextImage.captionCheckEl.checked = false;\n        contextImage._element = null;\n        this.plugins.image.openTab.call(this, 'init');\n\n        if (contextImage._resizing) {\n            const autoWidth = this.context.option.imageWidth === 'auto';\n\n            contextImage.proportion.checked = false;\n            contextImage.imageX.value = autoWidth ? '' : this.context.option.imageWidth;\n            contextImage.imageY.value = '';\n            contextImage.imageX.disabled = autoWidth;\n            contextImage.imageY.disabled = true;\n            contextImage.proportion.disabled = true;\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL2RpYWxvZy9pbWFnZS5qcz9hYWUzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFcUI7QUFDSztBQUNJO0FBQ0o7O0FBRXhCO0FBQ2Y7QUFDQTtBQUNBLHdCQUF3QixnRUFBTSxFQUFFLGtFQUFRLEVBQUUsZ0VBQU07O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLHVCQUF1QiwwREFBSTtBQUMzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUlBQXlJO0FBQ3pJO0FBQ0EsK0hBQStILDBCQUEwQjtBQUN6Six1S0FBdUs7QUFDdks7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkdBQTJHO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkY7QUFDN0Y7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLHFCQUFxQjtBQUN4QyxZQUFZLDBEQUFJO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQSxRQUFRLDBEQUFJOztBQUVaO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQTs7QUFFQSxrREFBa0QsMERBQUk7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxjQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsWUFBWSxnRUFBTTtBQUNsQjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZ0JBQWdCLGdFQUFNO0FBQ3RCO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0VBQU07QUFDOUI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxnR0FBZ0csU0FBUztBQUN6RyxvSkFBb0osK0NBQStDO0FBQ25NO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVCxZQUFZLGdFQUFNO0FBQ2xCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSx5QkFBeUIsMERBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFlBQVksZ0VBQU07QUFDbEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLG1CQUFtQiwwREFBSTtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBLFFBQVEsMERBQUk7QUFDWixRQUFRLDBEQUFJOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQywwREFBSTtBQUN2QztBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxnQkFBZ0IsMERBQUk7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBLFFBQVEsMERBQUk7QUFDWixRQUFRLDBEQUFJO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsMERBQUk7QUFDckM7QUFDQSxZQUFZLDBEQUFJO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDBEQUFJO0FBQ2xDLGtDQUFrQywwREFBSTtBQUN0QyxnQ0FBZ0MsMERBQUk7QUFDcEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSwwREFBSTtBQUNoQixZQUFZLDBEQUFJO0FBQ2hCO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSwwREFBSTtBQUNaLFFBQVEsMERBQUk7QUFDWixLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBSTtBQUNaLEtBQUs7O0FBRUw7QUFDQTtBQUNBLCtCQUErQiwwREFBSTs7QUFFbkM7O0FBRUEsUUFBUSwwREFBSTtBQUNaOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQyIsImZpbGUiOiIzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiB3eXNpd3lnIHdlYiBlZGl0b3JcbiAqXG4gKiBzdW5lZGl0b3IuanNcbiAqIENvcHlyaWdodCAyMDE3IEppSG9uZyBMZWUuXG4gKiBNSVQgbGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbCBmcm9tICcuLi8uLi9saWIvdXRpbCc7XG5pbXBvcnQgZGlhbG9nIGZyb20gJy4uL21vZHVsZXMvZGlhbG9nJztcbmltcG9ydCByZXNpemluZyBmcm9tICcuLi9tb2R1bGVzL3Jlc2l6aW5nJztcbmltcG9ydCBub3RpY2UgZnJvbSAnLi4vbW9kdWxlcy9ub3RpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ2ltYWdlJyxcbiAgICBhZGQ6IGZ1bmN0aW9uIChjb3JlKSB7XG4gICAgICAgIGNvcmUuYWRkTW9kdWxlKFtkaWFsb2csIHJlc2l6aW5nLCBub3RpY2VdKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjb3JlLmNvbnRleHQ7XG4gICAgICAgIGNvbnRleHQuaW1hZ2UgPSB7XG4gICAgICAgICAgICBfbGlua0VsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBfY29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgX2NvdmVyOiBudWxsLFxuICAgICAgICAgICAgX2VsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBfZWxlbWVudF93OiAxLFxuICAgICAgICAgICAgX2VsZW1lbnRfaDogMSxcbiAgICAgICAgICAgIF9lbGVtZW50X2w6IDAsXG4gICAgICAgICAgICBfZWxlbWVudF90OiAwLFxuICAgICAgICAgICAgX29yaWdpbl93OiBjb250ZXh0Lm9wdGlvbi5pbWFnZVdpZHRoID09PSAnYXV0bycgPyAnJyA6IGNvbnRleHQub3B0aW9uLmltYWdlV2lkdGgsXG4gICAgICAgICAgICBfb3JpZ2luX2g6ICcnLFxuICAgICAgICAgICAgX2FsdFRleHQ6ICcnLFxuICAgICAgICAgICAgX2NhcHRpb246IG51bGwsXG4gICAgICAgICAgICBjYXB0aW9uQ2hlY2tFbDogbnVsbCxcbiAgICAgICAgICAgIF9saW5rVmFsdWU6ICcnLFxuICAgICAgICAgICAgX2FsaWduOiAnbm9uZScsXG4gICAgICAgICAgICBfY2FwdGlvbkNoZWNrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgX3Byb3BvcnRpb25DaGVja2VkOiB0cnVlLFxuICAgICAgICAgICAgX2Zsb2F0Q2xhc3NSZWdFeHA6ICdmbG9hdFxcXFwtW2Etel0rJyxcbiAgICAgICAgICAgIF94bWxIdHRwOiBudWxsLFxuICAgICAgICAgICAgX3Jlc2l6aW5nOiBjb250ZXh0Lm9wdGlvbi5pbWFnZVJlc2l6aW5nLFxuICAgICAgICAgICAgX2RlZmF1bHRBdXRvOiBjb250ZXh0Lm9wdGlvbi5pbWFnZVdpZHRoID09PSAnYXV0bycgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICAvKiogaW1hZ2UgZGlhbG9nICovXG4gICAgICAgIGxldCBpbWFnZV9kaWFsb2cgPSBldmFsKHRoaXMuc2V0RGlhbG9nKGNvcmUuY29udGV4dC5vcHRpb24sIGNvcmUubGFuZykpO1xuICAgICAgICBjb250ZXh0LmltYWdlLm1vZGFsID0gaW1hZ2VfZGlhbG9nO1xuICAgICAgICBjb250ZXh0LmltYWdlLmltZ1VybEZpbGUgPSBpbWFnZV9kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1pbWFnZS11cmwnKVswXTtcbiAgICAgICAgY29udGV4dC5pbWFnZS5pbWdJbnB1dEZpbGUgPSBjb250ZXh0LmltYWdlLmZvY3VzRWxlbWVudCA9IGltYWdlX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLWltYWdlLWZpbGUnKVswXTtcbiAgICAgICAgY29udGV4dC5pbWFnZS5hbHRUZXh0ID0gaW1hZ2VfZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtaW1hZ2UtYWx0JylbMF07XG4gICAgICAgIGNvbnRleHQuaW1hZ2UuaW1nTGluayA9IGltYWdlX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLWltYWdlLWxpbmsnKVswXTtcbiAgICAgICAgY29udGV4dC5pbWFnZS5pbWdMaW5rTmV3V2luZG93Q2hlY2sgPSBpbWFnZV9kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1saW5rQ2hlY2snKVswXTtcbiAgICAgICAgY29udGV4dC5pbWFnZS5jYXB0aW9uQ2hlY2tFbCA9IGltYWdlX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW5lZGl0b3ItaWQtaW1hZ2UtY2hlY2stY2FwdGlvbicpWzBdO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIGNvbnRleHQuaW1hZ2UubW9kYWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci10YWItYnV0dG9uJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5UYWIuYmluZChjb3JlKSk7XG4gICAgICAgIGNvbnRleHQuaW1hZ2UubW9kYWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnRuLXByaW1hcnknKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3VibWl0LmJpbmQoY29yZSkpO1xuICAgICAgICBcbiAgICAgICAgY29udGV4dC5pbWFnZS5pbWFnZVggPSB7fTtcbiAgICAgICAgY29udGV4dC5pbWFnZS5pbWFnZVkgPSB7fTtcbiAgICAgICAgaWYgKGNvbnRleHQub3B0aW9uLmltYWdlUmVzaXppbmcpIHtcbiAgICAgICAgICAgIGNvbnRleHQuaW1hZ2UucHJvcG9ydGlvbiA9IGltYWdlX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW5lZGl0b3ItaWQtaW1hZ2UtY2hlY2stcHJvcG9ydGlvbicpWzBdO1xuICAgICAgICAgICAgY29udGV4dC5pbWFnZS5pbWFnZVggPSBpbWFnZV9kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1pbWFnZS14JylbMF07XG4gICAgICAgICAgICBjb250ZXh0LmltYWdlLmltYWdlWSA9IGltYWdlX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLWltYWdlLXknKVswXTtcbiAgICAgICAgICAgIGNvbnRleHQuaW1hZ2UuaW1hZ2VYLnZhbHVlID0gY29udGV4dC5vcHRpb24uaW1hZ2VXaWR0aDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udGV4dC5pbWFnZS5pbWFnZVguYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5zZXRJbnB1dFNpemUuYmluZChjb3JlLCAneCcpKTtcbiAgICAgICAgICAgIGNvbnRleHQuaW1hZ2UuaW1hZ2VZLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuc2V0SW5wdXRTaXplLmJpbmQoY29yZSwgJ3knKSk7XG4gICAgICAgICAgICBpbWFnZV9kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC1pbWFnZS1yZXZlcnQtYnV0dG9uJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNpemVSZXZlcnQuYmluZChjb3JlKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogYXBwZW5kIGh0bWwgKi9cbiAgICAgICAgY29udGV4dC5kaWFsb2cubW9kYWwuYXBwZW5kQ2hpbGQoaW1hZ2VfZGlhbG9nKTtcblxuICAgICAgICAvKiogZW1wdHkgbWVtb3J5ICovXG4gICAgICAgIGltYWdlX2RpYWxvZyA9IG51bGw7XG4gICAgfSxcblxuICAgIC8qKiBkaWFsb2cgKi9cbiAgICBzZXREaWFsb2c6IGZ1bmN0aW9uIChvcHRpb24sIGxhbmcpIHtcbiAgICAgICAgY29uc3QgZGlhbG9nID0gdXRpbC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgICAgICAgZGlhbG9nLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250ZW50IHN1bi1lZGl0b3ItaWQtZGlhbG9nLWltYWdlJztcbiAgICAgICAgZGlhbG9nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgbGV0IGh0bWwgPSAnJyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtY29tbWFuZD1cImNsb3NlXCIgY2xhc3M9XCJjbG9zZVwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LmNsb3NlICsgJ1wiPicgK1xuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtY29tbWFuZD1cImNsb3NlXCIgY2xhc3M9XCJpY29uLWNhbmNlbFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJyAgIDwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+JyArIGxhbmcuZGlhbG9nQm94LmltYWdlQm94LnRpdGxlICsgJzwvaDU+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInN1bi1lZGl0b3ItdGFiLWJ1dHRvblwiPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic3VuLWVkaXRvci1pZC10YWItbGluayBhY3RpdmVcIiBkYXRhLXRhYi1saW5rPVwiaW1hZ2VcIj4nICsgbGFuZy50b29sYmFyLmltYWdlICsgJzwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic3VuLWVkaXRvci1pZC10YWItbGlua1wiIGRhdGEtdGFiLWxpbms9XCJ1cmxcIj4nICsgbGFuZy50b29sYmFyLmxpbmsgKyAnPC9idXR0b24+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPGZvcm0gY2xhc3M9XCJlZGl0b3JfaW1hZ2VcIiBtZXRob2Q9XCJwb3N0XCIgZW5jdHlwZT1cIm11bHRpcGFydC9mb3JtLWRhdGFcIj4nICtcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwic3VuLWVkaXRvci1pZC10YWItY29udGVudCBzdW4tZWRpdG9yLWlkLXRhYi1jb250ZW50LWltYWdlXCI+JyArXG4gICAgICAgICAgICAnICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+JztcblxuICAgICAgICAgICAgaWYgKG9wdGlvbi5pbWFnZUZpbGVJbnB1dCkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJycgK1xuICAgICAgICAgICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgICAgICA8bGFiZWw+JyArIGxhbmcuZGlhbG9nQm94LmltYWdlQm94LmZpbGUgKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgc3VuLWVkaXRvci1pZC1pbWFnZS1maWxlXCIgdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCJpbWFnZS8qXCIgbXVsdGlwbGU9XCJtdWx0aXBsZVwiIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICcgICA8L2Rpdj4nIDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbi5pbWFnZVVybElucHV0KSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnJyArXG4gICAgICAgICAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAnICAgICAgIDxsYWJlbD4nICsgbGFuZy5kaWFsb2dCb3guaW1hZ2VCb3gudXJsICsgJzwvbGFiZWw+JyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIHN1bi1lZGl0b3ItaWQtaW1hZ2UtdXJsXCIgdHlwZT1cInRleHRcIiAvPicgK1xuICAgICAgICAgICAgICAgICAgICAnICAgPC9kaXY+JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaHRtbCArPSAnJyArXG4gICAgICAgICAgICAnICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxsYWJlbD4nICsgbGFuZy5kaWFsb2dCb3guaW1hZ2VCb3guYWx0VGV4dCArICc8L2xhYmVsPjxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBzdW4tZWRpdG9yLWlkLWltYWdlLWFsdFwiIHR5cGU9XCJ0ZXh0XCIgLz4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDwvZGl2Pic7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb24uaW1hZ2VSZXNpemluZykge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJycgK1xuICAgICAgICAgICAgICAgICcgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2l6ZS10ZXh0XCI+PGxhYmVsIGNsYXNzPVwic2l6ZS13XCI+JyArIGxhbmcuZGlhbG9nQm94LndpZHRoICsgJzwvbGFiZWw+PGxhYmVsIGNsYXNzPVwic2l6ZS14XCI+Jm5ic3A7PC9sYWJlbD48bGFiZWwgY2xhc3M9XCJzaXplLWhcIj4nICsgbGFuZy5kaWFsb2dCb3guaGVpZ2h0ICsgJzwvbGFiZWw+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1zaXplLWNvbnRyb2wgc3VuLWVkaXRvci1pZC1pbWFnZS14XCIgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiAnICsgKG9wdGlvbi5pbWFnZVdpZHRoID09PSAnYXV0bycgPyAnZGlzYWJsZWQnIDogJycpICsgJyAvPjxsYWJlbCBjbGFzcz1cInNpemUteFwiPng8L2xhYmVsPjxpbnB1dCBjbGFzcz1cImZvcm0tc2l6ZS1jb250cm9sIHN1bi1lZGl0b3ItaWQtaW1hZ2UteVwiIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxXCIgZGlzYWJsZWQgLz4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwic3VuZWRpdG9yLWlkLWltYWdlLWNoZWNrLXByb3BvcnRpb25cIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAyMHB4O1wiIGNoZWNrZWQgZGlzYWJsZWQvPiZuYnNwOycgKyBsYW5nLmRpYWxvZ0JveC5wcm9wb3J0aW9uICsgJzwvbGFiZWw+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgdGl0bGU9XCInICsgbGFuZy5kaWFsb2dCb3gucmV2ZXJ0QnV0dG9uICsgJ1wiIGNsYXNzPVwiYnRuX2VkaXRvciBzdW4tZWRpdG9yLWlkLWltYWdlLXJldmVydC1idXR0b25cIiBzdHlsZT1cImZsb2F0OiByaWdodDtcIj48ZGl2IGNsYXNzPVwiaWNvbi1yZXZlcnRcIj48L2Rpdj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgIDwvZGl2PicgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBodG1sICs9ICcnICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwLWZvb3RlclwiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJzdW5lZGl0b3ItaWQtaW1hZ2UtY2hlY2stY2FwdGlvblwiIC8+Jm5ic3A7JyArIGxhbmcuZGlhbG9nQm94LmNhcHRpb24gKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgICAgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwic3VuLWVkaXRvci1pZC10YWItY29udGVudCBzdW4tZWRpdG9yLWlkLXRhYi1jb250ZW50LXVybFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiPicgK1xuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgICAgICA8bGFiZWw+JyArIGxhbmcuZGlhbG9nQm94LmxpbmtCb3gudXJsICsgJzwvbGFiZWw+PGlucHV0IGNsYXNzPVwiZm9ybS1jb250cm9sIHN1bi1lZGl0b3ItaWQtaW1hZ2UtbGlua1wiIHR5cGU9XCJ0ZXh0XCIgLz4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInN1bi1lZGl0b3ItaWQtbGlua0NoZWNrXCIvPiZuYnNwOycgKyBsYW5nLmRpYWxvZ0JveC5saW5rQm94Lm5ld1dpbmRvd0NoZWNrICsgJzwvbGFiZWw+JyArXG4gICAgICAgICAgICAnICAgICAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj4nICtcbiAgICAgICAgICAgICcgICAgICAgPGRpdiBzdHlsZT1cImZsb2F0OiBsZWZ0O1wiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwic3VuZWRpdG9yX2ltYWdlX3JhZGlvXCIgY2xhc3M9XCJtb2RhbC1yYWRpb1wiIHZhbHVlPVwibm9uZVwiIGNoZWNrZWQ+JyArIGxhbmcuZGlhbG9nQm94LmJhc2ljICsgJzwvbGFiZWw+JyArXG4gICAgICAgICAgICAnICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJzdW5lZGl0b3JfaW1hZ2VfcmFkaW9cIiBjbGFzcz1cIm1vZGFsLXJhZGlvXCIgdmFsdWU9XCJsZWZ0XCI+JyArIGxhbmcuZGlhbG9nQm94LmxlZnQgKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb1wiIGNsYXNzPVwibW9kYWwtcmFkaW9cIiB2YWx1ZT1cImNlbnRlclwiPicgKyBsYW5nLmRpYWxvZ0JveC5jZW50ZXIgKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb1wiIGNsYXNzPVwibW9kYWwtcmFkaW9cIiB2YWx1ZT1cInJpZ2h0XCI+JyArIGxhbmcuZGlhbG9nQm94LnJpZ2h0ICsgJzwvbGFiZWw+JyArXG4gICAgICAgICAgICAnICAgICAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBzdW4tZWRpdG9yLWlkLXN1Ym1pdC1pbWFnZVwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnN1Ym1pdEJ1dHRvbiArICdcIj48c3Bhbj4nICsgbGFuZy5kaWFsb2dCb3guc3VibWl0QnV0dG9uICsgJzwvc3Bhbj48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Zvcm0+JztcblxuICAgICAgICBkaWFsb2cuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgICByZXR1cm4gZGlhbG9nO1xuICAgIH0sXG5cbiAgICBvcGVuVGFiOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zdCBtb2RhbCA9IHRoaXMuY29udGV4dC5pbWFnZS5tb2RhbDtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChlID09PSAnaW5pdCcgPyBtb2RhbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXRhYi1saW5rJylbMF0gOiBlLnRhcmdldCk7XG5cbiAgICAgICAgaWYgKCEvXkJVVFRPTiQvaS50ZXN0KHRhcmdldEVsZW1lbnQudGFnTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlY2xhcmUgYWxsIHZhcmlhYmxlc1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFyZ2V0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiLWxpbmsnKTtcbiAgICAgICAgY29uc3QgY29udGVudENsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlkLXRhYi1jb250ZW50JztcbiAgICAgICAgbGV0IGksIHRhYkNvbnRlbnQsIHRhYkxpbmtzO1xuXG4gICAgICAgIC8vIEdldCBhbGwgZWxlbWVudHMgd2l0aCBjbGFzcz1cInRhYmNvbnRlbnRcIiBhbmQgaGlkZSB0aGVtXG4gICAgICAgIHRhYkNvbnRlbnQgPSBtb2RhbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNvbnRlbnRDbGFzc05hbWUpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFiQ29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGFiQ29udGVudFtpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGFsbCBlbGVtZW50cyB3aXRoIGNsYXNzPVwidGFibGlua3NcIiBhbmQgcmVtb3ZlIHRoZSBjbGFzcyBcImFjdGl2ZVwiXG4gICAgICAgIHRhYkxpbmtzID0gbW9kYWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC10YWItbGluaycpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFiTGlua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHV0aWwucmVtb3ZlQ2xhc3ModGFiTGlua3NbaV0sICdhY3RpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgdGhlIGN1cnJlbnQgdGFiLCBhbmQgYWRkIGFuIFwiYWN0aXZlXCIgY2xhc3MgdG8gdGhlIGJ1dHRvbiB0aGF0IG9wZW5lZCB0aGUgdGFiXG4gICAgICAgIG1vZGFsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY29udGVudENsYXNzTmFtZSArICctJyArIHRhYk5hbWUpWzBdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB1dGlsLmFkZENsYXNzKHRhcmdldEVsZW1lbnQsICdhY3RpdmUnKTtcblxuICAgICAgICAvLyBmb2N1c1xuICAgICAgICBpZiAodGFiTmFtZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLmltZ0lucHV0RmlsZS5mb2N1cygpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhYk5hbWUgPT09ICd1cmwnKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuaW1nTGluay5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBvblJlbmRlcl9pbWdJbnB1dDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBzdWJtaXRBY3Rpb24gPSBmdW5jdGlvbiAoZmlsZXMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcGxvYWRVcmwgPSB0aGlzLmNvbnRleHQub3B0aW9uLmltYWdlVXBsb2FkVXJsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVzTGVuID0gdGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCA/IDEgOiBmaWxlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGltYWdlVXBsb2FkVXJsID09PSAnc3RyaW5nJyAmJiBpbWFnZVVwbG9hZFVybC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlc0xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUtJyArIGksIGZpbGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5feG1sSHR0cCA9IHV0aWwuZ2V0WE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl94bWxIdHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMucGx1Z2lucy5pbWFnZS5jYWxsQmFja19pbWdVcGxvYWQuYmluZCh0aGlzLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2xpbmtWYWx1ZSwgdGhpcy5jb250ZXh0LmltYWdlLmltZ0xpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkLCB0aGlzLmNvbnRleHQuaW1hZ2UuaW1hZ2VYLnZhbHVlICsgJ3B4JywgdGhpcy5jb250ZXh0LmltYWdlLl9hbGlnbiwgdGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCwgdGhpcy5jb250ZXh0LmltYWdlLl9lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl94bWxIdHRwLm9wZW4oJ3Bvc3QnLCBpbWFnZVVwbG9hZFVybCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5feG1sSHR0cC5zZW5kKGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXNMZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLnNldHVwX3JlYWRlci5jYWxsKHRoaXMsIGZpbGVzW2ldLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2xpbmtWYWx1ZSwgdGhpcy5jb250ZXh0LmltYWdlLmltZ0xpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkLCB0aGlzLmNvbnRleHQuaW1hZ2UuaW1hZ2VYLnZhbHVlICsgJ3B4JywgdGhpcy5jb250ZXh0LmltYWdlLl9hbGlnbiwgaSwgZmlsZXNMZW4gLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdWJtaXRBY3Rpb24odGhpcy5jb250ZXh0LmltYWdlLmltZ0lucHV0RmlsZS5maWxlcyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCk7XG4gICAgICAgICAgICBub3RpY2Uub3Blbi5jYWxsKHRoaXMsICdbU1VORURJVE9SLmltYWdlVXBsb2FkLmZhaWxdIGNhdXNlIDogXCInICsgZS5tZXNzYWdlICsgJ1wiJyk7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignW1NVTkVESVRPUi5pbWFnZVVwbG9hZC5mYWlsXSBjYXVzZSA6IFwiJyArIGUubWVzc2FnZSArICdcIicpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNldHVwX3JlYWRlcjogZnVuY3Rpb24gKGZpbGUsIGltZ0xpbmtWYWx1ZSwgbmV3V2luZG93Q2hlY2ssIHdpZHRoLCBhbGlnbiwgaW5kZXgsIGZpbGVzTGVuKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlLW5hbWUnLCBmaWxlLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlLXNpemUnLCBmaWxlLnNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICh1cGRhdGUsIHVwZGF0ZUVsZW1lbnQsIGZpbGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLmNyZWF0ZV9pbWFnZS5jYWxsKHRoaXMsIHJlYWRlci5yZXN1bHQsIGltZ0xpbmtWYWx1ZSwgbmV3V2luZG93Q2hlY2ssIHdpZHRoLCBhbGlnbiwgdXBkYXRlLCB1cGRhdGVFbGVtZW50LCBmaWxlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGZpbGVzTGVuKSB0aGlzLmNsb3NlTG9hZGluZygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgbm90aWNlLm9wZW4uY2FsbCh0aGlzLCAnW1NVTkVESVRPUi5pbWFnZUZpbGVSZW5kZXJpbmcuZmFpbF0gY2F1c2UgOiBcIicgKyBlLm1lc3NhZ2UgKyAnXCInKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignW1NVTkVESVRPUi5pbWFnZUZpbGVSZW5kZXJpbmcuZmFpbF0gY2F1c2UgOiBcIicgKyBlLm1lc3NhZ2UgKyAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMsIHRoaXMuY29udGV4dC5kaWFsb2cudXBkYXRlTW9kYWwsIHRoaXMuY29udGV4dC5pbWFnZS5fZWxlbWVudCwgZmlsZSk7XG5cbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgfSxcblxuICAgIGNhbGxCYWNrX2ltZ1VwbG9hZDogZnVuY3Rpb24gKGxpbmtWYWx1ZSwgbGlua05ld1dpbmRvdywgd2lkdGgsIGFsaWduLCB1cGRhdGUsIHVwZGF0ZUVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pbWFnZS5feG1sSHR0cC5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LmltYWdlLl94bWxIdHRwLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHRoaXMuY29udGV4dC5pbWFnZS5feG1sSHR0cC5yZXNwb25zZVRleHQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW1hZ2VVcGxvYWRFcnJvcihyZXNwb25zZS5lcnJvck1lc3NhZ2UsIHJlc3BvbnNlLnJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGljZS5vcGVuLmNhbGwodGhpcywgcmVzcG9uc2UuZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVMaXN0ID0gcmVzcG9uc2UucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gKHVwZGF0ZSAmJiBmaWxlTGlzdC5sZW5ndGggPiAwID8gMSA6IGZpbGVMaXN0Lmxlbmd0aCk7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLmNyZWF0ZV9pbWFnZS5jYWxsKHRoaXMsIGZpbGVMaXN0W2ldLnVybCwgbGlua1ZhbHVlLCBsaW5rTmV3V2luZG93LCB3aWR0aCwgYWxpZ24sIHVwZGF0ZSwgdXBkYXRlRWxlbWVudCwge25hbWU6IGZpbGVMaXN0W2ldLm5hbWUsIHNpemU6IGZpbGVMaXN0W2ldLnNpemV9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm90aWNlLm9wZW4uY2FsbCh0aGlzLCAnW1NVTkVESVRPUi5pbWFnZVVwbG9hZC5mYWlsXSBzdGF0dXM6ICcgKyB0aGlzLmNvbnRleHQuaW1hZ2UuX3htbEh0dHAuc3RhdHVzICsgJywgcmVzcG9uc2VVUkw6ICcgKyB0aGlzLmNvbnRleHQuaW1hZ2UuX3htbEh0dHAucmVzcG9uc2VVUkwpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1tTVU5FRElUT1IuaW1hZ2VVcGxvYWQuZmFpbF0gc3RhdHVzOiAnICsgdGhpcy5jb250ZXh0LmltYWdlLl94bWxIdHRwLnN0YXR1cyArICcsIHJlc3BvbnNlVVJMOiAnICsgdGhpcy5jb250ZXh0LmltYWdlLl94bWxIdHRwLnJlc3BvbnNlVVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvblJlbmRlcl9pbWdVcmw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pbWFnZS5pbWdVcmxGaWxlLnZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLmNyZWF0ZV9pbWFnZS5jYWxsKHRoaXMsIHRoaXMuY29udGV4dC5pbWFnZS5pbWdVcmxGaWxlLnZhbHVlLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2xpbmtWYWx1ZSwgdGhpcy5jb250ZXh0LmltYWdlLmltZ0xpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkLCB0aGlzLmNvbnRleHQuaW1hZ2UuaW1hZ2VYLnZhbHVlICsgJ3B4JywgdGhpcy5jb250ZXh0LmltYWdlLl9hbGlnbiwgdGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCwgdGhpcy5jb250ZXh0LmltYWdlLl9lbGVtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbm90aWNlLm9wZW4uY2FsbCh0aGlzLCAnW1NVTkVESVRPUi5pbWFnZVVSTFJlbmRlcmluZy5mYWlsXSBjYXVzZSA6IFwiJyArIGUubWVzc2FnZSArICdcIicpO1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1tTVU5FRElUT1IuaW1hZ2VVUkxSZW5kZXJpbmcuZmFpbF0gY2F1c2UgOiBcIicgKyBlLm1lc3NhZ2UgKyAnXCInKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25SZW5kZXJfbGluazogZnVuY3Rpb24gKGltZ1RhZywgaW1nTGlua1ZhbHVlLCBuZXdXaW5kb3dDaGVjaykge1xuICAgICAgICBpZiAoaW1nTGlua1ZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gdXRpbC5jcmVhdGVFbGVtZW50KCdBJyk7XG4gICAgICAgICAgICBsaW5rLmhyZWYgPSAvXmh0dHBzPzpcXC9cXC8vLnRlc3QoaW1nTGlua1ZhbHVlKSA/IGltZ0xpbmtWYWx1ZSA6ICdodHRwOi8vJyArIGltZ0xpbmtWYWx1ZTtcbiAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gKG5ld1dpbmRvd0NoZWNrID8gJ19ibGFuaycgOiAnJyk7XG4gICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS1pbWFnZS1saW5rJywgJ2ltYWdlJyk7XG4gICAgICAgICAgICBpbWdUYWcuc2V0QXR0cmlidXRlKCdkYXRhLWltYWdlLWxpbmsnLCBpbWdMaW5rVmFsdWUpO1xuXG4gICAgICAgICAgICBsaW5rLmFwcGVuZENoaWxkKGltZ1RhZyk7XG4gICAgICAgICAgICByZXR1cm4gbGluaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbWdUYWc7XG4gICAgfSxcblxuICAgIHNldElucHV0U2l6ZTogZnVuY3Rpb24gKHh5KSB7XG4gICAgICAgIGlmICghdGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuaW1hZ2UucHJvcG9ydGlvbi5jaGVja2VkKSB7XG4gICAgICAgICAgICBpZiAoeHkgPT09ICd4Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5pbWFnZVkudmFsdWUgPSBNYXRoLnJvdW5kKCh0aGlzLmNvbnRleHQuaW1hZ2UuX2VsZW1lbnRfaCAvIHRoaXMuY29udGV4dC5pbWFnZS5fZWxlbWVudF93KSAqIHRoaXMuY29udGV4dC5pbWFnZS5pbWFnZVgudmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2UuaW1hZ2VYLnZhbHVlID0gTWF0aC5yb3VuZCgodGhpcy5jb250ZXh0LmltYWdlLl9lbGVtZW50X3cgLyB0aGlzLmNvbnRleHQuaW1hZ2UuX2VsZW1lbnRfaCkgKiB0aGlzLmNvbnRleHQuaW1hZ2UuaW1hZ2VZLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzdWJtaXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9saW5rVmFsdWUgPSB0aGlzLmNvbnRleHQuaW1hZ2UuaW1nTGluay52YWx1ZTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmltYWdlLl9hbHRUZXh0ID0gdGhpcy5jb250ZXh0LmltYWdlLmFsdFRleHQudmFsdWU7XG4gICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5fYWxpZ24gPSB0aGlzLmNvbnRleHQuaW1hZ2UubW9kYWwucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb1wiXTpjaGVja2VkJykudmFsdWU7XG4gICAgICAgIHRoaXMuY29udGV4dC5pbWFnZS5fY2FwdGlvbkNoZWNrZWQgPSB0aGlzLmNvbnRleHQuaW1hZ2UuY2FwdGlvbkNoZWNrRWwuY2hlY2tlZDtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pbWFnZS5fcmVzaXppbmcpIHRoaXMuY29udGV4dC5pbWFnZS5fcHJvcG9ydGlvbkNoZWNrZWQgPSB0aGlzLmNvbnRleHQuaW1hZ2UucHJvcG9ydGlvbi5jaGVja2VkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LmRpYWxvZy51cGRhdGVNb2RhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5pbWFnZS51cGRhdGVfaW1hZ2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pbWFnZS5pbWdJbnB1dEZpbGUgJiYgdGhpcy5jb250ZXh0LmltYWdlLmltZ0lucHV0RmlsZS5maWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLm9uUmVuZGVyX2ltZ0lucHV0LmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udGV4dC5pbWFnZS5pbWdVcmxGaWxlICYmIHRoaXMuY29udGV4dC5pbWFnZS5pbWdVcmxGaWxlLnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLm9uUmVuZGVyX2ltZ1VybC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTG9hZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUxvYWRpbmcoKTtcbiAgICAgICAgICAgIG5vdGljZS5vcGVuLmNhbGwodGhpcywgJ1tTVU5FRElUT1IuaW1hZ2Uuc3VibWl0LmZhaWxdIGNhdXNlIDogXCInICsgZXJyb3IubWVzc2FnZSArICdcIicpO1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1tTVU5FRElUT1IuaW1hZ2Uuc3VibWl0LmZhaWxdIGNhdXNlIDogXCInICsgZXJyb3IubWVzc2FnZSArICdcIicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmRpYWxvZy5jbG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBfb25sb2FkX2ltYWdlOiBmdW5jdGlvbiAob0ltZywgZmlsZSkge1xuICAgICAgICBvSW1nLnNldEF0dHJpYnV0ZSgnb3JpZ2luLXNpemUnLCBvSW1nLm5hdHVyYWxXaWR0aCArICcsJyArIG9JbWcubmF0dXJhbEhlaWdodCk7XG4gICAgICAgIG9JbWcuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbicsIG9JbWcub2Zmc2V0V2lkdGggKyAnLCcgKyBvSW1nLm9mZnNldEhlaWdodCk7XG5cbiAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGRhdGFJbmRleCA9IG9JbWcuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4Jyk7XG4gICAgICAgIGlmICghZGF0YUluZGV4KSB7XG4gICAgICAgICAgICBkYXRhSW5kZXggPSB0aGlzLl92YXJpYWJsZS5faW1hZ2VJbmRleDtcbiAgICAgICAgICAgIG9JbWcuc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgZGF0YUluZGV4KTtcblxuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuX2ltYWdlc0luZm9bZGF0YUluZGV4XSA9IHtcbiAgICAgICAgICAgICAgICBzcmM6IG9JbWcuc3JjLFxuICAgICAgICAgICAgICAgIGluZGV4OiBkYXRhSW5kZXgsXG4gICAgICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMucGx1Z2lucy5yZXNpemluZy5jYWxsX2NvbnRyb2xsZXJfcmVzaXplLmNhbGwodGhpcywgb0ltZywgJ2ltYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5pbWFnZS5vbk1vZGlmeU1vZGUuY2FsbCh0aGlzLCBvSW1nLCBzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgb0ltZy5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBkZWxldGU6IHRoaXMucGx1Z2lucy5pbWFnZS5kZXN0cm95LmJpbmQodGhpcywgb0ltZylcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlLl9pbWFnZUluZGV4Kys7XG5cbiAgICAgICAgICAgIG9JbWcuc2V0QXR0cmlidXRlKCdkYXRhLWZpbGUtbmFtZScsIGZpbGUubmFtZSk7XG4gICAgICAgICAgICBvSW1nLnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlLXNpemUnLCBmaWxlLnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuX2ltYWdlc0luZm9bZGF0YUluZGV4XS5vSW1nLmdldEF0dHJpYnV0ZShcImRhdGEtZmlsZS1uYW1lXCIpO1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGUuX2ltYWdlc0luZm9bZGF0YUluZGV4XS5vSW1nLmdldEF0dHJpYnV0ZShcImRhdGEtZmlsZS1zaXplXCIpICogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ltYWdlVXBsb2FkKG9JbWcsIGRhdGFJbmRleCwgZmFsc2UsIHRoaXMuX3ZhcmlhYmxlLl9pbWFnZXNJbmZvW2RhdGFJbmRleF0pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVfaW1hZ2U6IGZ1bmN0aW9uIChzcmMsIGxpbmtWYWx1ZSwgbGlua05ld1dpbmRvdywgd2lkdGgsIGFsaWduLCB1cGRhdGUsIHVwZGF0ZUVsZW1lbnQsIGZpbGUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICAgICAgdXBkYXRlRWxlbWVudC5zcmMgPSBzcmM7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0SW1hZ2UgPSB0aGlzLmNvbnRleHQuaW1hZ2U7XG5cbiAgICAgICAgbGV0IG9JbWcgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0lNRycpO1xuICAgICAgICBvSW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLnBsdWdpbnMuaW1hZ2UuX29ubG9hZF9pbWFnZS5iaW5kKHRoaXMsIG9JbWcsIGZpbGUpKTtcblxuICAgICAgICBvSW1nLnNyYyA9IHNyYztcbiAgICAgICAgb0ltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWxpZ24nLCBhbGlnbik7XG4gICAgICAgIG9JbWcuYWx0ID0gY29udGV4dEltYWdlLl9hbHRUZXh0O1xuICAgICAgICBvSW1nID0gdGhpcy5wbHVnaW5zLmltYWdlLm9uUmVuZGVyX2xpbmsob0ltZywgbGlua1ZhbHVlLCBsaW5rTmV3V2luZG93KTtcbiAgICAgICAgb0ltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtcm90YXRlJywgJzAnKTtcblxuICAgICAgICBpZiAoY29udGV4dEltYWdlLl9yZXNpemluZykge1xuICAgICAgICAgICAgaWYgKC9cXGQrLy50ZXN0KHdpZHRoKSkgb0ltZy5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgb0ltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvcG9ydGlvbicsIGNvbnRleHRJbWFnZS5fcHJvcG9ydGlvbkNoZWNrZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY292ZXIgPSB0aGlzLnBsdWdpbnMucmVzaXppbmcuc2V0X2NvdmVyLmNhbGwodGhpcywgb0ltZyk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMucGx1Z2lucy5yZXNpemluZy5zZXRfY29udGFpbmVyLmNhbGwodGhpcywgY292ZXIsICdzdW4tZWRpdG9yLWlkLWltYWdlLWNvbnRhaW5lcicpO1xuXG4gICAgICAgIC8vIGNhcHRpb25cbiAgICAgICAgaWYgKGNvbnRleHRJbWFnZS5fY2FwdGlvbkNoZWNrZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5fY2FwdGlvbiA9IHRoaXMucGx1Z2lucy5yZXNpemluZy5jcmVhdGVfY2FwdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLl9jYXB0aW9uLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgY292ZXIuYXBwZW5kQ2hpbGQoY29udGV4dEltYWdlLl9jYXB0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsaWduXG4gICAgICAgIGlmICgnbm9uZScgIT09IGFsaWduKSB7XG4gICAgICAgICAgICBjb3Zlci5zdHlsZS5tYXJnaW4gPSAnYXV0byc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb3Zlci5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCBjb250ZXh0SW1hZ2UuX2Zsb2F0Q2xhc3NSZWdFeHApO1xuICAgICAgICB1dGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2Zsb2F0LScgKyBhbGlnbik7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0SW1hZ2UuX3Jlc2l6aW5nIHx8ICEvXFxkKy8udGVzdCh3aWR0aCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5yZXNpemluZy5fcmVzaXplX3BsdWdpbiA9ICdpbWFnZSc7XG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQgPSBvSW1nO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLl9jb3ZlciA9IGNvdmVyO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMuaW1hZ2Uuc2V0QXV0b1NpemUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5zZXJ0Tm9kZShjb250YWluZXIsIHV0aWwuZ2V0Rm9ybWF0RWxlbWVudCh0aGlzLmdldFNlbGVjdGlvbk5vZGUoKSkpO1xuICAgICAgICB0aGlzLmFwcGVuZEZvcm1hdFRhZyhjb250YWluZXIpO1xuICAgIH0sXG5cbiAgICB1cGRhdGVfaW1hZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dEltYWdlID0gdGhpcy5jb250ZXh0LmltYWdlO1xuICAgICAgICBjb25zdCBsaW5rVmFsdWUgPSBjb250ZXh0SW1hZ2UuX2xpbmtWYWx1ZTtcbiAgICAgICAgbGV0IGltYWdlRWwgPSBjb250ZXh0SW1hZ2UuX2VsZW1lbnQ7XG4gICAgICAgIGxldCBjb3ZlciA9IGNvbnRleHRJbWFnZS5fY292ZXI7XG4gICAgICAgIGxldCBjb250YWluZXIgPSBjb250ZXh0SW1hZ2UuX2NvbnRhaW5lcjtcbiAgICAgICAgbGV0IGlzTmV3Q29udGFpbmVyID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYW5nZVNpemUgPSBjb250ZXh0SW1hZ2UuaW1hZ2VYLnZhbHVlICogMSAhPT0gaW1hZ2VFbC5vZmZzZXRXaWR0aCB8fCBjb250ZXh0SW1hZ2UuaW1hZ2VZLnZhbHVlICogMSAhPT0gaW1hZ2VFbC5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgaWYgKGNvdmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICBpc05ld0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICBpbWFnZUVsID0gY29udGV4dEltYWdlLl9lbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIGNvdmVyID0gdGhpcy5wbHVnaW5zLnJlc2l6aW5nLnNldF9jb3Zlci5jYWxsKHRoaXMsIGltYWdlRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY292ZXIgPSBjb3Zlci5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICBpc05ld0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICBjb250YWluZXIgPSB0aGlzLnBsdWdpbnMucmVzaXppbmcuc2V0X2NvbnRhaW5lci5jYWxsKHRoaXMsIGNvdmVyLCAnc3VuLWVkaXRvci1pZC1pbWFnZS1jb250YWluZXInKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGlzTmV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY292ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2l6ZVxuICAgICAgICBpbWFnZUVsLmFsdCA9IGNvbnRleHRJbWFnZS5fYWx0VGV4dDtcblxuICAgICAgICBpZiAoY29udGV4dEltYWdlLl9yZXNpemluZykge1xuICAgICAgICAgICAgaW1hZ2VFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvcG9ydGlvbicsIGNvbnRleHRJbWFnZS5fcHJvcG9ydGlvbkNoZWNrZWQpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZVNpemUpIHRoaXMucGx1Z2lucy5pbWFnZS5zZXRTaXplLmNhbGwodGhpcywgY29udGV4dEltYWdlLmltYWdlWC52YWx1ZSwgY29udGV4dEltYWdlLmltYWdlWS52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYXB0aW9uXG4gICAgICAgIGlmIChjb250ZXh0SW1hZ2UuX2NhcHRpb25DaGVja2VkKSB7XG4gICAgICAgICAgICBpZiAoIWNvbnRleHRJbWFnZS5fY2FwdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnRleHRJbWFnZS5fY2FwdGlvbiA9IHRoaXMucGx1Z2lucy5yZXNpemluZy5jcmVhdGVfY2FwdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvdmVyLmFwcGVuZENoaWxkKGNvbnRleHRJbWFnZS5fY2FwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dEltYWdlLl9jYXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgdXRpbC5yZW1vdmVJdGVtKGNvbnRleHRJbWFnZS5fY2FwdGlvbik7XG4gICAgICAgICAgICAgICAgY29udGV4dEltYWdlLl9jYXB0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsaWduXG4gICAgICAgIGlmIChjb250ZXh0SW1hZ2UuX2FsaWduICYmICdub25lJyAhPT0gY29udGV4dEltYWdlLl9hbGlnbikge1xuICAgICAgICAgICAgY292ZXIuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY292ZXIuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICB9XG5cbiAgICAgICAgdXRpbC5yZW1vdmVDbGFzcyhjb250YWluZXIsIHRoaXMuY29udGV4dC5pbWFnZS5fZmxvYXRDbGFzc1JlZ0V4cCk7XG4gICAgICAgIHV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCAnZmxvYXQtJyArIGNvbnRleHRJbWFnZS5fYWxpZ24pO1xuICAgICAgICBpbWFnZUVsLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbicsIGNvbnRleHRJbWFnZS5fYWxpZ24pO1xuXG4gICAgICAgIC8vIGxpbmtcbiAgICAgICAgaWYgKGxpbmtWYWx1ZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKGNvbnRleHRJbWFnZS5fbGlua0VsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0SW1hZ2UuX2xpbmtFbGVtZW50LmhyZWYgPSBsaW5rVmFsdWU7XG4gICAgICAgICAgICAgICAgY29udGV4dEltYWdlLl9saW5rRWxlbWVudC50YXJnZXQgPSAoY29udGV4dEltYWdlLmltZ0xpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkID8gJ19ibGFuaycgOiAnJyk7XG4gICAgICAgICAgICAgICAgaW1hZ2VFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW1hZ2UtbGluaycsIGxpbmtWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXdFbCA9IHRoaXMucGx1Z2lucy5pbWFnZS5vblJlbmRlcl9saW5rKGltYWdlRWwsIGxpbmtWYWx1ZSwgdGhpcy5jb250ZXh0LmltYWdlLmltZ0xpbmtOZXdXaW5kb3dDaGVjay5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICBjb3Zlci5pbnNlcnRCZWZvcmUobmV3RWwsIGNvbnRleHRJbWFnZS5fY2FwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29udGV4dEltYWdlLl9saW5rRWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gaW1hZ2VFbDtcblxuICAgICAgICAgICAgaW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1pbWFnZS1saW5rJywgJycpO1xuICAgICAgICAgICAgbGV0IG5ld0VsID0gaW1hZ2VFbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIGNvdmVyLnJlbW92ZUNoaWxkKGNvbnRleHRJbWFnZS5fbGlua0VsZW1lbnQpO1xuICAgICAgICAgICAgY292ZXIuaW5zZXJ0QmVmb3JlKG5ld0VsLCBjb250ZXh0SW1hZ2UuX2NhcHRpb24pO1xuICAgICAgICAgICAgaW1hZ2VFbCA9IG5ld0VsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTmV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdEVsZW1lbnQgPSB1dGlsLmdldEZvcm1hdEVsZW1lbnQoY29udGV4dEltYWdlLl9lbGVtZW50KTtcbiAgICAgICAgICAgIGV4aXN0RWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjb250YWluZXIsIGV4aXN0RWxlbWVudCk7XG4gICAgICAgICAgICB1dGlsLnJlbW92ZUl0ZW0oZXhpc3RFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyYW5zZm9ybVxuICAgICAgICBpZiAoKGNvbnRleHRJbWFnZS5fcmVzaXppbmcgJiYgY2hhbmdlU2l6ZSkgfHwgKHRoaXMuY29udGV4dC5yZXNpemluZy5fcm90YXRlVmVydGljYWwgJiYgY29udGV4dEltYWdlLl9jYXB0aW9uQ2hlY2tlZCkpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2lucy5yZXNpemluZy5zZXRUcmFuc2Zvcm1TaXplLmNhbGwodGhpcywgaW1hZ2VFbCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2l6ZVJldmVydDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0SW1hZ2UgPSB0aGlzLmNvbnRleHQuaW1hZ2U7XG4gICAgICAgIGlmIChjb250ZXh0SW1hZ2UuX29yaWdpbl93KSB7XG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuaW1hZ2VYLnZhbHVlID0gY29udGV4dEltYWdlLl9lbGVtZW50X3cgPSBjb250ZXh0SW1hZ2UuX29yaWdpbl93O1xuICAgICAgICAgICAgY29udGV4dEltYWdlLmltYWdlWS52YWx1ZSA9IGNvbnRleHRJbWFnZS5fZWxlbWVudF9oID0gY29udGV4dEltYWdlLl9vcmlnaW5faDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvbk1vZGlmeU1vZGU6IGZ1bmN0aW9uIChlbGVtZW50LCBzaXplKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHRJbWFnZSA9IHRoaXMuY29udGV4dC5pbWFnZTtcbiAgICAgICAgY29udGV4dEltYWdlLl9saW5rRWxlbWVudCA9IC9eQSQvaS50ZXN0KGVsZW1lbnQucGFyZW50Tm9kZS5ub2RlTmFtZSkgPyBlbGVtZW50LnBhcmVudE5vZGUgOiBudWxsO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2NvdmVyID0gdXRpbC5nZXRQYXJlbnRFbGVtZW50KGVsZW1lbnQsICcuc3VuLWVkaXRvci1maWd1cmUtY292ZXInKTtcbiAgICAgICAgY29udGV4dEltYWdlLl9jb250YWluZXIgPSB1dGlsLmdldFBhcmVudEVsZW1lbnQoZWxlbWVudCwgJy5zdW4tZWRpdG9yLWlkLWltYWdlLWNvbnRhaW5lcicpO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2NhcHRpb24gPSB1dGlsLmdldENoaWxkRWxlbWVudChjb250ZXh0SW1hZ2UuX2NvdmVyLCAnRklHQ0FQVElPTicpO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2FsaWduID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWxpZ24nKSB8fCAnbm9uZSc7XG5cbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50X3cgPSBzaXplLnc7XG4gICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudF9oID0gc2l6ZS5oO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnRfdCA9IHNpemUudDtcbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50X2wgPSBzaXplLmw7XG5cbiAgICAgICAgbGV0IHVzZXJTaXplID0gY29udGV4dEltYWdlLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW4nKTtcbiAgICAgICAgaWYgKHVzZXJTaXplKSB7XG4gICAgICAgICAgICB1c2VyU2l6ZSA9IHVzZXJTaXplLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuX29yaWdpbl93ID0gdXNlclNpemVbMF0gKiAxO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLl9vcmlnaW5faCA9IHVzZXJTaXplWzFdICogMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5fb3JpZ2luX3cgPSBzaXplLnc7XG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuX29yaWdpbl9oID0gc2l6ZS5oO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW4nLCBzaXplLncgKyAnLCcgKyBzaXplLmgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9wZW5Nb2RpZnk6IGZ1bmN0aW9uIChub3RPcGVuKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHRJbWFnZSA9IHRoaXMuY29udGV4dC5pbWFnZTtcbiAgICAgICAgY29udGV4dEltYWdlLmltZ1VybEZpbGUudmFsdWUgPSBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuc3JjO1xuICAgICAgICBjb250ZXh0SW1hZ2UuYWx0VGV4dC52YWx1ZSA9IGNvbnRleHRJbWFnZS5fZWxlbWVudC5hbHQ7XG4gICAgICAgIGNvbnRleHRJbWFnZS5pbWdMaW5rLnZhbHVlID0gY29udGV4dEltYWdlLl9saW5rRWxlbWVudCA9PT0gbnVsbCA/ICcnIDogY29udGV4dEltYWdlLl9saW5rRWxlbWVudC5ocmVmO1xuICAgICAgICBjb250ZXh0SW1hZ2UuaW1nTGlua05ld1dpbmRvd0NoZWNrLmNoZWNrZWQgPSBjb250ZXh0SW1hZ2UuX2xpbmtFbGVtZW50ICYmIGNvbnRleHRJbWFnZS5fbGlua0VsZW1lbnQudGFyZ2V0ID09PSAnX2JsYW5rJztcbiAgICAgICAgY29udGV4dEltYWdlLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzdW5lZGl0b3JfaW1hZ2VfcmFkaW9cIl1bdmFsdWU9XCInICsgY29udGV4dEltYWdlLl9hbGlnbiArICdcIl0nKS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgY29udGV4dEltYWdlLl9jYXB0aW9uQ2hlY2tlZCA9IGNvbnRleHRJbWFnZS5jYXB0aW9uQ2hlY2tFbC5jaGVja2VkID0gISFjb250ZXh0SW1hZ2UuX2NhcHRpb247XG5cbiAgICAgICAgaWYgKGNvbnRleHRJbWFnZS5fcmVzaXppbmcpIHtcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5wcm9wb3J0aW9uLmNoZWNrZWQgPSBjb250ZXh0SW1hZ2UuX3Byb3BvcnRpb25DaGVja2VkID0gY29udGV4dEltYWdlLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9wb3J0aW9uJykgPT09ICd0cnVlJztcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5pbWFnZVgudmFsdWUgPSBjb250ZXh0SW1hZ2UuX2VsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBjb250ZXh0SW1hZ2UuaW1hZ2VZLnZhbHVlID0gY29udGV4dEltYWdlLl9lbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5pbWFnZVguZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5pbWFnZVkuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5wcm9wb3J0aW9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW5vdE9wZW4pIHRoaXMucGx1Z2lucy5kaWFsb2cub3Blbi5jYWxsKHRoaXMsICdpbWFnZScsIHRydWUpO1xuICAgIH0sXG5cbiAgICBzZXRTaXplOiBmdW5jdGlvbiAodywgaCkge1xuICAgICAgICBjb25zdCBjb250ZXh0SW1hZ2UgPSB0aGlzLmNvbnRleHQuaW1hZ2U7XG4gICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudC5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG4gICAgfSxcbiAgICBcbiAgICBzZXRBdXRvU2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0SW1hZ2UgPSB0aGlzLmNvbnRleHQuaW1hZ2U7XG5cbiAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2l6aW5nLnJlc2V0VHJhbnNmb3JtLmNhbGwodGhpcywgY29udGV4dEltYWdlLl9lbGVtZW50KTtcbiAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLmNhbmNlbFBlcmNlbnRBdHRyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50LnN0eWxlLm1heFdpZHRoID0gJzEwMCUnO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgY29udGV4dEltYWdlLl9jb3Zlci5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2NvdmVyLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgIH0sXG5cbiAgICBzZXRQZXJjZW50U2l6ZTogZnVuY3Rpb24gKHcpIHtcbiAgICAgICAgY29uc3QgY29udGV4dEltYWdlID0gdGhpcy5jb250ZXh0LmltYWdlO1xuXG4gICAgICAgIGNvbnRleHRJbWFnZS5fY29udGFpbmVyLnN0eWxlLndpZHRoID0gdztcbiAgICAgICAgY29udGV4dEltYWdlLl9jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGNvbnRleHRJbWFnZS5fY292ZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGNvbnRleHRJbWFnZS5fY292ZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50LnN0eWxlLmhlaWdodCA9ICcnO1xuXG4gICAgICAgIGlmICgvMTAwLy50ZXN0KHcpKSB7XG4gICAgICAgICAgICB1dGlsLnJlbW92ZUNsYXNzKGNvbnRleHRJbWFnZS5fY29udGFpbmVyLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2Zsb2F0Q2xhc3NSZWdFeHApO1xuICAgICAgICAgICAgdXRpbC5hZGRDbGFzcyhjb250ZXh0SW1hZ2UuX2NvbnRhaW5lciwgJ2Zsb2F0LWNlbnRlcicpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNhbmNlbFBlcmNlbnRBdHRyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHRJbWFnZSA9IHRoaXMuY29udGV4dC5pbWFnZTtcbiAgICAgICAgXG4gICAgICAgIGNvbnRleHRJbWFnZS5fZWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9ICdub25lJztcbiAgICAgICAgY29udGV4dEltYWdlLl9jb3Zlci5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2NvdmVyLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2NvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2NvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnJztcblxuICAgICAgICB1dGlsLnJlbW92ZUNsYXNzKGNvbnRleHRJbWFnZS5fY29udGFpbmVyLCB0aGlzLmNvbnRleHQuaW1hZ2UuX2Zsb2F0Q2xhc3NSZWdFeHApO1xuICAgICAgICB1dGlsLmFkZENsYXNzKGNvbnRleHRJbWFnZS5fY29udGFpbmVyLCAnZmxvYXQtJyArIGNvbnRleHRJbWFnZS5fYWxpZ24pO1xuICAgIH0sXG5cbiAgICByZXNldEFsaWduOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHRJbWFnZSA9IHRoaXMuY29udGV4dC5pbWFnZTtcblxuICAgICAgICBjb250ZXh0SW1hZ2UuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWFsaWduJywgJycpO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2FsaWduID0gJ25vbmUnO1xuICAgICAgICBjb250ZXh0SW1hZ2UuX2NvdmVyLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgdXRpbC5yZW1vdmVDbGFzcyhjb250ZXh0SW1hZ2UuX2NvbnRhaW5lciwgY29udGV4dEltYWdlLl9mbG9hdENsYXNzUmVnRXhwKTtcbiAgICB9LFxuXG4gICAgZGVzdHJveTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VFbCA9IGVsZW1lbnQgfHwgdGhpcy5jb250ZXh0LmltYWdlLl9lbGVtZW50O1xuICAgICAgICBjb25zdCBpbWFnZUNvbnRhaW5lciA9IHV0aWwuZ2V0UGFyZW50RWxlbWVudChpbWFnZUVsLCAnLnN1bi1lZGl0b3ItaWQtaW1hZ2UtY29udGFpbmVyJykgfHwgaW1hZ2VFbDtcblxuICAgICAgICBjb25zdCBkYXRhSW5kZXggPSBpbWFnZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpO1xuICAgICAgICBcbiAgICAgICAgdXRpbC5yZW1vdmVJdGVtKGltYWdlQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLmluaXQuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzT2ZmKCk7XG5cbiAgICAgICAgaWYgKGRhdGFJbmRleCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ZhcmlhYmxlLl9pbWFnZXNJbmZvW2RhdGFJbmRleF07XG4gICAgICAgICAgICB0aGlzLl9pbWFnZVVwbG9hZChpbWFnZUVsLCBkYXRhSW5kZXgsIHRydWUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dEltYWdlID0gdGhpcy5jb250ZXh0LmltYWdlO1xuICAgICAgICBpZiAoY29udGV4dEltYWdlLmltZ0lucHV0RmlsZSkgY29udGV4dEltYWdlLmltZ0lucHV0RmlsZS52YWx1ZSA9ICcnO1xuICAgICAgICBpZiAoY29udGV4dEltYWdlLmltZ1VybEZpbGUpIGNvbnRleHRJbWFnZS5pbWdVcmxGaWxlLnZhbHVlID0gJyc7XG4gICAgICAgIGNvbnRleHRJbWFnZS5hbHRUZXh0LnZhbHVlID0gJyc7XG4gICAgICAgIGNvbnRleHRJbWFnZS5pbWdMaW5rLnZhbHVlID0gJyc7XG4gICAgICAgIGNvbnRleHRJbWFnZS5pbWdMaW5rTmV3V2luZG93Q2hlY2suY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICBjb250ZXh0SW1hZ2UubW9kYWwucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInN1bmVkaXRvcl9pbWFnZV9yYWRpb1wiXVt2YWx1ZT1cIm5vbmVcIl0nKS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgY29udGV4dEltYWdlLmNhcHRpb25DaGVja0VsLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgY29udGV4dEltYWdlLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbHVnaW5zLmltYWdlLm9wZW5UYWIuY2FsbCh0aGlzLCAnaW5pdCcpO1xuXG4gICAgICAgIGlmIChjb250ZXh0SW1hZ2UuX3Jlc2l6aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBhdXRvV2lkdGggPSB0aGlzLmNvbnRleHQub3B0aW9uLmltYWdlV2lkdGggPT09ICdhdXRvJztcblxuICAgICAgICAgICAgY29udGV4dEltYWdlLnByb3BvcnRpb24uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLmltYWdlWC52YWx1ZSA9IGF1dG9XaWR0aCA/ICcnIDogdGhpcy5jb250ZXh0Lm9wdGlvbi5pbWFnZVdpZHRoO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLmltYWdlWS52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLmltYWdlWC5kaXNhYmxlZCA9IGF1dG9XaWR0aDtcbiAgICAgICAgICAgIGNvbnRleHRJbWFnZS5pbWFnZVkuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29udGV4dEltYWdlLnByb3BvcnRpb24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N1bmVkaXRvci9zcmMvcGx1Z2lucy9kaWFsb2cvaW1hZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///36\n");

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modules_dialog__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modules_resizing__ = __webpack_require__(5);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'video',\n    add: function (core) {\n        core.addModule([__WEBPACK_IMPORTED_MODULE_1__modules_dialog__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_2__modules_resizing__[\"a\" /* default */]]);\n\n        const context = core.context;\n        context.video = {\n            _container: null,\n            _cover: null,\n            _element: null,\n            _resizingDiv: null,\n            _element_w: context.option.videoWidth,\n            _element_h: context.option.videoHeight,\n            _element_l: 0,\n            _element_t: 0,\n            _origin_w: context.option.videoWidth,\n            _origin_h: context.option.videoHeight,\n            _caption: null,\n            captionCheckEl: null,\n            _captionChecked: false,\n            _proportionChecked: true,\n            _align: 'none',\n            _floatClassRegExp: 'float\\\\-[a-z]+',\n            _resizing: context.option.videoResizing\n        };\n\n        /** video dialog */\n        let video_dialog = eval(this.setDialog(core.context.option, core.lang));\n        context.video.modal = video_dialog;\n        context.video.focusElement = video_dialog.getElementsByClassName('sun-editor-id-video-url')[0];\n        context.video.captionCheckEl = video_dialog.getElementsByClassName('suneditor-id-video-check-caption')[0];\n\n        /** add event listeners */\n        video_dialog.getElementsByClassName('btn-primary')[0].addEventListener('click', this.submit.bind(core));\n\n        context.video.videoWidth = {};\n        context.video.videoHeight = {};\n\n        if (context.option.videoResizing) {\n            context.video.videoWidth = video_dialog.getElementsByClassName('sun-editor-id-video-x')[0];\n            context.video.videoHeight = video_dialog.getElementsByClassName('sun-editor-id-video-y')[0];\n            context.video.proportion = video_dialog.getElementsByClassName('suneditor-id-video-check-proportion')[0];\n\n            context.video.videoWidth.value = context.option.videoWidth;\n            context.video.videoHeight.value = context.option.videoHeight;\n\n            context.video.videoWidth.addEventListener('change', this.setInputSize.bind(core, 'x'));\n            context.video.videoHeight.addEventListener('change', this.setInputSize.bind(core, 'y'));\n            video_dialog.getElementsByClassName('sun-editor-id-video-revert-button')[0].addEventListener('click', this.sizeRevert.bind(core));\n        }\n\n        /** append html */\n        context.dialog.modal.appendChild(video_dialog);\n\n        /** empty memory */\n        video_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function (option, lang) {\n        const dialog = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n\n        dialog.className = 'modal-content sun-editor-id-dialog-video';\n        dialog.style.display = 'none';\n        let html = '' +\n            '<form class=\"editor_video\">' +\n            '   <div class=\"modal-header\">' +\n            '       <button type=\"button\" data-command=\"close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n            '           <div aria-hidden=\"true\" data-command=\"close\" class=\"icon-cancel\"></div>' +\n            '       </button>' +\n            '       <h5 class=\"modal-title\">' + lang.dialogBox.videoBox.title + '</h5>' +\n            '   </div>' +\n            '   <div class=\"modal-body\">' +\n            '       <div class=\"form-group\">' +\n            '           <label>' + lang.dialogBox.videoBox.url + '</label>' +\n            '           <input class=\"form-control sun-editor-id-video-url\" type=\"text\" />' +\n            '       </div>';\n\n            if (option.videoResizing) {\n                html += '' +\n                '   <div class=\"form-group\">' +\n                '       <div class=\"size-text\"><label class=\"size-w\">' + lang.dialogBox.width + '</label><label class=\"size-x\">&nbsp;</label><label class=\"size-h\">' + lang.dialogBox.height + '</label></div>' +\n                '       <input type=\"number\" class=\"form-size-control sun-editor-id-video-x\" /><label class=\"size-x\">x</label><input type=\"number\" class=\"form-size-control sun-editor-id-video-y\" />' +\n                '       <label><input type=\"checkbox\" class=\"suneditor-id-video-check-proportion\" style=\"margin-left: 20px;\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\n                '       <button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"btn_editor sun-editor-id-video-revert-button\" style=\"float: right;\"><div class=\"icon-revert\"></div></button>' +\n                '   </div>';\n            }\n\n            html += '' +\n            '       <div class=\"form-group-footer\">' +\n            '           <label><input type=\"checkbox\" class=\"suneditor-id-video-check-caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' +\n            '       </div>' +\n            '   </div>' +\n            '   <div class=\"modal-footer\">' +\n            '       <div style=\"float: left;\">' +\n            '           <label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"modal-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\n            '           <label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"modal-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\n            '           <label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"modal-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\n            '           <label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"modal-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\n            '       </div>' +\n            '       <button type=\"submit\" class=\"btn btn-primary sun-editor-id-submit-video\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n            '   </div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    setInputSize: function (xy) {\n        if (this.context.video.proportion.checked) {\n            if (xy === 'x') {\n                this.context.video.videoHeight.value = Math.round((this.context.video._element_h / this.context.video._element_w) * this.context.video.videoWidth.value);\n            } else {\n                this.context.video.videoWidth.value = Math.round((this.context.video._element_w / this.context.video._element_h) * this.context.video.videoHeight.value);\n            }\n        }\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.context.video._captionChecked = this.context.video.captionCheckEl.checked;\n\n        const submitAction = function () {\n            if (this.context.video.focusElement.value.trim().length === 0) return false;\n\n            const contextVideo = this.context.video;\n            const w = (/^\\d+$/.test(contextVideo.videoWidth.value) ? contextVideo.videoWidth.value : this.context.option.videoWidth);\n            const h = (/^\\d+$/.test(contextVideo.videoHeight.value) ? contextVideo.videoHeight.value : this.context.option.videoHeight);\n            let resizingDiv = null;\n            let oIframe = null;\n            let cover = null;\n            let container = null;\n            let url = contextVideo.focusElement.value.trim();\n            contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\n\n            /** iframe source */\n            if (/^<iframe.*\\/iframe>$/.test(url)) {\n                oIframe = (new DOMParser()).parseFromString(url, 'text/html').getElementsByTagName('iframe')[0];\n            }\n            /** url */\n            else {\n                oIframe = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('IFRAME');\n                /** youtube */\n                if (/youtu\\.?be/.test(url)) {\n                    url = url.replace('watch?v=', '');\n                    if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n                        url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/');\n                    }\n                }\n                oIframe.src = url;\n            }\n\n            /** update */\n            if (this.context.dialog.updateModal) {\n                contextVideo._element.src = oIframe.src;\n                container = contextVideo._container;\n                cover = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getParentElement(contextVideo._element, '.sun-editor-figure-cover');\n                oIframe = contextVideo._element;\n                resizingDiv = contextVideo._resizingDiv;\n            }\n            /** create */\n            else {\n                oIframe.frameBorder = '0';\n                oIframe.allowFullscreen = true;\n                oIframe.contentDocument;\n                oIframe.onload = function () {\n                    this.setAttribute('origin-size', this.offsetWidth + ',' + this.offsetHeight);\n                    this.setAttribute('data-origin', this.offsetWidth + ',' + this.offsetHeight);\n                    this.style.height = this.offsetHeight + 'px';\n                }.bind(oIframe);\n                contextVideo._element = oIframe;\n\n                /** cover */\n                cover = this.plugins.resizing.set_cover.call(this, oIframe);\n\n                /** resizingDiv */\n                contextVideo._resizingDiv = resizingDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].createElement('DIV');\n                resizingDiv.className = 'sun-editor-id-iframe-inner-resizing-cover';\n                cover.appendChild(resizingDiv);\n\n                /** container */\n                container = this.plugins.resizing.set_container.call(this, cover, 'sun-editor-id-iframe-container');\n            }\n\n            const changeSize = w * 1 !== oIframe.offsetWidth || h * 1 !== oIframe.offsetHeight;\n\n            if (contextVideo._resizing) {\n                this.context.video._proportionChecked = contextVideo.proportion.checked;\n                oIframe.setAttribute('data-proportion', contextVideo._proportionChecked);\n            }\n\n            // caption\n            if (contextVideo._captionChecked) {\n                if (!contextVideo._caption) {\n                    contextVideo._caption = this.plugins.resizing.create_caption.call(this);\n                    cover.appendChild(contextVideo._caption);\n                }\n            } else {\n                if (contextVideo._caption) {\n                    __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeItem(contextVideo._caption);\n                    contextVideo._caption = null;\n                }\n            }\n\n            // size\n            if (changeSize) {\n                this.plugins.video.setSize.call(this, w, h);\n            }\n\n            // align\n            if (contextVideo._align && 'none' !== contextVideo._align) {\n                cover.style.margin = 'auto';\n            } else {\n                cover.style.margin = '0';\n            }\n            \n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(container, this.context.video._floatClassRegExp);\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(container, 'float-' + contextVideo._align);\n            oIframe.setAttribute('data-align', contextVideo._align);\n\n            if (!this.context.dialog.updateModal) {\n                this.insertNode(container, __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getFormatElement(this.getSelectionNode()));\n                this.appendFormatTag(container);\n            } else if((contextVideo._resizing && changeSize) || (this.context.resizing._rotateVertical && contextVideo._captionChecked)) {\n                this.plugins.resizing.setTransformSize.call(this, oIframe);\n            }\n\n        }.bind(this);\n\n        try {\n            submitAction();\n        } finally {\n            this.plugins.dialog.close.call(this);\n            this.closeLoading();\n        }\n\n        this.focus();\n\n        return false;\n    },\n\n    sizeRevert: function () {\n        const contextVideo = this.context.video;\n        if (contextVideo._origin_w) {\n            contextVideo.videoWidth.value = contextVideo._element_w = contextVideo._origin_w;\n            contextVideo.videoHeight.value = contextVideo._element_h = contextVideo._origin_h;\n        }\n    },\n\n    onModifyMode: function (element, size) {\n        const contextVideo = this.context.video;\n        contextVideo._element = element;\n        contextVideo._cover = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getParentElement(element, '.sun-editor-figure-cover');\n        contextVideo._container = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getParentElement(element, '.sun-editor-id-iframe-container');\n        contextVideo._caption = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getChildElement(contextVideo._cover, 'FIGCAPTION');\n        contextVideo._resizingDiv = __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].getChildElement(contextVideo._cover, '.sun-editor-id-iframe-inner-resizing-cover');\n\n        contextVideo._align = element.getAttribute('data-align') || 'none';\n\n        contextVideo._element_w = size.w;\n        contextVideo._element_h = size.h;\n        contextVideo._element_t = size.t;\n        contextVideo._element_l = size.l;\n\n        let origin = contextVideo._element.getAttribute('data-origin');\n        if (origin) {\n            origin = origin.split(',');\n            contextVideo._origin_w = origin[0] * 1;\n            contextVideo._origin_h = origin[1] * 1;\n        } else {\n            contextVideo._origin_w = size.w;\n            contextVideo._origin_h = size.h;\n            contextVideo._element.setAttribute('data-origin', size.w + ',' + size.h);\n        }\n    },\n\n    openModify: function () {\n        const contextVideo = this.context.video;\n\n        contextVideo.focusElement.value = contextVideo._element.src;\n        contextVideo.videoWidth.value = contextVideo._element.offsetWidth;\n        contextVideo.videoHeight.value = contextVideo._element.offsetHeight;\n        contextVideo._captionChecked = contextVideo.captionCheckEl.checked = !!contextVideo._caption;\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n        if (contextVideo._resizing) {\n            contextVideo.proportion.checked = contextVideo._proportionChecked = contextVideo._element.getAttribute('data-proportion') === 'true';\n            contextVideo.proportion.disabled = false;\n        }\n\n        this.plugins.dialog.open.call(this, 'video', true);\n    },\n\n    setSize: function (w, h, isVertical) {\n        const contextVideo = this.context.video;\n        contextVideo._element.style.width = w + 'px';\n        contextVideo._element.style.height = h + 'px';\n        contextVideo._resizingDiv.style.height = (isVertical ? w : h) + 'px';\n    },\n\n    setPercentSize: function (w) {\n        const contextVideo = this.context.video;\n\n        contextVideo._container.style.width = w;\n        contextVideo._container.style.height = '';\n        contextVideo._cover.style.width = '100%';\n        contextVideo._cover.style.height = '';\n        contextVideo._element.style.width = '100%';\n        contextVideo._element.style.height = contextVideo._resizingDiv.style.height = ((contextVideo._origin_h / contextVideo._origin_w) * contextVideo._element.offsetWidth) + 'px';\n\n        if (/100/.test(w)) {\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n            __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(contextVideo._container, 'float-center');\n        }\n    },\n\n    cancelPercentAttr: function () {\n        const contextVideo = this.context.video;\n        \n        contextVideo._cover.style.width = '';\n        contextVideo._cover.style.height = '';\n        contextVideo._container.style.width = '';\n        contextVideo._container.style.height = '';\n\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].addClass(contextVideo._container, 'float-' + contextVideo._align);\n    },\n\n    resetAlign: function () {\n        const contextVideo = this.context.video;\n\n        contextVideo._element.setAttribute('data-align', '');\n        contextVideo._align = 'none';\n        contextVideo._cover.style.margin = '0';\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeClass(contextVideo._container, contextVideo._floatClassRegExp);\n    },\n\n    destroy: function () {\n        __WEBPACK_IMPORTED_MODULE_0__lib_util__[\"a\" /* default */].removeItem(this.context.video._container);\n        this.plugins.video.init.call(this);\n        this.controllersOff();\n    },\n\n    init: function () {\n        const contextVideo = this.context.video;\n        contextVideo.focusElement.value = '';\n        contextVideo.captionCheckEl.checked = false;\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\n        \n        if (contextVideo._resizing) {\n            contextVideo.videoWidth.value = this.context.option.videoWidth;\n            contextVideo.videoHeight.value = this.context.option.videoHeight;\n            contextVideo.proportion.checked = true;\n            contextVideo.proportion.disabled = true;\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL2RpYWxvZy92aWRlby5qcz9hMjRiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRXFCO0FBQ0s7QUFDSTs7QUFFNUI7QUFDZjtBQUNBO0FBQ0Esd0JBQXdCLGdFQUFNLEVBQUUsa0VBQVE7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSx1QkFBdUIsMERBQUk7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxSUFBcUk7QUFDckk7QUFDQSwySEFBMkgsaUJBQWlCO0FBQzVJLG1LQUFtSztBQUNuSztBQUNBOztBQUVBO0FBQ0E7QUFDQSx1R0FBdUc7QUFDdkc7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwwREFBSTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMERBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwwREFBMEQsMERBQUk7QUFDOUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esb0JBQW9CLDBEQUFJO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQSxZQUFZLDBEQUFJO0FBQ2hCLFlBQVksMERBQUk7QUFDaEI7O0FBRUE7QUFDQSwyQ0FBMkMsMERBQUk7QUFDL0M7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwREFBSTtBQUNsQyxrQ0FBa0MsMERBQUk7QUFDdEMsZ0NBQWdDLDBEQUFJO0FBQ3BDLG9DQUFvQywwREFBSTs7QUFFeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVksMERBQUk7QUFDaEIsWUFBWSwwREFBSTtBQUNoQjtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLDBEQUFJO0FBQ1osUUFBUSwwREFBSTtBQUNaLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDBEQUFJO0FBQ1osS0FBSzs7QUFFTDtBQUNBLFFBQVEsMERBQUk7QUFDWjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwiZmlsZSI6IjM3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIHd5c2l3eWcgd2ViIGVkaXRvclxuICpcbiAqIHN1bmVkaXRvci5qc1xuICogQ29weXJpZ2h0IDIwMTcgSmlIb25nIExlZS5cbiAqIE1JVCBsaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlsIGZyb20gJy4uLy4uL2xpYi91dGlsJztcbmltcG9ydCBkaWFsb2cgZnJvbSAnLi4vbW9kdWxlcy9kaWFsb2cnO1xuaW1wb3J0IHJlc2l6aW5nIGZyb20gJy4uL21vZHVsZXMvcmVzaXppbmcnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ3ZpZGVvJyxcbiAgICBhZGQ6IGZ1bmN0aW9uIChjb3JlKSB7XG4gICAgICAgIGNvcmUuYWRkTW9kdWxlKFtkaWFsb2csIHJlc2l6aW5nXSk7XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNvcmUuY29udGV4dDtcbiAgICAgICAgY29udGV4dC52aWRlbyA9IHtcbiAgICAgICAgICAgIF9jb250YWluZXI6IG51bGwsXG4gICAgICAgICAgICBfY292ZXI6IG51bGwsXG4gICAgICAgICAgICBfZWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIF9yZXNpemluZ0RpdjogbnVsbCxcbiAgICAgICAgICAgIF9lbGVtZW50X3c6IGNvbnRleHQub3B0aW9uLnZpZGVvV2lkdGgsXG4gICAgICAgICAgICBfZWxlbWVudF9oOiBjb250ZXh0Lm9wdGlvbi52aWRlb0hlaWdodCxcbiAgICAgICAgICAgIF9lbGVtZW50X2w6IDAsXG4gICAgICAgICAgICBfZWxlbWVudF90OiAwLFxuICAgICAgICAgICAgX29yaWdpbl93OiBjb250ZXh0Lm9wdGlvbi52aWRlb1dpZHRoLFxuICAgICAgICAgICAgX29yaWdpbl9oOiBjb250ZXh0Lm9wdGlvbi52aWRlb0hlaWdodCxcbiAgICAgICAgICAgIF9jYXB0aW9uOiBudWxsLFxuICAgICAgICAgICAgY2FwdGlvbkNoZWNrRWw6IG51bGwsXG4gICAgICAgICAgICBfY2FwdGlvbkNoZWNrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgX3Byb3BvcnRpb25DaGVja2VkOiB0cnVlLFxuICAgICAgICAgICAgX2FsaWduOiAnbm9uZScsXG4gICAgICAgICAgICBfZmxvYXRDbGFzc1JlZ0V4cDogJ2Zsb2F0XFxcXC1bYS16XSsnLFxuICAgICAgICAgICAgX3Jlc2l6aW5nOiBjb250ZXh0Lm9wdGlvbi52aWRlb1Jlc2l6aW5nXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqIHZpZGVvIGRpYWxvZyAqL1xuICAgICAgICBsZXQgdmlkZW9fZGlhbG9nID0gZXZhbCh0aGlzLnNldERpYWxvZyhjb3JlLmNvbnRleHQub3B0aW9uLCBjb3JlLmxhbmcpKTtcbiAgICAgICAgY29udGV4dC52aWRlby5tb2RhbCA9IHZpZGVvX2RpYWxvZztcbiAgICAgICAgY29udGV4dC52aWRlby5mb2N1c0VsZW1lbnQgPSB2aWRlb19kaWFsb2cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3VuLWVkaXRvci1pZC12aWRlby11cmwnKVswXTtcbiAgICAgICAgY29udGV4dC52aWRlby5jYXB0aW9uQ2hlY2tFbCA9IHZpZGVvX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW5lZGl0b3ItaWQtdmlkZW8tY2hlY2stY2FwdGlvbicpWzBdO1xuXG4gICAgICAgIC8qKiBhZGQgZXZlbnQgbGlzdGVuZXJzICovXG4gICAgICAgIHZpZGVvX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidG4tcHJpbWFyeScpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdWJtaXQuYmluZChjb3JlKSk7XG5cbiAgICAgICAgY29udGV4dC52aWRlby52aWRlb1dpZHRoID0ge307XG4gICAgICAgIGNvbnRleHQudmlkZW8udmlkZW9IZWlnaHQgPSB7fTtcblxuICAgICAgICBpZiAoY29udGV4dC5vcHRpb24udmlkZW9SZXNpemluZykge1xuICAgICAgICAgICAgY29udGV4dC52aWRlby52aWRlb1dpZHRoID0gdmlkZW9fZGlhbG9nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N1bi1lZGl0b3ItaWQtdmlkZW8teCcpWzBdO1xuICAgICAgICAgICAgY29udGV4dC52aWRlby52aWRlb0hlaWdodCA9IHZpZGVvX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXZpZGVvLXknKVswXTtcbiAgICAgICAgICAgIGNvbnRleHQudmlkZW8ucHJvcG9ydGlvbiA9IHZpZGVvX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW5lZGl0b3ItaWQtdmlkZW8tY2hlY2stcHJvcG9ydGlvbicpWzBdO1xuXG4gICAgICAgICAgICBjb250ZXh0LnZpZGVvLnZpZGVvV2lkdGgudmFsdWUgPSBjb250ZXh0Lm9wdGlvbi52aWRlb1dpZHRoO1xuICAgICAgICAgICAgY29udGV4dC52aWRlby52aWRlb0hlaWdodC52YWx1ZSA9IGNvbnRleHQub3B0aW9uLnZpZGVvSGVpZ2h0O1xuXG4gICAgICAgICAgICBjb250ZXh0LnZpZGVvLnZpZGVvV2lkdGguYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5zZXRJbnB1dFNpemUuYmluZChjb3JlLCAneCcpKTtcbiAgICAgICAgICAgIGNvbnRleHQudmlkZW8udmlkZW9IZWlnaHQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5zZXRJbnB1dFNpemUuYmluZChjb3JlLCAneScpKTtcbiAgICAgICAgICAgIHZpZGVvX2RpYWxvZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdW4tZWRpdG9yLWlkLXZpZGVvLXJldmVydC1idXR0b24nKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2l6ZVJldmVydC5iaW5kKGNvcmUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBhcHBlbmQgaHRtbCAqL1xuICAgICAgICBjb250ZXh0LmRpYWxvZy5tb2RhbC5hcHBlbmRDaGlsZCh2aWRlb19kaWFsb2cpO1xuXG4gICAgICAgIC8qKiBlbXB0eSBtZW1vcnkgKi9cbiAgICAgICAgdmlkZW9fZGlhbG9nID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqIGRpYWxvZyAqL1xuICAgIHNldERpYWxvZzogZnVuY3Rpb24gKG9wdGlvbiwgbGFuZykge1xuICAgICAgICBjb25zdCBkaWFsb2cgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuXG4gICAgICAgIGRpYWxvZy5jbGFzc05hbWUgPSAnbW9kYWwtY29udGVudCBzdW4tZWRpdG9yLWlkLWRpYWxvZy12aWRlbyc7XG4gICAgICAgIGRpYWxvZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBsZXQgaHRtbCA9ICcnICtcbiAgICAgICAgICAgICc8Zm9ybSBjbGFzcz1cImVkaXRvcl92aWRlb1wiPicgK1xuICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj4nICtcbiAgICAgICAgICAgICcgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1jb21tYW5kPVwiY2xvc2VcIiBjbGFzcz1cImNsb3NlXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCIgdGl0bGU9XCInICsgbGFuZy5kaWFsb2dCb3guY2xvc2UgKyAnXCI+JyArXG4gICAgICAgICAgICAnICAgICAgICAgICA8ZGl2IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtY29tbWFuZD1cImNsb3NlXCIgY2xhc3M9XCJpY29uLWNhbmNlbFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJyAgICAgICA8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICAgICAgPGg1IGNsYXNzPVwibW9kYWwtdGl0bGVcIj4nICsgbGFuZy5kaWFsb2dCb3gudmlkZW9Cb3gudGl0bGUgKyAnPC9oNT4nICtcbiAgICAgICAgICAgICcgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPicgK1xuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGxhYmVsPicgKyBsYW5nLmRpYWxvZ0JveC52aWRlb0JveC51cmwgKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBzdW4tZWRpdG9yLWlkLXZpZGVvLXVybFwiIHR5cGU9XCJ0ZXh0XCIgLz4nICtcbiAgICAgICAgICAgICcgICAgICAgPC9kaXY+JztcblxuICAgICAgICAgICAgaWYgKG9wdGlvbi52aWRlb1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnJyArXG4gICAgICAgICAgICAgICAgJyAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwic2l6ZS10ZXh0XCI+PGxhYmVsIGNsYXNzPVwic2l6ZS13XCI+JyArIGxhbmcuZGlhbG9nQm94LndpZHRoICsgJzwvbGFiZWw+PGxhYmVsIGNsYXNzPVwic2l6ZS14XCI+Jm5ic3A7PC9sYWJlbD48bGFiZWwgY2xhc3M9XCJzaXplLWhcIj4nICsgbGFuZy5kaWFsb2dCb3guaGVpZ2h0ICsgJzwvbGFiZWw+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwiZm9ybS1zaXplLWNvbnRyb2wgc3VuLWVkaXRvci1pZC12aWRlby14XCIgLz48bGFiZWwgY2xhc3M9XCJzaXplLXhcIj54PC9sYWJlbD48aW5wdXQgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwiZm9ybS1zaXplLWNvbnRyb2wgc3VuLWVkaXRvci1pZC12aWRlby15XCIgLz4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJzdW5lZGl0b3ItaWQtdmlkZW8tY2hlY2stcHJvcG9ydGlvblwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDIwcHg7XCIgY2hlY2tlZC8+Jm5ic3A7JyArIGxhbmcuZGlhbG9nQm94LnByb3BvcnRpb24gKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIHRpdGxlPVwiJyArIGxhbmcuZGlhbG9nQm94LnJldmVydEJ1dHRvbiArICdcIiBjbGFzcz1cImJ0bl9lZGl0b3Igc3VuLWVkaXRvci1pZC12aWRlby1yZXZlcnQtYnV0dG9uXCIgc3R5bGU9XCJmbG9hdDogcmlnaHQ7XCI+PGRpdiBjbGFzcz1cImljb24tcmV2ZXJ0XCI+PC9kaXY+PC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgJyAgIDwvZGl2Pic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGh0bWwgKz0gJycgK1xuICAgICAgICAgICAgJyAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cC1mb290ZXJcIj4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJzdW5lZGl0b3ItaWQtdmlkZW8tY2hlY2stY2FwdGlvblwiIC8+Jm5ic3A7JyArIGxhbmcuZGlhbG9nQm94LmNhcHRpb24gKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICcgICAgICAgPC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPC9kaXY+JyArXG4gICAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPicgK1xuICAgICAgICAgICAgJyAgICAgICA8ZGl2IHN0eWxlPVwiZmxvYXQ6IGxlZnQ7XCI+JyArXG4gICAgICAgICAgICAnICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJzdW5lZGl0b3JfdmlkZW9fcmFkaW9cIiBjbGFzcz1cIm1vZGFsLXJhZGlvXCIgdmFsdWU9XCJub25lXCIgY2hlY2tlZD4nICsgbGFuZy5kaWFsb2dCb3guYmFzaWMgKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICcgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInN1bmVkaXRvcl92aWRlb19yYWRpb1wiIGNsYXNzPVwibW9kYWwtcmFkaW9cIiB2YWx1ZT1cImxlZnRcIj4nICsgbGFuZy5kaWFsb2dCb3gubGVmdCArICc8L2xhYmVsPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwic3VuZWRpdG9yX3ZpZGVvX3JhZGlvXCIgY2xhc3M9XCJtb2RhbC1yYWRpb1wiIHZhbHVlPVwiY2VudGVyXCI+JyArIGxhbmcuZGlhbG9nQm94LmNlbnRlciArICc8L2xhYmVsPicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwic3VuZWRpdG9yX3ZpZGVvX3JhZGlvXCIgY2xhc3M9XCJtb2RhbC1yYWRpb1wiIHZhbHVlPVwicmlnaHRcIj4nICsgbGFuZy5kaWFsb2dCb3gucmlnaHQgKyAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICcgICAgICAgPC9kaXY+JyArXG4gICAgICAgICAgICAnICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IHN1bi1lZGl0b3ItaWQtc3VibWl0LXZpZGVvXCIgdGl0bGU9XCInICsgbGFuZy5kaWFsb2dCb3guc3VibWl0QnV0dG9uICsgJ1wiPjxzcGFuPicgKyBsYW5nLmRpYWxvZ0JveC5zdWJtaXRCdXR0b24gKyAnPC9zcGFuPjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZm9ybT4nO1xuXG4gICAgICAgIGRpYWxvZy5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgIHJldHVybiBkaWFsb2c7XG4gICAgfSxcblxuICAgIHNldElucHV0U2l6ZTogZnVuY3Rpb24gKHh5KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQudmlkZW8ucHJvcG9ydGlvbi5jaGVja2VkKSB7XG4gICAgICAgICAgICBpZiAoeHkgPT09ICd4Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC52aWRlby52aWRlb0hlaWdodC52YWx1ZSA9IE1hdGgucm91bmQoKHRoaXMuY29udGV4dC52aWRlby5fZWxlbWVudF9oIC8gdGhpcy5jb250ZXh0LnZpZGVvLl9lbGVtZW50X3cpICogdGhpcy5jb250ZXh0LnZpZGVvLnZpZGVvV2lkdGgudmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQudmlkZW8udmlkZW9XaWR0aC52YWx1ZSA9IE1hdGgucm91bmQoKHRoaXMuY29udGV4dC52aWRlby5fZWxlbWVudF93IC8gdGhpcy5jb250ZXh0LnZpZGVvLl9lbGVtZW50X2gpICogdGhpcy5jb250ZXh0LnZpZGVvLnZpZGVvSGVpZ2h0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzdWJtaXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0LnZpZGVvLl9jYXB0aW9uQ2hlY2tlZCA9IHRoaXMuY29udGV4dC52aWRlby5jYXB0aW9uQ2hlY2tFbC5jaGVja2VkO1xuXG4gICAgICAgIGNvbnN0IHN1Ym1pdEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQudmlkZW8uZm9jdXNFbGVtZW50LnZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgY29udGV4dFZpZGVvID0gdGhpcy5jb250ZXh0LnZpZGVvO1xuICAgICAgICAgICAgY29uc3QgdyA9ICgvXlxcZCskLy50ZXN0KGNvbnRleHRWaWRlby52aWRlb1dpZHRoLnZhbHVlKSA/IGNvbnRleHRWaWRlby52aWRlb1dpZHRoLnZhbHVlIDogdGhpcy5jb250ZXh0Lm9wdGlvbi52aWRlb1dpZHRoKTtcbiAgICAgICAgICAgIGNvbnN0IGggPSAoL15cXGQrJC8udGVzdChjb250ZXh0VmlkZW8udmlkZW9IZWlnaHQudmFsdWUpID8gY29udGV4dFZpZGVvLnZpZGVvSGVpZ2h0LnZhbHVlIDogdGhpcy5jb250ZXh0Lm9wdGlvbi52aWRlb0hlaWdodCk7XG4gICAgICAgICAgICBsZXQgcmVzaXppbmdEaXYgPSBudWxsO1xuICAgICAgICAgICAgbGV0IG9JZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGNvdmVyID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHVybCA9IGNvbnRleHRWaWRlby5mb2N1c0VsZW1lbnQudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgY29udGV4dFZpZGVvLl9hbGlnbiA9IGNvbnRleHRWaWRlby5tb2RhbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic3VuZWRpdG9yX3ZpZGVvX3JhZGlvXCJdOmNoZWNrZWQnKS52YWx1ZTtcblxuICAgICAgICAgICAgLyoqIGlmcmFtZSBzb3VyY2UgKi9cbiAgICAgICAgICAgIGlmICgvXjxpZnJhbWUuKlxcL2lmcmFtZT4kLy50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgICAgICBvSWZyYW1lID0gKG5ldyBET01QYXJzZXIoKSkucGFyc2VGcm9tU3RyaW5nKHVybCwgJ3RleHQvaHRtbCcpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpZnJhbWUnKVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKiB1cmwgKi9cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9JZnJhbWUgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0lGUkFNRScpO1xuICAgICAgICAgICAgICAgIC8qKiB5b3V0dWJlICovXG4gICAgICAgICAgICAgICAgaWYgKC95b3V0dVxcLj9iZS8udGVzdCh1cmwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCd3YXRjaD92PScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEvXlxcL1xcLy4rXFwvZW1iZWRcXC8vLnRlc3QodXJsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UodXJsLm1hdGNoKC9cXC9cXC8uK1xcLy8pWzBdLCAnLy93d3cueW91dHViZS5jb20vZW1iZWQvJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb0lmcmFtZS5zcmMgPSB1cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKiB1cGRhdGUgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuZGlhbG9nLnVwZGF0ZU1vZGFsKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFZpZGVvLl9lbGVtZW50LnNyYyA9IG9JZnJhbWUuc3JjO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRleHRWaWRlby5fY29udGFpbmVyO1xuICAgICAgICAgICAgICAgIGNvdmVyID0gdXRpbC5nZXRQYXJlbnRFbGVtZW50KGNvbnRleHRWaWRlby5fZWxlbWVudCwgJy5zdW4tZWRpdG9yLWZpZ3VyZS1jb3ZlcicpO1xuICAgICAgICAgICAgICAgIG9JZnJhbWUgPSBjb250ZXh0VmlkZW8uX2VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgcmVzaXppbmdEaXYgPSBjb250ZXh0VmlkZW8uX3Jlc2l6aW5nRGl2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqIGNyZWF0ZSAqL1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb0lmcmFtZS5mcmFtZUJvcmRlciA9ICcwJztcbiAgICAgICAgICAgICAgICBvSWZyYW1lLmFsbG93RnVsbHNjcmVlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgb0lmcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgb0lmcmFtZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdvcmlnaW4tc2l6ZScsIHRoaXMub2Zmc2V0V2lkdGggKyAnLCcgKyB0aGlzLm9mZnNldEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbicsIHRoaXMub2Zmc2V0V2lkdGggKyAnLCcgKyB0aGlzLm9mZnNldEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0uYmluZChvSWZyYW1lKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0VmlkZW8uX2VsZW1lbnQgPSBvSWZyYW1lO1xuXG4gICAgICAgICAgICAgICAgLyoqIGNvdmVyICovXG4gICAgICAgICAgICAgICAgY292ZXIgPSB0aGlzLnBsdWdpbnMucmVzaXppbmcuc2V0X2NvdmVyLmNhbGwodGhpcywgb0lmcmFtZSk7XG5cbiAgICAgICAgICAgICAgICAvKiogcmVzaXppbmdEaXYgKi9cbiAgICAgICAgICAgICAgICBjb250ZXh0VmlkZW8uX3Jlc2l6aW5nRGl2ID0gcmVzaXppbmdEaXYgPSB1dGlsLmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICAgICAgICAgICAgICAgIHJlc2l6aW5nRGl2LmNsYXNzTmFtZSA9ICdzdW4tZWRpdG9yLWlkLWlmcmFtZS1pbm5lci1yZXNpemluZy1jb3Zlcic7XG4gICAgICAgICAgICAgICAgY292ZXIuYXBwZW5kQ2hpbGQocmVzaXppbmdEaXYpO1xuXG4gICAgICAgICAgICAgICAgLyoqIGNvbnRhaW5lciAqL1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMucGx1Z2lucy5yZXNpemluZy5zZXRfY29udGFpbmVyLmNhbGwodGhpcywgY292ZXIsICdzdW4tZWRpdG9yLWlkLWlmcmFtZS1jb250YWluZXInKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2hhbmdlU2l6ZSA9IHcgKiAxICE9PSBvSWZyYW1lLm9mZnNldFdpZHRoIHx8IGggKiAxICE9PSBvSWZyYW1lLm9mZnNldEhlaWdodDtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHRWaWRlby5fcmVzaXppbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQudmlkZW8uX3Byb3BvcnRpb25DaGVja2VkID0gY29udGV4dFZpZGVvLnByb3BvcnRpb24uY2hlY2tlZDtcbiAgICAgICAgICAgICAgICBvSWZyYW1lLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9wb3J0aW9uJywgY29udGV4dFZpZGVvLl9wcm9wb3J0aW9uQ2hlY2tlZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNhcHRpb25cbiAgICAgICAgICAgIGlmIChjb250ZXh0VmlkZW8uX2NhcHRpb25DaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0VmlkZW8uX2NhcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFZpZGVvLl9jYXB0aW9uID0gdGhpcy5wbHVnaW5zLnJlc2l6aW5nLmNyZWF0ZV9jYXB0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyLmFwcGVuZENoaWxkKGNvbnRleHRWaWRlby5fY2FwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dFZpZGVvLl9jYXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwucmVtb3ZlSXRlbShjb250ZXh0VmlkZW8uX2NhcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0VmlkZW8uX2NhcHRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2l6ZVxuICAgICAgICAgICAgaWYgKGNoYW5nZVNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbnMudmlkZW8uc2V0U2l6ZS5jYWxsKHRoaXMsIHcsIGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhbGlnblxuICAgICAgICAgICAgaWYgKGNvbnRleHRWaWRlby5fYWxpZ24gJiYgJ25vbmUnICE9PSBjb250ZXh0VmlkZW8uX2FsaWduKSB7XG4gICAgICAgICAgICAgICAgY292ZXIuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb3Zlci5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCB0aGlzLmNvbnRleHQudmlkZW8uX2Zsb2F0Q2xhc3NSZWdFeHApO1xuICAgICAgICAgICAgdXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdmbG9hdC0nICsgY29udGV4dFZpZGVvLl9hbGlnbik7XG4gICAgICAgICAgICBvSWZyYW1lLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbicsIGNvbnRleHRWaWRlby5fYWxpZ24pO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udGV4dC5kaWFsb2cudXBkYXRlTW9kYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydE5vZGUoY29udGFpbmVyLCB1dGlsLmdldEZvcm1hdEVsZW1lbnQodGhpcy5nZXRTZWxlY3Rpb25Ob2RlKCkpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEZvcm1hdFRhZyhjb250YWluZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKChjb250ZXh0VmlkZW8uX3Jlc2l6aW5nICYmIGNoYW5nZVNpemUpIHx8ICh0aGlzLmNvbnRleHQucmVzaXppbmcuX3JvdGF0ZVZlcnRpY2FsICYmIGNvbnRleHRWaWRlby5fY2FwdGlvbkNoZWNrZWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2l6aW5nLnNldFRyYW5zZm9ybVNpemUuY2FsbCh0aGlzLCBvSWZyYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1Ym1pdEFjdGlvbigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLmRpYWxvZy5jbG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZUxvYWRpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9jdXMoKTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIHNpemVSZXZlcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dFZpZGVvID0gdGhpcy5jb250ZXh0LnZpZGVvO1xuICAgICAgICBpZiAoY29udGV4dFZpZGVvLl9vcmlnaW5fdykge1xuICAgICAgICAgICAgY29udGV4dFZpZGVvLnZpZGVvV2lkdGgudmFsdWUgPSBjb250ZXh0VmlkZW8uX2VsZW1lbnRfdyA9IGNvbnRleHRWaWRlby5fb3JpZ2luX3c7XG4gICAgICAgICAgICBjb250ZXh0VmlkZW8udmlkZW9IZWlnaHQudmFsdWUgPSBjb250ZXh0VmlkZW8uX2VsZW1lbnRfaCA9IGNvbnRleHRWaWRlby5fb3JpZ2luX2g7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25Nb2RpZnlNb2RlOiBmdW5jdGlvbiAoZWxlbWVudCwgc2l6ZSkge1xuICAgICAgICBjb25zdCBjb250ZXh0VmlkZW8gPSB0aGlzLmNvbnRleHQudmlkZW87XG4gICAgICAgIGNvbnRleHRWaWRlby5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGNvbnRleHRWaWRlby5fY292ZXIgPSB1dGlsLmdldFBhcmVudEVsZW1lbnQoZWxlbWVudCwgJy5zdW4tZWRpdG9yLWZpZ3VyZS1jb3ZlcicpO1xuICAgICAgICBjb250ZXh0VmlkZW8uX2NvbnRhaW5lciA9IHV0aWwuZ2V0UGFyZW50RWxlbWVudChlbGVtZW50LCAnLnN1bi1lZGl0b3ItaWQtaWZyYW1lLWNvbnRhaW5lcicpO1xuICAgICAgICBjb250ZXh0VmlkZW8uX2NhcHRpb24gPSB1dGlsLmdldENoaWxkRWxlbWVudChjb250ZXh0VmlkZW8uX2NvdmVyLCAnRklHQ0FQVElPTicpO1xuICAgICAgICBjb250ZXh0VmlkZW8uX3Jlc2l6aW5nRGl2ID0gdXRpbC5nZXRDaGlsZEVsZW1lbnQoY29udGV4dFZpZGVvLl9jb3ZlciwgJy5zdW4tZWRpdG9yLWlkLWlmcmFtZS1pbm5lci1yZXNpemluZy1jb3ZlcicpO1xuXG4gICAgICAgIGNvbnRleHRWaWRlby5fYWxpZ24gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbicpIHx8ICdub25lJztcblxuICAgICAgICBjb250ZXh0VmlkZW8uX2VsZW1lbnRfdyA9IHNpemUudztcbiAgICAgICAgY29udGV4dFZpZGVvLl9lbGVtZW50X2ggPSBzaXplLmg7XG4gICAgICAgIGNvbnRleHRWaWRlby5fZWxlbWVudF90ID0gc2l6ZS50O1xuICAgICAgICBjb250ZXh0VmlkZW8uX2VsZW1lbnRfbCA9IHNpemUubDtcblxuICAgICAgICBsZXQgb3JpZ2luID0gY29udGV4dFZpZGVvLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW4nKTtcbiAgICAgICAgaWYgKG9yaWdpbikge1xuICAgICAgICAgICAgb3JpZ2luID0gb3JpZ2luLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICBjb250ZXh0VmlkZW8uX29yaWdpbl93ID0gb3JpZ2luWzBdICogMTtcbiAgICAgICAgICAgIGNvbnRleHRWaWRlby5fb3JpZ2luX2ggPSBvcmlnaW5bMV0gKiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dFZpZGVvLl9vcmlnaW5fdyA9IHNpemUudztcbiAgICAgICAgICAgIGNvbnRleHRWaWRlby5fb3JpZ2luX2ggPSBzaXplLmg7XG4gICAgICAgICAgICBjb250ZXh0VmlkZW8uX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbicsIHNpemUudyArICcsJyArIHNpemUuaCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb3Blbk1vZGlmeTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0VmlkZW8gPSB0aGlzLmNvbnRleHQudmlkZW87XG5cbiAgICAgICAgY29udGV4dFZpZGVvLmZvY3VzRWxlbWVudC52YWx1ZSA9IGNvbnRleHRWaWRlby5fZWxlbWVudC5zcmM7XG4gICAgICAgIGNvbnRleHRWaWRlby52aWRlb1dpZHRoLnZhbHVlID0gY29udGV4dFZpZGVvLl9lbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICBjb250ZXh0VmlkZW8udmlkZW9IZWlnaHQudmFsdWUgPSBjb250ZXh0VmlkZW8uX2VsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBjb250ZXh0VmlkZW8uX2NhcHRpb25DaGVja2VkID0gY29udGV4dFZpZGVvLmNhcHRpb25DaGVja0VsLmNoZWNrZWQgPSAhIWNvbnRleHRWaWRlby5fY2FwdGlvbjtcbiAgICAgICAgY29udGV4dFZpZGVvLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzdW5lZGl0b3JfdmlkZW9fcmFkaW9cIl1bdmFsdWU9XCInICsgY29udGV4dFZpZGVvLl9hbGlnbiArICdcIl0nKS5jaGVja2VkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoY29udGV4dFZpZGVvLl9yZXNpemluZykge1xuICAgICAgICAgICAgY29udGV4dFZpZGVvLnByb3BvcnRpb24uY2hlY2tlZCA9IGNvbnRleHRWaWRlby5fcHJvcG9ydGlvbkNoZWNrZWQgPSBjb250ZXh0VmlkZW8uX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXByb3BvcnRpb24nKSA9PT0gJ3RydWUnO1xuICAgICAgICAgICAgY29udGV4dFZpZGVvLnByb3BvcnRpb24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucy5kaWFsb2cub3Blbi5jYWxsKHRoaXMsICd2aWRlbycsIHRydWUpO1xuICAgIH0sXG5cbiAgICBzZXRTaXplOiBmdW5jdGlvbiAodywgaCwgaXNWZXJ0aWNhbCkge1xuICAgICAgICBjb25zdCBjb250ZXh0VmlkZW8gPSB0aGlzLmNvbnRleHQudmlkZW87XG4gICAgICAgIGNvbnRleHRWaWRlby5fZWxlbWVudC5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuICAgICAgICBjb250ZXh0VmlkZW8uX2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaCArICdweCc7XG4gICAgICAgIGNvbnRleHRWaWRlby5fcmVzaXppbmdEaXYuc3R5bGUuaGVpZ2h0ID0gKGlzVmVydGljYWwgPyB3IDogaCkgKyAncHgnO1xuICAgIH0sXG5cbiAgICBzZXRQZXJjZW50U2l6ZTogZnVuY3Rpb24gKHcpIHtcbiAgICAgICAgY29uc3QgY29udGV4dFZpZGVvID0gdGhpcy5jb250ZXh0LnZpZGVvO1xuXG4gICAgICAgIGNvbnRleHRWaWRlby5fY29udGFpbmVyLnN0eWxlLndpZHRoID0gdztcbiAgICAgICAgY29udGV4dFZpZGVvLl9jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGNvbnRleHRWaWRlby5fY292ZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGNvbnRleHRWaWRlby5fY292ZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGNvbnRleHRWaWRlby5fZWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgY29udGV4dFZpZGVvLl9lbGVtZW50LnN0eWxlLmhlaWdodCA9IGNvbnRleHRWaWRlby5fcmVzaXppbmdEaXYuc3R5bGUuaGVpZ2h0ID0gKChjb250ZXh0VmlkZW8uX29yaWdpbl9oIC8gY29udGV4dFZpZGVvLl9vcmlnaW5fdykgKiBjb250ZXh0VmlkZW8uX2VsZW1lbnQub2Zmc2V0V2lkdGgpICsgJ3B4JztcblxuICAgICAgICBpZiAoLzEwMC8udGVzdCh3KSkge1xuICAgICAgICAgICAgdXRpbC5yZW1vdmVDbGFzcyhjb250ZXh0VmlkZW8uX2NvbnRhaW5lciwgdGhpcy5jb250ZXh0LnZpZGVvLl9mbG9hdENsYXNzUmVnRXhwKTtcbiAgICAgICAgICAgIHV0aWwuYWRkQ2xhc3MoY29udGV4dFZpZGVvLl9jb250YWluZXIsICdmbG9hdC1jZW50ZXInKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjYW5jZWxQZXJjZW50QXR0cjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0VmlkZW8gPSB0aGlzLmNvbnRleHQudmlkZW87XG4gICAgICAgIFxuICAgICAgICBjb250ZXh0VmlkZW8uX2NvdmVyLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIGNvbnRleHRWaWRlby5fY292ZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGNvbnRleHRWaWRlby5fY29udGFpbmVyLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIGNvbnRleHRWaWRlby5fY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcnO1xuXG4gICAgICAgIHV0aWwucmVtb3ZlQ2xhc3MoY29udGV4dFZpZGVvLl9jb250YWluZXIsIHRoaXMuY29udGV4dC52aWRlby5fZmxvYXRDbGFzc1JlZ0V4cCk7XG4gICAgICAgIHV0aWwuYWRkQ2xhc3MoY29udGV4dFZpZGVvLl9jb250YWluZXIsICdmbG9hdC0nICsgY29udGV4dFZpZGVvLl9hbGlnbik7XG4gICAgfSxcblxuICAgIHJlc2V0QWxpZ246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dFZpZGVvID0gdGhpcy5jb250ZXh0LnZpZGVvO1xuXG4gICAgICAgIGNvbnRleHRWaWRlby5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWxpZ24nLCAnJyk7XG4gICAgICAgIGNvbnRleHRWaWRlby5fYWxpZ24gPSAnbm9uZSc7XG4gICAgICAgIGNvbnRleHRWaWRlby5fY292ZXIuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICB1dGlsLnJlbW92ZUNsYXNzKGNvbnRleHRWaWRlby5fY29udGFpbmVyLCBjb250ZXh0VmlkZW8uX2Zsb2F0Q2xhc3NSZWdFeHApO1xuICAgIH0sXG5cbiAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHV0aWwucmVtb3ZlSXRlbSh0aGlzLmNvbnRleHQudmlkZW8uX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMucGx1Z2lucy52aWRlby5pbml0LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlcnNPZmYoKTtcbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0VmlkZW8gPSB0aGlzLmNvbnRleHQudmlkZW87XG4gICAgICAgIGNvbnRleHRWaWRlby5mb2N1c0VsZW1lbnQudmFsdWUgPSAnJztcbiAgICAgICAgY29udGV4dFZpZGVvLmNhcHRpb25DaGVja0VsLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgY29udGV4dFZpZGVvLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzdW5lZGl0b3JfdmlkZW9fcmFkaW9cIl1bdmFsdWU9XCJub25lXCJdJykuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBpZiAoY29udGV4dFZpZGVvLl9yZXNpemluZykge1xuICAgICAgICAgICAgY29udGV4dFZpZGVvLnZpZGVvV2lkdGgudmFsdWUgPSB0aGlzLmNvbnRleHQub3B0aW9uLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICBjb250ZXh0VmlkZW8udmlkZW9IZWlnaHQudmFsdWUgPSB0aGlzLmNvbnRleHQub3B0aW9uLnZpZGVvSGVpZ2h0O1xuICAgICAgICAgICAgY29udGV4dFZpZGVvLnByb3BvcnRpb24uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBjb250ZXh0VmlkZW8ucHJvcG9ydGlvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3VuZWRpdG9yL3NyYy9wbHVnaW5zL2RpYWxvZy92aWRlby5qc1xuLy8gbW9kdWxlIGlkID0gMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///37\n");

/***/ })
/******/ ]);